\doxysection{gtest-\/port.h}
\hypertarget{gtest-port_8h_source}{}\label{gtest-port_8h_source}\index{lib/googletest-\/master/googletest/include/gtest/internal/gtest-\/port.h@{lib/googletest-\/master/googletest/include/gtest/internal/gtest-\/port.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2005,\ Google\ Inc.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ All\ rights\ reserved.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Redistribution\ and\ use\ in\ source\ and\ binary\ forms,\ with\ or\ without}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ modification,\ are\ permitted\ provided\ that\ the\ following\ conditions\ are}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ met:}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ of\ source\ code\ must\ retain\ the\ above\ copyright}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer.}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ in\ binary\ form\ must\ reproduce\ the\ above}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ copyright\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ in\ the\ documentation\ and/or\ other\ materials\ provided\ with\ the}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ distribution.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ \ \ \ \ *\ Neither\ the\ name\ of\ Google\ Inc.\ nor\ the\ names\ of\ its}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ contributors\ may\ be\ used\ to\ endorse\ or\ promote\ products\ derived\ from}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ this\ software\ without\ specific\ prior\ written\ permission.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ THIS\ SOFTWARE\ IS\ PROVIDED\ BY\ THE\ COPYRIGHT\ HOLDERS\ AND\ CONTRIBUTORS}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ "{}AS\ IS"{}\ AND\ ANY\ EXPRESS\ OR\ IMPLIED\ WARRANTIES,\ INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ LIMITED\ TO,\ THE\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY\ AND\ FITNESS\ FOR}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ A\ PARTICULAR\ PURPOSE\ ARE\ DISCLAIMED.\ IN\ NO\ EVENT\ SHALL\ THE\ COPYRIGHT}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ OWNER\ OR\ CONTRIBUTORS\ BE\ LIABLE\ FOR\ ANY\ DIRECT,\ INDIRECT,\ INCIDENTAL,}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ SPECIAL,\ EXEMPLARY,\ OR\ CONSEQUENTIAL\ DAMAGES\ (INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ LIMITED\ TO,\ PROCUREMENT\ OF\ SUBSTITUTE\ GOODS\ OR\ SERVICES;\ LOSS\ OF\ USE,}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ DATA,\ OR\ PROFITS;\ OR\ BUSINESS\ INTERRUPTION)\ HOWEVER\ CAUSED\ AND\ ON\ ANY}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ THEORY\ OF\ LIABILITY,\ WHETHER\ IN\ CONTRACT,\ STRICT\ LIABILITY,\ OR\ TORT}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ (INCLUDING\ NEGLIGENCE\ OR\ OTHERWISE)\ ARISING\ IN\ ANY\ WAY\ OUT\ OF\ THE\ USE}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ OF\ THIS\ SOFTWARE,\ EVEN\ IF\ ADVISED\ OF\ THE\ POSSIBILITY\ OF\ SUCH\ DAMAGE.}}
\DoxyCodeLine{00029\ \textcolor{comment}{//}}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ Low-\/level\ types\ and\ utilities\ for\ porting\ Google\ Test\ to\ various}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ platforms.\ \ All\ macros\ ending\ with\ \_\ and\ symbols\ defined\ in\ an}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ internal\ namespace\ are\ subject\ to\ change\ without\ notice.\ \ Code}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ outside\ Google\ Test\ MUST\ NOT\ USE\ THEM\ DIRECTLY.\ \ Macros\ that\ don't}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ end\ with\ \_\ are\ part\ of\ Google\ Test's\ public\ API\ and\ can\ be\ used\ by}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ code\ outside\ Google\ Test.}}
\DoxyCodeLine{00036\ \textcolor{comment}{//}}
\DoxyCodeLine{00037\ \textcolor{comment}{//\ This\ file\ is\ fundamental\ to\ Google\ Test.\ \ All\ other\ Google\ Test\ source}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ files\ are\ expected\ to\ \#include\ this.\ \ Therefore,\ it\ cannot\ \#include}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ any\ other\ Google\ Test\ header.}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#ifndef\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{//\ Environment-\/describing\ macros}}
\DoxyCodeLine{00045\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00046\ \textcolor{comment}{//}}
\DoxyCodeLine{00047\ \textcolor{comment}{//\ Google\ Test\ can\ be\ used\ in\ many\ different\ environments.\ \ Macros\ in}}
\DoxyCodeLine{00048\ \textcolor{comment}{//\ this\ section\ tell\ Google\ Test\ what\ kind\ of\ environment\ it\ is\ being}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ used\ in,\ such\ that\ Google\ Test\ can\ provide\ environment-\/specific}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ features\ and\ implementations.}}
\DoxyCodeLine{00051\ \textcolor{comment}{//}}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ Google\ Test\ tries\ to\ automatically\ detect\ the\ properties\ of\ its}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ environment,\ so\ users\ usually\ don't\ need\ to\ worry\ about\ these}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ macros.\ \ However,\ the\ automatic\ detection\ is\ not\ perfect.}}
\DoxyCodeLine{00055\ \textcolor{comment}{//\ Sometimes\ it's\ necessary\ for\ a\ user\ to\ define\ some\ of\ the\ following}}
\DoxyCodeLine{00056\ \textcolor{comment}{//\ macros\ in\ the\ build\ script\ to\ override\ Google\ Test's\ decisions.}}
\DoxyCodeLine{00057\ \textcolor{comment}{//}}
\DoxyCodeLine{00058\ \textcolor{comment}{//\ If\ the\ user\ doesn't\ define\ a\ macro\ in\ the\ list,\ Google\ Test\ will}}
\DoxyCodeLine{00059\ \textcolor{comment}{//\ provide\ a\ default\ definition.\ \ After\ this\ header\ is\ \#included,\ all}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ macros\ in\ this\ list\ will\ be\ defined\ to\ either\ 1\ or\ 0.}}
\DoxyCodeLine{00061\ \textcolor{comment}{//}}
\DoxyCodeLine{00062\ \textcolor{comment}{//\ Notes\ to\ maintainers:}}
\DoxyCodeLine{00063\ \textcolor{comment}{//\ \ \ -\/\ Each\ macro\ here\ is\ a\ user-\/tweakable\ knob;\ do\ not\ grow\ the\ list}}
\DoxyCodeLine{00064\ \textcolor{comment}{//\ \ \ \ \ lightly.}}
\DoxyCodeLine{00065\ \textcolor{comment}{//\ \ \ -\/\ Use\ \#if\ to\ key\ off\ these\ macros.\ \ Don't\ use\ \#ifdef\ or\ "{}\#if}}
\DoxyCodeLine{00066\ \textcolor{comment}{//\ \ \ \ \ defined(...)"{},\ which\ will\ not\ work\ as\ these\ macros\ are\ ALWAYS}}
\DoxyCodeLine{00067\ \textcolor{comment}{//\ \ \ \ \ defined.}}
\DoxyCodeLine{00068\ \textcolor{comment}{//}}
\DoxyCodeLine{00069\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_CLONE\ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ clone(2)}}
\DoxyCodeLine{00070\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is/isn't\ available.}}
\DoxyCodeLine{00071\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_EXCEPTIONS\ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ exceptions}}
\DoxyCodeLine{00072\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ are\ enabled.}}
\DoxyCodeLine{00073\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_POSIX\_RE\ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ POSIX\ regular}}
\DoxyCodeLine{00074\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expressions\ are/aren't\ available.}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_PTHREAD\ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ <pthread.h>}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is/isn't\ available.}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_RTTI\ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that\ RTTI\ is/isn't}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enabled.}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_STD\_WSTRING\ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ that}}
\DoxyCodeLine{00080\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::wstring\ does/doesn't\ work\ (Google\ Test\ can}}
\DoxyCodeLine{00081\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ be\ used\ where\ std::wstring\ is\ unavailable).}}
\DoxyCodeLine{00082\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_SEH\ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ whether\ the}}
\DoxyCodeLine{00083\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ compiler\ supports\ Microsoft's\ "{}Structured}}
\DoxyCodeLine{00084\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exception\ Handling"{}.}}
\DoxyCodeLine{00085\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00086\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ it\ to\ 1/0\ to\ indicate\ whether\ the}}
\DoxyCodeLine{00087\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ platform\ supports\ I/O\ stream\ redirection\ using}}
\DoxyCodeLine{00088\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dup()\ and\ dup2().}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ \ \ GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{00090\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ to\ 1\ when\ compiling\ tests\ that\ use}}
\DoxyCodeLine{00091\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Google\ Test\ as\ a\ shared\ library\ (known\ as}}
\DoxyCodeLine{00092\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DLL\ on\ Windows).}}
\DoxyCodeLine{00093\ \textcolor{comment}{//\ \ \ GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{00094\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ Define\ to\ 1\ when\ compiling\ Google\ Test\ itself}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ as\ a\ shared\ library.}}
\DoxyCodeLine{00096\ \textcolor{comment}{//\ \ \ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00097\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ The\ default\ value\ of\ -\/-\/gtest\_death\_test\_style.}}
\DoxyCodeLine{00098\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ The\ legacy\ default\ has\ been\ "{}fast"{}\ in\ the\ open}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source\ version\ since\ 2008.\ The\ recommended\ value}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ "{}threadsafe"{},\ and\ can\ be\ set\ in}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ custom/gtest-\/port.h.}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{comment}{//\ Platform-\/indicating\ macros}}
\DoxyCodeLine{00104\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00105\ \textcolor{comment}{//}}
\DoxyCodeLine{00106\ \textcolor{comment}{//\ Macros\ indicating\ the\ platform\ on\ which\ Google\ Test\ is\ being\ used}}
\DoxyCodeLine{00107\ \textcolor{comment}{//\ (a\ macro\ is\ defined\ to\ 1\ if\ compiled\ on\ the\ given\ platform;}}
\DoxyCodeLine{00108\ \textcolor{comment}{//\ otherwise\ UNDEFINED\ -\/-\/\ it's\ never\ defined\ to\ 0.).\ \ Google\ Test}}
\DoxyCodeLine{00109\ \textcolor{comment}{//\ defines\ these\ macros\ automatically.\ \ Code\ outside\ Google\ Test\ MUST}}
\DoxyCodeLine{00110\ \textcolor{comment}{//\ NOT\ define\ them.}}
\DoxyCodeLine{00111\ \textcolor{comment}{//}}
\DoxyCodeLine{00112\ \textcolor{comment}{//\ \ \ GTEST\_OS\_AIX\ \ \ \ \ \ -\/\ IBM\ AIX}}
\DoxyCodeLine{00113\ \textcolor{comment}{//\ \ \ GTEST\_OS\_CYGWIN\ \ \ -\/\ Cygwin}}
\DoxyCodeLine{00114\ \textcolor{comment}{//\ \ \ GTEST\_OS\_DRAGONFLY\ -\/\ DragonFlyBSD}}
\DoxyCodeLine{00115\ \textcolor{comment}{//\ \ \ GTEST\_OS\_FREEBSD\ \ -\/\ FreeBSD}}
\DoxyCodeLine{00116\ \textcolor{comment}{//\ \ \ GTEST\_OS\_FUCHSIA\ \ -\/\ Fuchsia}}
\DoxyCodeLine{00117\ \textcolor{comment}{//\ \ \ GTEST\_OS\_GNU\_HURD\ -\/\ GNU/Hurd}}
\DoxyCodeLine{00118\ \textcolor{comment}{//\ \ \ GTEST\_OS\_GNU\_KFREEBSD\ -\/\ GNU/kFreeBSD}}
\DoxyCodeLine{00119\ \textcolor{comment}{//\ \ \ GTEST\_OS\_HAIKU\ \ \ \ -\/\ Haiku}}
\DoxyCodeLine{00120\ \textcolor{comment}{//\ \ \ GTEST\_OS\_HPUX\ \ \ \ \ -\/\ HP-\/UX}}
\DoxyCodeLine{00121\ \textcolor{comment}{//\ \ \ GTEST\_OS\_LINUX\ \ \ \ -\/\ Linux}}
\DoxyCodeLine{00122\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_LINUX\_ANDROID\ -\/\ Google\ Android}}
\DoxyCodeLine{00123\ \textcolor{comment}{//\ \ \ GTEST\_OS\_MAC\ \ \ \ \ \ -\/\ Mac\ OS\ X}}
\DoxyCodeLine{00124\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_IOS\ \ \ \ -\/\ iOS}}
\DoxyCodeLine{00125\ \textcolor{comment}{//\ \ \ GTEST\_OS\_NACL\ \ \ \ \ -\/\ Google\ Native\ Client\ (NaCl)}}
\DoxyCodeLine{00126\ \textcolor{comment}{//\ \ \ GTEST\_OS\_NETBSD\ \ \ -\/\ NetBSD}}
\DoxyCodeLine{00127\ \textcolor{comment}{//\ \ \ GTEST\_OS\_OPENBSD\ \ -\/\ OpenBSD}}
\DoxyCodeLine{00128\ \textcolor{comment}{//\ \ \ GTEST\_OS\_OS2\ \ \ \ \ \ -\/\ OS/2}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ \ \ GTEST\_OS\_QNX\ \ \ \ \ \ -\/\ QNX}}
\DoxyCodeLine{00130\ \textcolor{comment}{//\ \ \ GTEST\_OS\_SOLARIS\ \ -\/\ Sun\ Solaris}}
\DoxyCodeLine{00131\ \textcolor{comment}{//\ \ \ GTEST\_OS\_WINDOWS\ \ -\/\ Windows\ (Desktop,\ MinGW,\ or\ Mobile)}}
\DoxyCodeLine{00132\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_DESKTOP\ \ -\/\ Windows\ Desktop}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_MINGW\ \ \ \ -\/\ MinGW}}
\DoxyCodeLine{00134\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_MOBILE\ \ \ -\/\ Windows\ Mobile}}
\DoxyCodeLine{00135\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_PHONE\ \ \ \ -\/\ Windows\ Phone}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ \ \ \ \ GTEST\_OS\_WINDOWS\_RT\ \ \ \ \ \ \ -\/\ Windows\ Store\ App/WinRT}}
\DoxyCodeLine{00137\ \textcolor{comment}{//\ \ \ GTEST\_OS\_ZOS\ \ \ \ \ \ -\/\ z/OS}}
\DoxyCodeLine{00138\ \textcolor{comment}{//}}
\DoxyCodeLine{00139\ \textcolor{comment}{//\ Among\ the\ platforms,\ Cygwin,\ Linux,\ Mac\ OS\ X,\ and\ Windows\ have\ the}}
\DoxyCodeLine{00140\ \textcolor{comment}{//\ most\ stable\ support.\ \ Since\ core\ members\ of\ the\ Google\ Test\ project}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ don't\ have\ access\ to\ other\ platforms,\ support\ for\ them\ may\ be\ less}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ stable.\ \ If\ you\ notice\ any\ problems\ on\ your\ platform,\ please\ notify}}
\DoxyCodeLine{00143\ \textcolor{comment}{//\ googletestframework@googlegroups.com\ (patches\ for\ fixing\ them\ are}}
\DoxyCodeLine{00144\ \textcolor{comment}{//\ even\ more\ welcome!).}}
\DoxyCodeLine{00145\ \textcolor{comment}{//}}
\DoxyCodeLine{00146\ \textcolor{comment}{//\ It\ is\ possible\ that\ none\ of\ the\ GTEST\_OS\_*\ macros\ are\ defined.}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{comment}{//\ Feature-\/indicating\ macros}}
\DoxyCodeLine{00149\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00150\ \textcolor{comment}{//}}
\DoxyCodeLine{00151\ \textcolor{comment}{//\ Macros\ indicating\ which\ Google\ Test\ features\ are\ available\ (a\ macro}}
\DoxyCodeLine{00152\ \textcolor{comment}{//\ is\ defined\ to\ 1\ if\ the\ corresponding\ feature\ is\ supported;}}
\DoxyCodeLine{00153\ \textcolor{comment}{//\ otherwise\ UNDEFINED\ -\/-\/\ it's\ never\ defined\ to\ 0.).\ \ Google\ Test}}
\DoxyCodeLine{00154\ \textcolor{comment}{//\ defines\ these\ macros\ automatically.\ \ Code\ outside\ Google\ Test\ MUST}}
\DoxyCodeLine{00155\ \textcolor{comment}{//\ NOT\ define\ them.}}
\DoxyCodeLine{00156\ \textcolor{comment}{//}}
\DoxyCodeLine{00157\ \textcolor{comment}{//\ These\ macros\ are\ public\ so\ that\ portable\ tests\ can\ be\ written.}}
\DoxyCodeLine{00158\ \textcolor{comment}{//\ Such\ tests\ typically\ surround\ code\ using\ a\ feature\ with\ an\ \#if}}
\DoxyCodeLine{00159\ \textcolor{comment}{//\ which\ controls\ that\ code.\ \ For\ example:}}
\DoxyCodeLine{00160\ \textcolor{comment}{//}}
\DoxyCodeLine{00161\ \textcolor{comment}{//\ \#if\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{00162\ \textcolor{comment}{//\ \ \ EXPECT\_DEATH(DoSomethingDeadly());}}
\DoxyCodeLine{00163\ \textcolor{comment}{//\ \#endif}}
\DoxyCodeLine{00164\ \textcolor{comment}{//}}
\DoxyCodeLine{00165\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_DEATH\_TEST\ \ \ -\/\ death\ tests}}
\DoxyCodeLine{00166\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_TYPED\_TEST\ \ \ -\/\ typed\ tests}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ \ \ GTEST\_HAS\_TYPED\_TEST\_P\ -\/\ type-\/parameterized\ tests}}
\DoxyCodeLine{00168\ \textcolor{comment}{//\ \ \ GTEST\_IS\_THREADSAFE\ \ \ \ -\/\ Google\ Test\ is\ thread-\/safe.}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ \ \ GTEST\_USES\_POSIX\_RE\ \ \ \ -\/\ enhanced\ POSIX\ regex\ is\ used.\ Do\ not\ confuse\ with}}
\DoxyCodeLine{00170\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTEST\_HAS\_POSIX\_RE\ (see\ above)\ which\ users\ can}}
\DoxyCodeLine{00171\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ define\ themselves.}}
\DoxyCodeLine{00172\ \textcolor{comment}{//\ \ \ GTEST\_USES\_SIMPLE\_RE\ \ \ -\/\ our\ own\ simple\ regex\ is\ used;}}
\DoxyCodeLine{00173\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ above\ RE\(\backslash\)b(s)\ are\ mutually\ exclusive.}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{comment}{//\ Misc\ public\ macros}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00177\ \textcolor{comment}{//}}
\DoxyCodeLine{00178\ \textcolor{comment}{//\ \ \ GTEST\_FLAG(flag\_name)\ \ -\/\ references\ the\ variable\ corresponding\ to}}
\DoxyCodeLine{00179\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ given\ Google\ Test\ flag.}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{comment}{//\ Internal\ utilities}}
\DoxyCodeLine{00182\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00183\ \textcolor{comment}{//}}
\DoxyCodeLine{00184\ \textcolor{comment}{//\ The\ following\ macros\ and\ utilities\ are\ for\ Google\ Test's\ INTERNAL}}
\DoxyCodeLine{00185\ \textcolor{comment}{//\ use\ only.\ \ Code\ outside\ Google\ Test\ MUST\ NOT\ USE\ THEM\ DIRECTLY.}}
\DoxyCodeLine{00186\ \textcolor{comment}{//}}
\DoxyCodeLine{00187\ \textcolor{comment}{//\ Macros\ for\ basic\ C++\ coding:}}
\DoxyCodeLine{00188\ \textcolor{comment}{//\ \ \ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ -\/\ for\ disabling\ a\ gcc\ warning.}}
\DoxyCodeLine{00189\ \textcolor{comment}{//\ \ \ GTEST\_ATTRIBUTE\_UNUSED\_\ \ -\/\ declares\ that\ a\ class'\ instances\ or\ a}}
\DoxyCodeLine{00190\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ variable\ don't\ have\ to\ be\ used.}}
\DoxyCodeLine{00191\ \textcolor{comment}{//\ \ \ GTEST\_DISALLOW\_ASSIGN\_\ \ \ -\/\ disables\ copy\ operator=.}}
\DoxyCodeLine{00192\ \textcolor{comment}{//\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_\ -\/\ disables\ copy\ ctor\ and\ operator=.}}
\DoxyCodeLine{00193\ \textcolor{comment}{//\ \ \ GTEST\_DISALLOW\_MOVE\_ASSIGN\_\ \ \ -\/\ disables\ move\ operator=.}}
\DoxyCodeLine{00194\ \textcolor{comment}{//\ \ \ GTEST\_DISALLOW\_MOVE\_AND\_ASSIGN\_\ -\/\ disables\ move\ ctor\ and\ operator=.}}
\DoxyCodeLine{00195\ \textcolor{comment}{//\ \ \ GTEST\_MUST\_USE\_RESULT\_\ \ \ -\/\ declares\ that\ a\ function's\ result\ must\ be\ used.}}
\DoxyCodeLine{00196\ \textcolor{comment}{//\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_\ -\/\ start\ code\ section\ where\ MSVC\ C4127\ is}}
\DoxyCodeLine{00197\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ suppressed\ (constant\ conditional).}}
\DoxyCodeLine{00198\ \textcolor{comment}{//\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_\ \ -\/\ finish\ code\ section\ where\ MSVC\ C4127}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\ suppressed.}}
\DoxyCodeLine{00200\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_HAS\_ANY\ -\/\ for\ enabling\ UniversalPrinter<std::any>\ or}}
\DoxyCodeLine{00201\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UniversalPrinter<absl::any>\ specializations.}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_HAS\_OPTIONAL\ -\/\ for\ enabling\ UniversalPrinter<std::optional>}}
\DoxyCodeLine{00203\ \textcolor{comment}{//\ \ \ or}}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UniversalPrinter<absl::optional>}}
\DoxyCodeLine{00205\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specializations.}}
\DoxyCodeLine{00206\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ -\/\ for\ enabling\ Matcher<std::string\_view>\ or}}
\DoxyCodeLine{00207\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Matcher<absl::string\_view>}}
\DoxyCodeLine{00208\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specializations.}}
\DoxyCodeLine{00209\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_HAS\_VARIANT\ -\/\ for\ enabling\ UniversalPrinter<std::variant>\ or}}
\DoxyCodeLine{00210\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UniversalPrinter<absl::variant>}}
\DoxyCodeLine{00211\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specializations.}}
\DoxyCodeLine{00212\ \textcolor{comment}{//}}
\DoxyCodeLine{00213\ \textcolor{comment}{//\ Synchronization:}}
\DoxyCodeLine{00214\ \textcolor{comment}{//\ \ \ Mutex,\ MutexLock,\ ThreadLocal,\ GetThreadCount()}}
\DoxyCodeLine{00215\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ synchronization\ primitives.}}
\DoxyCodeLine{00216\ \textcolor{comment}{//}}
\DoxyCodeLine{00217\ \textcolor{comment}{//\ Regular\ expressions:}}
\DoxyCodeLine{00218\ \textcolor{comment}{//\ \ \ RE\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ a\ simple\ regular\ expression\ class\ using\ the\ POSIX}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Extended\ Regular\ Expression\ syntax\ on\ UNIX-\/like\ platforms}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ or\ a\ reduced\ regular\ exception\ syntax\ on\ other}}
\DoxyCodeLine{00221\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ platforms,\ including\ Windows.}}
\DoxyCodeLine{00222\ \textcolor{comment}{//\ Logging:}}
\DoxyCodeLine{00223\ \textcolor{comment}{//\ \ \ GTEST\_LOG\_()\ \ \ -\/\ logs\ messages\ at\ the\ specified\ severity\ level.}}
\DoxyCodeLine{00224\ \textcolor{comment}{//\ \ \ LogToStderr()\ \ -\/\ directs\ all\ log\ messages\ to\ stderr.}}
\DoxyCodeLine{00225\ \textcolor{comment}{//\ \ \ FlushInfoLog()\ -\/\ flushes\ informational\ log\ messages.}}
\DoxyCodeLine{00226\ \textcolor{comment}{//}}
\DoxyCodeLine{00227\ \textcolor{comment}{//\ Stdout\ and\ stderr\ capturing:}}
\DoxyCodeLine{00228\ \textcolor{comment}{//\ \ \ CaptureStdout()\ \ \ \ \ -\/\ starts\ capturing\ stdout.}}
\DoxyCodeLine{00229\ \textcolor{comment}{//\ \ \ GetCapturedStdout()\ -\/\ stops\ capturing\ stdout\ and\ returns\ the\ captured}}
\DoxyCodeLine{00230\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ string.}}
\DoxyCodeLine{00231\ \textcolor{comment}{//\ \ \ CaptureStderr()\ \ \ \ \ -\/\ starts\ capturing\ stderr.}}
\DoxyCodeLine{00232\ \textcolor{comment}{//\ \ \ GetCapturedStderr()\ -\/\ stops\ capturing\ stderr\ and\ returns\ the\ captured}}
\DoxyCodeLine{00233\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ string.}}
\DoxyCodeLine{00234\ \textcolor{comment}{//}}
\DoxyCodeLine{00235\ \textcolor{comment}{//\ Integer\ types:}}
\DoxyCodeLine{00236\ \textcolor{comment}{//\ \ \ TypeWithSize\ \ \ -\/\ maps\ an\ integer\ to\ a\ int\ type.}}
\DoxyCodeLine{00237\ \textcolor{comment}{//\ \ \ TimeInMillis\ \ \ -\/\ integers\ of\ known\ sizes.}}
\DoxyCodeLine{00238\ \textcolor{comment}{//\ \ \ BiggestInt\ \ \ \ \ -\/\ the\ biggest\ signed\ integer\ type.}}
\DoxyCodeLine{00239\ \textcolor{comment}{//}}
\DoxyCodeLine{00240\ \textcolor{comment}{//\ Command-\/line\ utilities:}}
\DoxyCodeLine{00241\ \textcolor{comment}{//\ \ \ GTEST\_DECLARE\_*()\ \ -\/\ declares\ a\ flag.}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ \ \ GTEST\_DEFINE\_*()\ \ \ -\/\ defines\ a\ flag.}}
\DoxyCodeLine{00243\ \textcolor{comment}{//\ \ \ GetInjectableArgvs()\ -\/\ returns\ the\ command\ line\ as\ a\ vector\ of\ strings.}}
\DoxyCodeLine{00244\ \textcolor{comment}{//}}
\DoxyCodeLine{00245\ \textcolor{comment}{//\ Environment\ variable\ utilities:}}
\DoxyCodeLine{00246\ \textcolor{comment}{//\ \ \ GetEnv()\ \ \ \ \ \ \ \ \ \ \ \ \ -\/\ gets\ the\ value\ of\ an\ environment\ variable.}}
\DoxyCodeLine{00247\ \textcolor{comment}{//\ \ \ BoolFromGTestEnv()\ \ \ -\/\ parses\ a\ bool\ environment\ variable.}}
\DoxyCodeLine{00248\ \textcolor{comment}{//\ \ \ Int32FromGTestEnv()\ \ -\/\ parses\ an\ int32\_t\ environment\ variable.}}
\DoxyCodeLine{00249\ \textcolor{comment}{//\ \ \ StringFromGTestEnv()\ -\/\ parses\ a\ string\ environment\ variable.}}
\DoxyCodeLine{00250\ \textcolor{comment}{//}}
\DoxyCodeLine{00251\ \textcolor{comment}{//\ Deprecation\ warnings:}}
\DoxyCodeLine{00252\ \textcolor{comment}{//\ \ \ GTEST\_INTERNAL\_DEPRECATED(message)\ -\/\ attribute\ marking\ a\ function\ as}}
\DoxyCodeLine{00253\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ deprecated;\ calling\ a\ marked\ function}}
\DoxyCodeLine{00254\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ should\ generate\ a\ compiler\ warning}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#include\ <ctype.h>}\ \ \ \textcolor{comment}{//\ for\ isspace,\ etc}}
\DoxyCodeLine{00257\ \textcolor{preprocessor}{\#include\ <stddef.h>}\ \ \textcolor{comment}{//\ for\ ptrdiff\_t}}
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00260\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#include\ <cerrno>}}
\DoxyCodeLine{00263\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00265\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#ifndef\ \_WIN32\_WCE}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#\ include\ <sys/types.h>}}
\DoxyCodeLine{00269\ \textcolor{preprocessor}{\#\ include\ <sys/stat.h>}}
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !\_WIN32\_WCE}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#if\ defined\ \_\_APPLE\_\_}}
\DoxyCodeLine{00273\ \textcolor{preprocessor}{\#\ include\ <AvailabilityMacros.h>}}
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#\ include\ <TargetConditionals.h>}}
\DoxyCodeLine{00275\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\#include\ <iostream>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00278\ \textcolor{preprocessor}{\#include\ <locale>}}
\DoxyCodeLine{00279\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\#include\ <string>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00282\ \textcolor{preprocessor}{\#include\ <vector>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\#include\ "{}gtest/internal/custom/gtest-\/port.h"{}}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#include\ "{}gtest/internal/gtest-\/port-\/arch.h"{}}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\#\ define\ GTEST\_DEV\_EMAIL\_\ "{}googletestframework@@googlegroups.com"{}}}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#\ define\ GTEST\_FLAG\_PREFIX\_\ "{}gtest\_"{}}}
\DoxyCodeLine{00290\ \textcolor{preprocessor}{\#\ define\ GTEST\_FLAG\_PREFIX\_DASH\_\ "{}gtest-\/"{}}}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#\ define\ GTEST\_FLAG\_PREFIX\_UPPER\_\ "{}GTEST\_"{}}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#\ define\ GTEST\_NAME\_\ "{}Google\ Test"{}}}
\DoxyCodeLine{00293\ \textcolor{preprocessor}{\#\ define\ GTEST\_PROJECT\_URL\_\ "{}https://github.com/google/googletest/"{}}}
\DoxyCodeLine{00294\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{00297\ \textcolor{preprocessor}{\#\ define\ GTEST\_INIT\_GOOGLE\_TEST\_NAME\_\ "{}testing::InitGoogleTest"{}}}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \textcolor{comment}{//\ Determines\ the\ version\ of\ gcc\ that\ is\ used\ to\ compile\ this.}}
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00302\ \textcolor{comment}{//\ 40302\ means\ version\ 4.3.2.}}
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#\ define\ GTEST\_GCC\_VER\_\ \(\backslash\)}}
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\ \ \ \ (\_\_GNUC\_\_*10000\ +\ \_\_GNUC\_MINOR\_\_*100\ +\ \_\_GNUC\_PATCHLEVEL\_\_)}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_GNUC\_\_}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{comment}{//\ Macros\ for\ disabling\ Microsoft\ Visual\ C++\ warnings.}}
\DoxyCodeLine{00308\ \textcolor{comment}{//}}
\DoxyCodeLine{00309\ \textcolor{comment}{//\ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4800\ 4385)}}
\DoxyCodeLine{00310\ \textcolor{comment}{//\ \ \ /*\ code\ that\ triggers\ warnings\ C4800\ and\ C4385\ */}}
\DoxyCodeLine{00311\ \textcolor{comment}{//\ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)\ \(\backslash\)}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\ \ \ \ \_\_pragma(warning(push))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\ \ \ \ \_\_pragma(warning(disable:\ warnings))}}
\DoxyCodeLine{00316\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00317\ \textcolor{preprocessor}{\ \ \ \ \_\_pragma(warning(pop))}}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00319\ \textcolor{comment}{//\ Not\ all\ compilers\ are\ MSVC}}
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{comment}{//\ Clang\ on\ Windows\ does\ not\ understand\ MSVC's\ pragma\ warning.}}
\DoxyCodeLine{00325\ \textcolor{comment}{//\ We\ need\ clang-\/specific\ way\ to\ disable\ function\ deprecation\ warning.}}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\#ifdef\ \_\_clang\_\_}}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\ \ \ \ \_Pragma("{}clang\ diagnostic\ push"{})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\ \ \ \ \_Pragma("{}clang\ diagnostic\ ignored\ \(\backslash\)"{}-\/Wdeprecated-\/declarations\(\backslash\)"{}"{})\ \(\backslash\)}}
\DoxyCodeLine{00330\ \textcolor{preprocessor}{\ \ \ \ \_Pragma("{}clang\ diagnostic\ ignored\ \(\backslash\)"{}-\/Wdeprecated-\/implementations\(\backslash\)"{}"{})}}
\DoxyCodeLine{00331\ \textcolor{preprocessor}{\#define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()\ \(\backslash\)}}
\DoxyCodeLine{00332\ \textcolor{preprocessor}{\ \ \ \ \_Pragma("{}clang\ diagnostic\ pop"{})}}
\DoxyCodeLine{00333\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00334\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()\ \(\backslash\)}}
\DoxyCodeLine{00335\ \textcolor{preprocessor}{\ \ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4996)}}
\DoxyCodeLine{00336\ \textcolor{preprocessor}{\#\ define\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()\ \(\backslash\)}}
\DoxyCodeLine{00337\ \textcolor{preprocessor}{\ \ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00338\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \textcolor{comment}{//\ Brings\ in\ definitions\ for\ functions\ used\ in\ the\ testing::internal::posix}}
\DoxyCodeLine{00341\ \textcolor{comment}{//\ namespace\ (read,\ write,\ close,\ chdir,\ isatty,\ stat).\ We\ do\ not\ currently}}
\DoxyCodeLine{00342\ \textcolor{comment}{//\ use\ them\ on\ Windows\ Mobile.}}
\DoxyCodeLine{00343\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{00344\ \textcolor{preprocessor}{\#\ if\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{00345\ \textcolor{preprocessor}{\#\ \ include\ <direct.h>}}
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#\ \ include\ <io.h>}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00348\ \textcolor{comment}{//\ In\ order\ to\ avoid\ having\ to\ include\ <windows.h>,\ use\ forward\ declaration}}
\DoxyCodeLine{00349\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS\_MINGW\ \&\&\ !defined(\_\_MINGW64\_VERSION\_MAJOR)}}
\DoxyCodeLine{00350\ \textcolor{comment}{//\ MinGW\ defined\ \_CRITICAL\_SECTION\ and\ \_RTL\_CRITICAL\_SECTION\ as\ two}}
\DoxyCodeLine{00351\ \textcolor{comment}{//\ separate\ (equivalent)\ structs,\ instead\ of\ using\ typedef}}
\DoxyCodeLine{00352\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_CRITICAL\_SECTION\ GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{00353\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00354\ \textcolor{comment}{//\ Assume\ CRITICAL\_SECTION\ is\ a\ typedef\ of\ \_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{00355\ \textcolor{comment}{//\ This\ assumption\ is\ verified\ by}}
\DoxyCodeLine{00356\ \textcolor{comment}{//\ WindowsTypesTest.CRITICAL\_SECTIONIs\_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{00357\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_RTL\_CRITICAL\_SECTION\ GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{00358\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00359\ \textcolor{preprocessor}{\#elif\ GTEST\_OS\_XTENSA}}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00361\ \textcolor{comment}{//\ Xtensa\ toolchains\ define\ strcasecmp\ in\ the\ string.h\ header\ instead\ of}}
\DoxyCodeLine{00362\ \textcolor{comment}{//\ strings.h.\ string.h\ is\ already\ included.}}
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00364\ \textcolor{comment}{//\ This\ assumes\ that\ non-\/Windows\ OSes\ provide\ unistd.h.\ For\ OSes\ where\ this}}
\DoxyCodeLine{00365\ \textcolor{comment}{//\ is\ not\ the\ case,\ we\ need\ to\ include\ headers\ that\ provide\ the\ functions}}
\DoxyCodeLine{00366\ \textcolor{comment}{//\ mentioned\ above.}}
\DoxyCodeLine{00367\ \textcolor{preprocessor}{\#\ include\ <unistd.h>}}
\DoxyCodeLine{00368\ \textcolor{preprocessor}{\#\ include\ <strings.h>}}
\DoxyCodeLine{00369\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00372\ \textcolor{comment}{//\ Used\ to\ define\ \_\_ANDROID\_API\_\_\ matching\ the\ target\ NDK\ API\ level.}}
\DoxyCodeLine{00373\ \textcolor{preprocessor}{\#\ \ include\ <android/api-\/level.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \textcolor{comment}{//\ Defines\ this\ to\ true\ if\ and\ only\ if\ Google\ Test\ can\ use\ POSIX\ regular}}
\DoxyCodeLine{00377\ \textcolor{comment}{//\ expressions.}}
\DoxyCodeLine{00378\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{00379\ \textcolor{preprocessor}{\#\ if\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00380\ \textcolor{comment}{//\ On\ Android,\ <regex.h>\ is\ only\ available\ starting\ with\ Gingerbread.}}
\DoxyCodeLine{00381\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_POSIX\_RE\ (\_\_ANDROID\_API\_\_\ >=\ 9)}}
\DoxyCodeLine{00382\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_POSIX\_RE\ (!GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_XTENSA)}}
\DoxyCodeLine{00384\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \textcolor{preprocessor}{\#if\ GTEST\_USES\_PCRE}}
\DoxyCodeLine{00388\ \textcolor{comment}{//\ The\ appropriate\ headers\ have\ already\ been\ included.}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \textcolor{preprocessor}{\#elif\ GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{comment}{//\ On\ some\ platforms,\ <regex.h>\ needs\ someone\ to\ define\ size\_t,\ and}}
\DoxyCodeLine{00393\ \textcolor{comment}{//\ won't\ compile\ otherwise.\ \ We\ can\ \#include\ it\ here\ as\ we\ already}}
\DoxyCodeLine{00394\ \textcolor{comment}{//\ included\ <stdlib.h>,\ which\ is\ guaranteed\ to\ define\ size\_t\ through}}
\DoxyCodeLine{00395\ \textcolor{comment}{//\ <stddef.h>.}}
\DoxyCodeLine{00396\ \textcolor{preprocessor}{\#\ include\ <regex.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \textcolor{preprocessor}{\#\ define\ GTEST\_USES\_POSIX\_RE\ 1}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \textcolor{preprocessor}{\#elif\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \textcolor{comment}{//\ <regex.h>\ is\ not\ available\ on\ Windows.\ \ Use\ our\ own\ simple\ regex}}
\DoxyCodeLine{00403\ \textcolor{comment}{//\ implementation\ instead.}}
\DoxyCodeLine{00404\ \textcolor{preprocessor}{\#\ define\ GTEST\_USES\_SIMPLE\_RE\ 1}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \textcolor{comment}{//\ <regex.h>\ may\ not\ be\ available\ on\ this\ platform.\ \ Use\ our\ own}}
\DoxyCodeLine{00409\ \textcolor{comment}{//\ simple\ regex\ implementation\ instead.}}
\DoxyCodeLine{00410\ \textcolor{preprocessor}{\#\ define\ GTEST\_USES\_SIMPLE\_RE\ 1}}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_USES\_PCRE}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00415\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ exceptions\ are\ enabled,\ so\ we\ need}}
\DoxyCodeLine{00416\ \textcolor{comment}{//\ to\ figure\ it\ out.}}
\DoxyCodeLine{00417\ \textcolor{preprocessor}{\#\ if\ defined(\_MSC\_VER)\ \&\&\ defined(\_CPPUNWIND)}}
\DoxyCodeLine{00418\ \textcolor{comment}{//\ MSVC\ defines\ \_CPPUNWIND\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00419\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00420\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00421\ \textcolor{comment}{//\ C++Builder's\ implementation\ of\ the\ STL\ uses\ the\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00422\ \textcolor{comment}{//\ macro\ to\ enable\ exceptions,\ so\ we'll\ do\ the\ same.}}
\DoxyCodeLine{00423\ \textcolor{comment}{//\ Assumes\ that\ exceptions\ are\ enabled\ by\ default.}}
\DoxyCodeLine{00424\ \textcolor{preprocessor}{\#\ \ ifndef\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00425\ \textcolor{preprocessor}{\#\ \ \ define\ \_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00426\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00427\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00428\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00429\ \textcolor{comment}{//\ clang\ defines\ \_\_EXCEPTIONS\ if\ and\ only\ if\ exceptions\ are\ enabled\ before\ clang}}
\DoxyCodeLine{00430\ \textcolor{comment}{//\ 220714,\ but\ if\ and\ only\ if\ cleanups\ are\ enabled\ after\ that.\ In\ Obj-\/C++\ files,}}
\DoxyCodeLine{00431\ \textcolor{comment}{//\ there\ can\ be\ cleanups\ for\ ObjC\ exceptions\ which\ also\ need\ cleanups,\ even\ if}}
\DoxyCodeLine{00432\ \textcolor{comment}{//\ C++\ exceptions\ are\ disabled.\ clang\ has\ \_\_has\_feature(cxx\_exceptions)\ which}}
\DoxyCodeLine{00433\ \textcolor{comment}{//\ checks\ for\ C++\ exceptions\ starting\ at\ clang\ r206352,\ but\ which\ checked\ for}}
\DoxyCodeLine{00434\ \textcolor{comment}{//\ cleanups\ prior\ to\ that.\ To\ reliably\ check\ for\ C++\ exception\ availability\ with}}
\DoxyCodeLine{00435\ \textcolor{comment}{//\ clang,\ check\ for}}
\DoxyCodeLine{00436\ \textcolor{comment}{//\ \_\_EXCEPTIONS\ \&\&\ \_\_has\_feature(cxx\_exceptions).}}
\DoxyCodeLine{00437\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ (\_\_EXCEPTIONS\ \&\&\ \_\_has\_feature(cxx\_exceptions))}}
\DoxyCodeLine{00438\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_GNUC\_\_)\ \&\&\ \_\_EXCEPTIONS}}
\DoxyCodeLine{00439\ \textcolor{comment}{//\ gcc\ defines\ \_\_EXCEPTIONS\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00440\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00441\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{00442\ \textcolor{comment}{//\ Sun\ Pro\ CC\ supports\ exceptions.\ \ However,\ there\ is\ no\ compile-\/time\ way\ of}}
\DoxyCodeLine{00443\ \textcolor{comment}{//\ detecting\ whether\ they\ are\ enabled\ or\ not.\ \ Therefore,\ we\ assume\ that}}
\DoxyCodeLine{00444\ \textcolor{comment}{//\ they\ are\ enabled\ unless\ the\ user\ tells\ us\ otherwise.}}
\DoxyCodeLine{00445\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00446\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_IBMCPP\_\_)\ \&\&\ \_\_EXCEPTIONS}}
\DoxyCodeLine{00447\ \textcolor{comment}{//\ xlC\ defines\ \_\_EXCEPTIONS\ to\ 1\ if\ and\ only\ if\ exceptions\ are\ enabled.}}
\DoxyCodeLine{00448\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00449\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_HP\_aCC)}}
\DoxyCodeLine{00450\ \textcolor{comment}{//\ Exception\ handling\ is\ in\ effect\ by\ default\ in\ HP\ aCC\ compiler.\ It\ has\ to}}
\DoxyCodeLine{00451\ \textcolor{comment}{//\ be\ turned\ of\ by\ +noeh\ compiler\ option\ if\ desired.}}
\DoxyCodeLine{00452\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 1}}
\DoxyCodeLine{00453\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00454\ \textcolor{comment}{//\ For\ other\ compilers,\ we\ assume\ exceptions\ are\ disabled\ to\ be}}
\DoxyCodeLine{00455\ \textcolor{comment}{//\ conservative.}}
\DoxyCodeLine{00456\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_EXCEPTIONS\ 0}}
\DoxyCodeLine{00457\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ defined(\_MSC\_VER)\ ||\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00458\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00461\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ ::std::wstring\ is\ available,\ so\ we\ need}}
\DoxyCodeLine{00462\ \textcolor{comment}{//\ to\ figure\ it\ out.}}
\DoxyCodeLine{00463\ \textcolor{comment}{//\ Cygwin\ 1.7\ and\ below\ doesn't\ support\ ::std::wstring.}}
\DoxyCodeLine{00464\ \textcolor{comment}{//\ Solaris'\ libc++\ doesn't\ support\ it\ either.\ \ Android\ has}}
\DoxyCodeLine{00465\ \textcolor{comment}{//\ no\ support\ for\ it\ at\ least\ as\ recent\ as\ Froyo\ (2.2).}}
\DoxyCodeLine{00466\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_STD\_WSTRING\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00467\ \textcolor{preprocessor}{\ \ (!(GTEST\_OS\_LINUX\_ANDROID\ ||\ GTEST\_OS\_CYGWIN\ ||\ GTEST\_OS\_SOLARIS\ ||\ \(\backslash\)}}
\DoxyCodeLine{00468\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_OS\_HAIKU\ ||\ GTEST\_OS\_ESP32\ ||\ GTEST\_OS\_ESP8266\ ||\ GTEST\_OS\_XTENSA))}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \textcolor{comment}{//\ Determines\ whether\ RTTI\ is\ available.}}
\DoxyCodeLine{00473\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00474\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ whether\ RTTI\ is\ enabled,\ so\ we\ need\ to}}
\DoxyCodeLine{00475\ \textcolor{comment}{//\ figure\ it\ out.}}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \textcolor{preprocessor}{\#\ ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \textcolor{preprocessor}{\#ifdef\ \_CPPRTTI\ \ }\textcolor{comment}{//\ MSVC\ defines\ this\ macro\ if\ and\ only\ if\ RTTI\ is\ enabled.}}
\DoxyCodeLine{00480\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00481\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00482\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00483\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \textcolor{comment}{//\ Starting\ with\ version\ 4.3.2,\ gcc\ defines\ \_\_GXX\_RTTI\ if\ and\ only\ if\ RTTI\ is}}
\DoxyCodeLine{00486\ \textcolor{comment}{//\ enabled.}}
\DoxyCodeLine{00487\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \textcolor{preprocessor}{\#\ \ ifdef\ \_\_GXX\_RTTI}}
\DoxyCodeLine{00490\ \textcolor{comment}{//\ When\ building\ against\ STLport\ with\ the\ Android\ NDK\ and\ with}}
\DoxyCodeLine{00491\ \textcolor{comment}{//\ -\/frtti\ -\/fno-\/exceptions,\ the\ build\ fails\ at\ link\ time\ with\ undefined}}
\DoxyCodeLine{00492\ \textcolor{comment}{//\ references\ to\ \_\_cxa\_bad\_typeid.\ Note\ sure\ if\ STL\ or\ toolchain\ bug,}}
\DoxyCodeLine{00493\ \textcolor{comment}{//\ so\ disable\ RTTI\ when\ detected.}}
\DoxyCodeLine{00494\ \textcolor{preprocessor}{\#\ \ \ if\ GTEST\_OS\_LINUX\_ANDROID\ \&\&\ defined(\_STLPORT\_MAJOR)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00495\ \textcolor{preprocessor}{\ \ \ \ \ \ \ !defined(\_\_EXCEPTIONS)}}
\DoxyCodeLine{00496\ \textcolor{preprocessor}{\#\ \ \ \ define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00497\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00498\ \textcolor{preprocessor}{\#\ \ \ \ define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00499\ \textcolor{preprocessor}{\#\ \ \ endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_LINUX\_ANDROID\ \&\&\ \_\_STLPORT\_MAJOR\ \&\&\ !\_\_EXCEPTIONS}}
\DoxyCodeLine{00500\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00501\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00502\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ \_\_GXX\_RTTI}}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00504\ \textcolor{comment}{//\ Clang\ defines\ \_\_GXX\_RTTI\ starting\ with\ version\ 3.0,\ but\ its\ manual\ recommends}}
\DoxyCodeLine{00505\ \textcolor{comment}{//\ using\ has\_feature\ instead.\ has\_feature(cxx\_rtti)\ is\ supported\ since\ 2.7,\ the}}
\DoxyCodeLine{00506\ \textcolor{comment}{//\ first\ version\ with\ C++\ support.}}
\DoxyCodeLine{00507\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_RTTI\ \_\_has\_feature(cxx\_rtti)}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \textcolor{comment}{//\ Starting\ with\ version\ 9.0\ IBM\ Visual\ Age\ defines\ \_\_RTTI\_ALL\_\_\ to\ 1\ if}}
\DoxyCodeLine{00512\ \textcolor{comment}{//\ both\ the\ typeid\ and\ dynamic\_cast\ features\ are\ present.}}
\DoxyCodeLine{00513\ \textcolor{preprocessor}{\#\ elif\ defined(\_\_IBMCPP\_\_)\ \&\&\ (\_\_IBMCPP\_\_\ >=\ 900)}}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \textcolor{preprocessor}{\#\ \ ifdef\ \_\_RTTI\_ALL\_\_}}
\DoxyCodeLine{00516\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00517\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00518\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_RTTI\ 0}}
\DoxyCodeLine{00519\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \textcolor{comment}{//\ For\ all\ other\ compilers,\ we\ assume\ RTTI\ is\ enabled.}}
\DoxyCodeLine{00524\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_RTTI\ 1}}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{00527\ }
\DoxyCodeLine{00528\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00530\ \textcolor{comment}{//\ It's\ this\ header's\ responsibility\ to\ \#include\ <typeinfo>\ when\ RTTI}}
\DoxyCodeLine{00531\ \textcolor{comment}{//\ is\ enabled.}}
\DoxyCodeLine{00532\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{00533\ \textcolor{preprocessor}{\#\ include\ <typeinfo>}}
\DoxyCodeLine{00534\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \textcolor{comment}{//\ Determines\ whether\ Google\ Test\ can\ use\ the\ pthreads\ library.}}
\DoxyCodeLine{00537\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00538\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us\ explicitly,\ so\ we\ make\ reasonable\ assumptions\ about}}
\DoxyCodeLine{00539\ \textcolor{comment}{//\ which\ platforms\ have\ pthreads\ support.}}
\DoxyCodeLine{00540\ \textcolor{comment}{//}}
\DoxyCodeLine{00541\ \textcolor{comment}{//\ To\ disable\ threading\ support\ in\ Google\ Test,\ add\ -\/DGTEST\_HAS\_PTHREAD=0}}
\DoxyCodeLine{00542\ \textcolor{comment}{//\ to\ your\ compiler\ flags.}}
\DoxyCodeLine{00543\ \textcolor{preprocessor}{\#define\ GTEST\_HAS\_PTHREAD\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00544\ \textcolor{preprocessor}{\ \ (GTEST\_OS\_LINUX\ ||\ GTEST\_OS\_MAC\ ||\ GTEST\_OS\_HPUX\ ||\ GTEST\_OS\_QNX\ ||\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00545\ \textcolor{preprocessor}{\ \ \ GTEST\_OS\_FREEBSD\ ||\ GTEST\_OS\_NACL\ ||\ GTEST\_OS\_NETBSD\ ||\ GTEST\_OS\_FUCHSIA\ ||\ \(\backslash\)}}
\DoxyCodeLine{00546\ \textcolor{preprocessor}{\ \ \ GTEST\_OS\_DRAGONFLY\ ||\ GTEST\_OS\_GNU\_KFREEBSD\ ||\ GTEST\_OS\_OPENBSD\ ||\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00547\ \textcolor{preprocessor}{\ \ \ GTEST\_OS\_HAIKU\ ||\ GTEST\_OS\_GNU\_HURD)}}
\DoxyCodeLine{00548\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00550\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{00551\ \textcolor{comment}{//\ gtest-\/port.h\ guarantees\ to\ \#include\ <pthread.h>\ when\ GTEST\_HAS\_PTHREAD\ is}}
\DoxyCodeLine{00552\ \textcolor{comment}{//\ true.}}
\DoxyCodeLine{00553\ \textcolor{preprocessor}{\#\ include\ <pthread.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \textcolor{comment}{//\ For\ timespec\ and\ nanosleep,\ used\ below.}}
\DoxyCodeLine{00556\ \textcolor{preprocessor}{\#\ include\ <time.h>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00557\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \textcolor{comment}{//\ Determines\ whether\ clone(2)\ is\ supported.}}
\DoxyCodeLine{00560\ \textcolor{comment}{//\ Usually\ it\ will\ only\ be\ available\ on\ Linux,\ excluding}}
\DoxyCodeLine{00561\ \textcolor{comment}{//\ Linux\ on\ the\ Itanium\ architecture.}}
\DoxyCodeLine{00562\ \textcolor{comment}{//\ Also\ see\ http://linux.die.net/man/2/clone.}}
\DoxyCodeLine{00563\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_CLONE}}
\DoxyCodeLine{00564\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us,\ so\ we\ need\ to\ figure\ it\ out.}}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \textcolor{preprocessor}{\#\ if\ GTEST\_OS\_LINUX\ \&\&\ !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{00567\ \textcolor{preprocessor}{\#\ \ if\ GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{00568\ \textcolor{comment}{//\ On\ Android,\ clone()\ became\ available\ at\ different\ API\ levels\ for\ each\ 32-\/bit}}
\DoxyCodeLine{00569\ \textcolor{comment}{//\ architecture.}}
\DoxyCodeLine{00570\ \textcolor{preprocessor}{\#\ \ \ \ if\ defined(\_\_LP64\_\_)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00571\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ (defined(\_\_arm\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 9)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00572\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ (defined(\_\_mips\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 12)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00573\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ (defined(\_\_i386\_\_)\ \&\&\ \_\_ANDROID\_API\_\_\ >=\ 17)}}
\DoxyCodeLine{00574\ \textcolor{preprocessor}{\#\ \ \ \ \ define\ GTEST\_HAS\_CLONE\ 1}}
\DoxyCodeLine{00575\ \textcolor{preprocessor}{\#\ \ \ \ else}}
\DoxyCodeLine{00576\ \textcolor{preprocessor}{\#\ \ \ \ \ define\ GTEST\_HAS\_CLONE\ 0}}
\DoxyCodeLine{00577\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00578\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00579\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_HAS\_CLONE\ 1}}
\DoxyCodeLine{00580\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00581\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00582\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_CLONE\ 0}}
\DoxyCodeLine{00583\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_LINUX\ \&\&\ !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_CLONE}}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ stream\ redirection.\ This\ is\ used\ to\ test}}
\DoxyCodeLine{00588\ \textcolor{comment}{//\ output\ correctness\ and\ to\ implement\ death\ tests.}}
\DoxyCodeLine{00589\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00590\ \textcolor{comment}{//\ By\ default,\ we\ assume\ that\ stream\ redirection\ is\ supported\ on\ all}}
\DoxyCodeLine{00591\ \textcolor{comment}{//\ platforms\ except\ known\ mobile\ ones.}}
\DoxyCodeLine{00592\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS\_MOBILE\ ||\ GTEST\_OS\_WINDOWS\_PHONE\ ||\ \(\backslash\)}}
\DoxyCodeLine{00593\ \textcolor{preprocessor}{\ \ \ \ GTEST\_OS\_WINDOWS\_RT\ ||\ GTEST\_OS\_ESP8266\ ||\ GTEST\_OS\_XTENSA}}
\DoxyCodeLine{00594\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_STREAM\_REDIRECTION\ 0}}
\DoxyCodeLine{00595\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00596\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_STREAM\_REDIRECTION\ 1}}
\DoxyCodeLine{00597\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{00598\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ death\ tests.}}
\DoxyCodeLine{00601\ \textcolor{comment}{//\ pops\ up\ a\ dialog\ window\ that\ cannot\ be\ suppressed\ programmatically.}}
\DoxyCodeLine{00602\ \textcolor{preprocessor}{\#if\ (GTEST\_OS\_LINUX\ ||\ GTEST\_OS\_CYGWIN\ ||\ GTEST\_OS\_SOLARIS\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00603\ \textcolor{preprocessor}{\ \ \ \ \ (GTEST\_OS\_MAC\ \&\&\ !GTEST\_OS\_IOS)\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00604\ \textcolor{preprocessor}{\ \ \ \ \ (GTEST\_OS\_WINDOWS\_DESKTOP\ \&\&\ \_MSC\_VER)\ ||\ GTEST\_OS\_WINDOWS\_MINGW\ ||\ \ \(\backslash\)}}
\DoxyCodeLine{00605\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_OS\_AIX\ ||\ GTEST\_OS\_HPUX\ ||\ GTEST\_OS\_OPENBSD\ ||\ GTEST\_OS\_QNX\ ||\ \(\backslash\)}}
\DoxyCodeLine{00606\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_OS\_FREEBSD\ ||\ GTEST\_OS\_NETBSD\ ||\ GTEST\_OS\_FUCHSIA\ ||\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00607\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_OS\_DRAGONFLY\ ||\ GTEST\_OS\_GNU\_KFREEBSD\ ||\ GTEST\_OS\_HAIKU\ ||\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00608\ \textcolor{preprocessor}{\ \ \ \ \ GTEST\_OS\_GNU\_HURD)}}
\DoxyCodeLine{00609\ \textcolor{preprocessor}{\#\ define\ GTEST\_HAS\_DEATH\_TEST\ 1}}
\DoxyCodeLine{00610\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00611\ }
\DoxyCodeLine{00612\ \textcolor{comment}{//\ Determines\ whether\ to\ support\ type-\/driven\ tests.}}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \textcolor{comment}{//\ Typed\ tests\ need\ <typeinfo>\ and\ variadic\ macros,\ which\ GCC,\ VC++\ 8.0,}}
\DoxyCodeLine{00615\ \textcolor{comment}{//\ Sun\ Pro\ CC,\ IBM\ Visual\ Age,\ and\ HP\ aCC\ support.}}
\DoxyCodeLine{00616\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ ||\ defined(\_MSC\_VER)\ ||\ defined(\_\_SUNPRO\_CC)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00617\ \textcolor{preprocessor}{\ \ \ \ defined(\_\_IBMCPP\_\_)\ ||\ defined(\_\_HP\_aCC)}}
\DoxyCodeLine{00618\ \textcolor{preprocessor}{\#\ define\ GTEST\_HAS\_TYPED\_TEST\ 1}}
\DoxyCodeLine{00619\ \textcolor{preprocessor}{\#\ define\ GTEST\_HAS\_TYPED\_TEST\_P\ 1}}
\DoxyCodeLine{00620\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \textcolor{comment}{//\ Determines\ whether\ the\ system\ compiler\ uses\ UTF-\/16\ for\ encoding\ wide\ strings.}}
\DoxyCodeLine{00623\ \textcolor{preprocessor}{\#define\ GTEST\_WIDE\_STRING\_USES\_UTF16\_\ \(\backslash\)}}
\DoxyCodeLine{00624\ \textcolor{preprocessor}{\ \ (GTEST\_OS\_WINDOWS\ ||\ GTEST\_OS\_CYGWIN\ ||\ GTEST\_OS\_AIX\ ||\ GTEST\_OS\_OS2)}}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \textcolor{comment}{//\ Determines\ whether\ test\ results\ can\ be\ streamed\ to\ a\ socket.}}
\DoxyCodeLine{00627\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_LINUX\ ||\ GTEST\_OS\_GNU\_KFREEBSD\ ||\ GTEST\_OS\_DRAGONFLY\ ||\ \(\backslash\)}}
\DoxyCodeLine{00628\ \textcolor{preprocessor}{\ \ \ \ GTEST\_OS\_FREEBSD\ ||\ GTEST\_OS\_NETBSD\ ||\ GTEST\_OS\_OPENBSD\ ||\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00629\ \textcolor{preprocessor}{\ \ \ \ GTEST\_OS\_GNU\_HURD}}
\DoxyCodeLine{00630\ \textcolor{preprocessor}{\#\ define\ GTEST\_CAN\_STREAM\_RESULTS\_\ 1}}
\DoxyCodeLine{00631\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00633\ \textcolor{comment}{//\ Defines\ some\ utility\ macros.}}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \textcolor{comment}{//\ The\ GNU\ compiler\ emits\ a\ warning\ if\ nested\ "{}if"{}\ statements\ are\ followed\ by}}
\DoxyCodeLine{00636\ \textcolor{comment}{//\ an\ "{}else"{}\ statement\ and\ braces\ are\ not\ used\ to\ explicitly\ disambiguate\ the}}
\DoxyCodeLine{00637\ \textcolor{comment}{//\ "{}else"{}\ binding.\ \ This\ leads\ to\ problems\ with\ code\ like:}}
\DoxyCodeLine{00638\ \textcolor{comment}{//}}
\DoxyCodeLine{00639\ \textcolor{comment}{//\ \ \ if\ (gate)}}
\DoxyCodeLine{00640\ \textcolor{comment}{//\ \ \ \ \ ASSERT\_*(condition)\ <<\ "{}Some\ message"{};}}
\DoxyCodeLine{00641\ \textcolor{comment}{//}}
\DoxyCodeLine{00642\ \textcolor{comment}{//\ The\ "{}switch\ (0)\ case\ 0:"{}\ idiom\ is\ used\ to\ suppress\ this.}}
\DoxyCodeLine{00643\ \textcolor{preprocessor}{\#ifdef\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00644\ \textcolor{preprocessor}{\#\ define\ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_}}
\DoxyCodeLine{00645\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00646\ \textcolor{preprocessor}{\#\ define\ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ switch\ (0)\ case\ 0:\ default:\ \ }\textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00647\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00648\ }
\DoxyCodeLine{00649\ \textcolor{comment}{//\ Use\ this\ annotation\ at\ the\ end\ of\ a\ struct/class\ definition\ to}}
\DoxyCodeLine{00650\ \textcolor{comment}{//\ prevent\ the\ compiler\ from\ optimizing\ away\ instances\ that\ are\ never}}
\DoxyCodeLine{00651\ \textcolor{comment}{//\ used.\ \ This\ is\ useful\ when\ all\ interesting\ logic\ happens\ inside\ the}}
\DoxyCodeLine{00652\ \textcolor{comment}{//\ c'tor\ and\ /\ or\ d'tor.\ \ Example:}}
\DoxyCodeLine{00653\ \textcolor{comment}{//}}
\DoxyCodeLine{00654\ \textcolor{comment}{//\ \ \ struct\ Foo\ \{}}
\DoxyCodeLine{00655\ \textcolor{comment}{//\ \ \ \ \ Foo()\ \{\ ...\ \}}}
\DoxyCodeLine{00656\ \textcolor{comment}{//\ \ \ \}\ GTEST\_ATTRIBUTE\_UNUSED\_;}}
\DoxyCodeLine{00657\ \textcolor{comment}{//}}
\DoxyCodeLine{00658\ \textcolor{comment}{//\ Also\ use\ it\ after\ a\ variable\ or\ parameter\ declaration\ to\ tell\ the}}
\DoxyCodeLine{00659\ \textcolor{comment}{//\ compiler\ the\ variable/parameter\ does\ not\ have\ to\ be\ used.}}
\DoxyCodeLine{00660\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(COMPILER\_ICC)}}
\DoxyCodeLine{00661\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_UNUSED\_\ \_\_attribute\_\_\ ((unused))}}
\DoxyCodeLine{00662\ \textcolor{preprocessor}{\#elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00663\ \textcolor{preprocessor}{\#\ if\ \_\_has\_attribute(unused)}}
\DoxyCodeLine{00664\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_UNUSED\_\ \_\_attribute\_\_\ ((unused))}}
\DoxyCodeLine{00665\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00666\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00667\ \textcolor{preprocessor}{\#ifndef\ GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{00668\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{00669\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \textcolor{comment}{//\ Use\ this\ annotation\ before\ a\ function\ that\ takes\ a\ printf\ format\ string.}}
\DoxyCodeLine{00672\ \textcolor{preprocessor}{\#if\ (defined(\_\_GNUC\_\_)\ ||\ defined(\_\_clang\_\_))\ \&\&\ !defined(COMPILER\_ICC)}}
\DoxyCodeLine{00673\ \textcolor{preprocessor}{\#\ if\ defined(\_\_MINGW\_PRINTF\_FORMAT)}}
\DoxyCodeLine{00674\ \textcolor{comment}{//\ MinGW\ has\ two\ different\ printf\ implementations.\ Ensure\ the\ format\ macro}}
\DoxyCodeLine{00675\ \textcolor{comment}{//\ matches\ the\ selected\ implementation.\ See}}
\DoxyCodeLine{00676\ \textcolor{comment}{//\ https://sourceforge.net/p/mingw-\/w64/wiki2/gnu\%20printf/.}}
\DoxyCodeLine{00677\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)\ \(\backslash\)}}
\DoxyCodeLine{00678\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((\_\_format\_\_(\_\_MINGW\_PRINTF\_FORMAT,\ string\_index,\ \(\backslash\)}}
\DoxyCodeLine{00679\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ first\_to\_check)))}}
\DoxyCodeLine{00680\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00681\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)\ \(\backslash\)}}
\DoxyCodeLine{00682\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((\_\_format\_\_(\_\_printf\_\_,\ string\_index,\ first\_to\_check)))}}
\DoxyCodeLine{00683\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00684\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00685\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_PRINTF\_(string\_index,\ first\_to\_check)}}
\DoxyCodeLine{00686\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \textcolor{comment}{//\ A\ macro\ to\ disallow\ copy\ operator=}}
\DoxyCodeLine{00690\ \textcolor{comment}{//\ This\ should\ be\ used\ in\ the\ private:\ declarations\ for\ a\ class.}}
\DoxyCodeLine{00691\ \textcolor{preprocessor}{\#define\ GTEST\_DISALLOW\_ASSIGN\_(type)\ \(\backslash\)}}
\DoxyCodeLine{00692\ \textcolor{preprocessor}{\ \ type\&\ operator=(type\ const\ \&)\ =\ delete}}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \textcolor{comment}{//\ A\ macro\ to\ disallow\ copy\ constructor\ and\ operator=}}
\DoxyCodeLine{00695\ \textcolor{comment}{//\ This\ should\ be\ used\ in\ the\ private:\ declarations\ for\ a\ class.}}
\DoxyCodeLine{00696\ \textcolor{preprocessor}{\#define\ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(type)\ \(\backslash\)}}
\DoxyCodeLine{00697\ \textcolor{preprocessor}{\ \ type(type\ const\&)\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00698\ \textcolor{preprocessor}{\ \ type\&\ operator=(type\ const\&)\ =\ delete}}
\DoxyCodeLine{00699\ }
\DoxyCodeLine{00700\ \textcolor{comment}{//\ A\ macro\ to\ disallow\ move\ operator=}}
\DoxyCodeLine{00701\ \textcolor{comment}{//\ This\ should\ be\ used\ in\ the\ private:\ declarations\ for\ a\ class.}}
\DoxyCodeLine{00702\ \textcolor{preprocessor}{\#define\ GTEST\_DISALLOW\_MOVE\_ASSIGN\_(type)\ \(\backslash\)}}
\DoxyCodeLine{00703\ \textcolor{preprocessor}{\ \ type\&\ operator=(type\ \&\&)\ noexcept\ =\ delete}}
\DoxyCodeLine{00704\ }
\DoxyCodeLine{00705\ \textcolor{comment}{//\ A\ macro\ to\ disallow\ move\ constructor\ and\ operator=}}
\DoxyCodeLine{00706\ \textcolor{comment}{//\ This\ should\ be\ used\ in\ the\ private:\ declarations\ for\ a\ class.}}
\DoxyCodeLine{00707\ \textcolor{preprocessor}{\#define\ GTEST\_DISALLOW\_MOVE\_AND\_ASSIGN\_(type)\ \(\backslash\)}}
\DoxyCodeLine{00708\ \textcolor{preprocessor}{\ \ type(type\&\&)\ noexcept\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00709\ \textcolor{preprocessor}{\ \ type\&\ operator=(type\&\&)\ noexcept\ =\ delete}}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00711\ \textcolor{comment}{//\ Tell\ the\ compiler\ to\ warn\ about\ unused\ return\ values\ for\ functions\ declared}}
\DoxyCodeLine{00712\ \textcolor{comment}{//\ with\ this\ macro.\ \ The\ macro\ should\ be\ used\ on\ function\ declarations}}
\DoxyCodeLine{00713\ \textcolor{comment}{//\ following\ the\ argument\ list:}}
\DoxyCodeLine{00714\ \textcolor{comment}{//}}
\DoxyCodeLine{00715\ \textcolor{comment}{//\ \ \ Sprocket*\ AllocateSprocket()\ GTEST\_MUST\_USE\_RESULT\_;}}
\DoxyCodeLine{00716\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(COMPILER\_ICC)}}
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\#\ define\ GTEST\_MUST\_USE\_RESULT\_\ \_\_attribute\_\_\ ((warn\_unused\_result))}}
\DoxyCodeLine{00718\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00719\ \textcolor{preprocessor}{\#\ define\ GTEST\_MUST\_USE\_RESULT\_}}
\DoxyCodeLine{00720\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_GNUC\_\_\ \&\&\ !COMPILER\_ICC}}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00722\ \textcolor{comment}{//\ MS\ C++\ compiler\ emits\ warning\ when\ a\ conditional\ expression\ is\ compile\ time}}
\DoxyCodeLine{00723\ \textcolor{comment}{//\ constant.\ In\ some\ contexts\ this\ warning\ is\ false\ positive\ and\ needs\ to\ be}}
\DoxyCodeLine{00724\ \textcolor{comment}{//\ suppressed.\ Use\ the\ following\ two\ macros\ in\ such\ cases:}}
\DoxyCodeLine{00725\ \textcolor{comment}{//}}
\DoxyCodeLine{00726\ \textcolor{comment}{//\ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}}
\DoxyCodeLine{00727\ \textcolor{comment}{//\ while\ (true)\ \{}}
\DoxyCodeLine{00728\ \textcolor{comment}{//\ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}}
\DoxyCodeLine{00729\ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00730\ \textcolor{preprocessor}{\#\ define\ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()\ \(\backslash\)}}
\DoxyCodeLine{00731\ \textcolor{preprocessor}{\ \ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4127)}}
\DoxyCodeLine{00732\ \textcolor{preprocessor}{\#\ define\ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()\ \(\backslash\)}}
\DoxyCodeLine{00733\ \textcolor{preprocessor}{\ \ \ \ GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{00734\ }
\DoxyCodeLine{00735\ \textcolor{comment}{//\ Determine\ whether\ the\ compiler\ supports\ Microsoft's\ Structured\ Exception}}
\DoxyCodeLine{00736\ \textcolor{comment}{//\ Handling.\ \ This\ is\ supported\ by\ several\ Windows\ compilers\ but\ generally}}
\DoxyCodeLine{00737\ \textcolor{comment}{//\ does\ not\ exist\ on\ any\ other\ system.}}
\DoxyCodeLine{00738\ \textcolor{preprocessor}{\#ifndef\ GTEST\_HAS\_SEH}}
\DoxyCodeLine{00739\ \textcolor{comment}{//\ The\ user\ didn't\ tell\ us,\ so\ we\ need\ to\ figure\ it\ out.}}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \textcolor{preprocessor}{\#\ if\ defined(\_MSC\_VER)\ ||\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{00742\ \textcolor{comment}{//\ These\ two\ compilers\ are\ known\ to\ support\ SEH.}}
\DoxyCodeLine{00743\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_SEH\ 1}}
\DoxyCodeLine{00744\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00745\ \textcolor{comment}{//\ Assume\ no\ SEH.}}
\DoxyCodeLine{00746\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_SEH\ 0}}
\DoxyCodeLine{00747\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_SEH}}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \textcolor{preprocessor}{\#ifndef\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00752\ }
\DoxyCodeLine{00753\ \textcolor{preprocessor}{\#define\ GTEST\_IS\_THREADSAFE\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00754\ \textcolor{preprocessor}{\ \ (GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_\ ||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00755\ \textcolor{preprocessor}{\ \ \ (GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_PHONE\ \&\&\ !GTEST\_OS\_WINDOWS\_RT)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00756\ \textcolor{preprocessor}{\ \ \ GTEST\_HAS\_PTHREAD)}}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00760\ \textcolor{comment}{//\ GTEST\_API\_\ qualifies\ all\ symbols\ that\ must\ be\ exported.\ The\ definitions\ below}}
\DoxyCodeLine{00761\ \textcolor{comment}{//\ are\ guarded\ by\ \#ifndef\ to\ give\ embedders\ a\ chance\ to\ define\ GTEST\_API\_\ in}}
\DoxyCodeLine{00762\ \textcolor{comment}{//\ gtest/internal/custom/gtest-\/port.h}}
\DoxyCodeLine{00763\ \textcolor{preprocessor}{\#ifndef\ GTEST\_API\_}}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00766\ \textcolor{preprocessor}{\#\ if\ GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{00767\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_API\_\ \_\_declspec(dllimport)}}
\DoxyCodeLine{00768\ \textcolor{preprocessor}{\#\ elif\ GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{00769\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_API\_\ \_\_declspec(dllexport)}}
\DoxyCodeLine{00770\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00771\ \textcolor{preprocessor}{\#elif\ \_\_GNUC\_\_\ >=\ 4\ ||\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00772\ \textcolor{preprocessor}{\#\ define\ GTEST\_API\_\ \_\_attribute\_\_((visibility\ ("{}default"{})))}}
\DoxyCodeLine{00773\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{00774\ }
\DoxyCodeLine{00775\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_API\_}}
\DoxyCodeLine{00776\ }
\DoxyCodeLine{00777\ \textcolor{preprocessor}{\#ifndef\ GTEST\_API\_}}
\DoxyCodeLine{00778\ \textcolor{preprocessor}{\#\ define\ GTEST\_API\_}}
\DoxyCodeLine{00779\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_API\_}}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \textcolor{preprocessor}{\#ifndef\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00782\ \textcolor{preprocessor}{\#\ define\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE\ \ "{}fast"{}}}
\DoxyCodeLine{00783\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00786\ \textcolor{comment}{//\ Ask\ the\ compiler\ to\ never\ inline\ a\ given\ function.}}
\DoxyCodeLine{00787\ \textcolor{preprocessor}{\#\ define\ GTEST\_NO\_INLINE\_\ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{00788\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00789\ \textcolor{preprocessor}{\#\ define\ GTEST\_NO\_INLINE\_}}
\DoxyCodeLine{00790\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \textcolor{comment}{//\ \_LIBCPP\_VERSION\ is\ defined\ by\ the\ libc++\ library\ from\ the\ LLVM\ project.}}
\DoxyCodeLine{00793\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_HAS\_CXXABI\_H\_)}}
\DoxyCodeLine{00794\ \textcolor{preprocessor}{\#\ if\ defined(\_\_GLIBCXX\_\_)\ ||\ (defined(\_LIBCPP\_VERSION)\ \&\&\ !defined(\_MSC\_VER))}}
\DoxyCodeLine{00795\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_CXXABI\_H\_\ 1}}
\DoxyCodeLine{00796\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00797\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_HAS\_CXXABI\_H\_\ 0}}
\DoxyCodeLine{00798\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00799\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00800\ }
\DoxyCodeLine{00801\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ checking\ for\ use\ of\ uninitialized}}
\DoxyCodeLine{00802\ \textcolor{comment}{//\ memory\ when\ built\ with\ MemorySanitizer.}}
\DoxyCodeLine{00803\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00804\ \textcolor{preprocessor}{\#\ if\ \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{00805\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_\ \(\backslash\)}}
\DoxyCodeLine{00806\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((no\_sanitize\_memory))}}
\DoxyCodeLine{00807\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00808\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{00809\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{00810\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00811\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{00812\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_clang\_\_}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ AddressSanitizer\ instrumentation.}}
\DoxyCodeLine{00815\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00816\ \textcolor{preprocessor}{\#\ if\ \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{00817\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_\ \(\backslash\)}}
\DoxyCodeLine{00818\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((no\_sanitize\_address))}}
\DoxyCodeLine{00819\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00820\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{00821\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{00822\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00823\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{00824\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_clang\_\_}}
\DoxyCodeLine{00825\ }
\DoxyCodeLine{00826\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ HWAddressSanitizer\ instrumentation.}}
\DoxyCodeLine{00827\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00828\ \textcolor{preprocessor}{\#\ if\ \_\_has\_feature(hwaddress\_sanitizer)}}
\DoxyCodeLine{00829\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_\ \(\backslash\)}}
\DoxyCodeLine{00830\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((no\_sanitize("{}hwaddress"{})))}}
\DoxyCodeLine{00831\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00832\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}}
\DoxyCodeLine{00833\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_has\_feature(hwaddress\_sanitizer)}}
\DoxyCodeLine{00834\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00835\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}}
\DoxyCodeLine{00836\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_clang\_\_}}
\DoxyCodeLine{00837\ }
\DoxyCodeLine{00838\ \textcolor{comment}{//\ A\ function\ level\ attribute\ to\ disable\ ThreadSanitizer\ instrumentation.}}
\DoxyCodeLine{00839\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00840\ \textcolor{preprocessor}{\#\ if\ \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{00841\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_\ \(\backslash\)}}
\DoxyCodeLine{00842\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \_\_attribute\_\_((no\_sanitize\_thread))}}
\DoxyCodeLine{00843\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00844\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{00845\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{00846\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00847\ \textcolor{preprocessor}{\#\ define\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{00848\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_clang\_\_}}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \textcolor{keyword}{class\ }Message;}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00854\ \textcolor{comment}{//\ Legacy\ imports\ for\ backwards\ compatibility.}}
\DoxyCodeLine{00855\ \textcolor{comment}{//\ New\ code\ should\ use\ std::\ names\ directly.}}
\DoxyCodeLine{00856\ \textcolor{keyword}{using\ }std::get;}
\DoxyCodeLine{00857\ \textcolor{keyword}{using\ }std::make\_tuple;}
\DoxyCodeLine{00858\ \textcolor{keyword}{using\ }std::tuple;}
\DoxyCodeLine{00859\ \textcolor{keyword}{using\ }std::tuple\_element;}
\DoxyCodeLine{00860\ \textcolor{keyword}{using\ }std::tuple\_size;}
\DoxyCodeLine{00861\ }
\DoxyCodeLine{00862\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00863\ }
\DoxyCodeLine{00864\ \textcolor{comment}{//\ A\ secret\ type\ that\ Google\ Test\ users\ don't\ know\ about.\ \ It\ has\ no}}
\DoxyCodeLine{00865\ \textcolor{comment}{//\ definition\ on\ purpose.\ \ Therefore\ it's\ impossible\ to\ create\ a}}
\DoxyCodeLine{00866\ \textcolor{comment}{//\ Secret\ object,\ which\ is\ what\ we\ want.}}
\DoxyCodeLine{00867\ \textcolor{keyword}{class\ }Secret;}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \textcolor{comment}{//\ The\ GTEST\_COMPILE\_ASSERT\_\ is\ a\ legacy\ macro\ used\ to\ verify\ that\ a\ compile}}
\DoxyCodeLine{00870\ \textcolor{comment}{//\ time\ expression\ is\ true\ (in\ new\ code,\ use\ static\_assert\ instead).\ For}}
\DoxyCodeLine{00871\ \textcolor{comment}{//\ example,\ you\ could\ use\ it\ to\ verify\ the\ size\ of\ a\ static\ array:}}
\DoxyCodeLine{00872\ \textcolor{comment}{//}}
\DoxyCodeLine{00873\ \textcolor{comment}{//\ \ \ GTEST\_COMPILE\_ASSERT\_(GTEST\_ARRAY\_SIZE\_(names)\ ==\ NUM\_NAMES,}}
\DoxyCodeLine{00874\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ names\_incorrect\_size);}}
\DoxyCodeLine{00875\ \textcolor{comment}{//}}
\DoxyCodeLine{00876\ \textcolor{comment}{//\ The\ second\ argument\ to\ the\ macro\ must\ be\ a\ valid\ C++\ identifier.\ If\ the}}
\DoxyCodeLine{00877\ \textcolor{comment}{//\ expression\ is\ false,\ compiler\ will\ issue\ an\ error\ containing\ this\ identifier.}}
\DoxyCodeLine{00878\ \textcolor{preprocessor}{\#define\ GTEST\_COMPILE\_ASSERT\_(expr,\ msg)\ static\_assert(expr,\ \#msg)}}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00880\ \textcolor{comment}{//\ A\ helper\ for\ suppressing\ warnings\ on\ constant\ condition.\ \ It\ just}}
\DoxyCodeLine{00881\ \textcolor{comment}{//\ returns\ 'condition'.}}
\DoxyCodeLine{00882\ GTEST\_API\_\ \textcolor{keywordtype}{bool}\ IsTrue(\textcolor{keywordtype}{bool}\ condition);}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ \textcolor{comment}{//\ Defines\ RE.}}
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \textcolor{preprocessor}{\#if\ GTEST\_USES\_PCRE}}
\DoxyCodeLine{00887\ \textcolor{comment}{//\ if\ used,\ PCRE\ is\ injected\ by\ custom/gtest-\/port.h}}
\DoxyCodeLine{00888\ \textcolor{preprocessor}{\#elif\ GTEST\_USES\_POSIX\_RE\ ||\ GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ \textcolor{comment}{//\ A\ simple\ C++\ wrapper\ for\ <regex.h>.\ \ It\ uses\ the\ POSIX\ Extended}}
\DoxyCodeLine{00891\ \textcolor{comment}{//\ Regular\ Expression\ syntax.}}
\DoxyCodeLine{00892\ \textcolor{keyword}{class\ }GTEST\_API\_\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\ \{}
\DoxyCodeLine{00893\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00894\ \ \ \textcolor{comment}{//\ A\ copy\ constructor\ is\ required\ by\ the\ Standard\ to\ initialize\ object}}
\DoxyCodeLine{00895\ \ \ \textcolor{comment}{//\ references\ from\ r-\/values.}}
\DoxyCodeLine{00896\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\&\ other)\ \{\ Init(other.pattern());\ \}}
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00898\ \ \ \textcolor{comment}{//\ Constructs\ an\ RE\ from\ a\ string.}}
\DoxyCodeLine{00899\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(const\ ::std::string\&\ regex)\ \{\ Init(regex.c\_str());\ \}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00900\ }
\DoxyCodeLine{00901\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ regex)\ \{\ Init(regex);\ \}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00902\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{\string~RE}}();}
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00904\ \ \ \textcolor{comment}{//\ Returns\ the\ string\ representation\ of\ the\ regex.}}
\DoxyCodeLine{00905\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ pattern()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ pattern\_;\ \}}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ \ \ \textcolor{comment}{//\ FullMatch(str,\ re)\ returns\ true\ if\ and\ only\ if\ regular\ expression\ re}}
\DoxyCodeLine{00908\ \ \ \textcolor{comment}{//\ matches\ the\ entire\ str.}}
\DoxyCodeLine{00909\ \ \ \textcolor{comment}{//\ PartialMatch(str,\ re)\ returns\ true\ if\ and\ only\ if\ regular\ expression\ re}}
\DoxyCodeLine{00910\ \ \ \textcolor{comment}{//\ matches\ a\ substring\ of\ str\ (including\ str\ itself).}}
\DoxyCodeLine{00911\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FullMatch(const\ ::std::string\&\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\&\ re)\ \{}
\DoxyCodeLine{00912\ \ \ \ \ \textcolor{keywordflow}{return}\ FullMatch(str.c\_str(),\ re);}
\DoxyCodeLine{00913\ \ \ \}}
\DoxyCodeLine{00914\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PartialMatch(const\ ::std::string\&\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\&\ re)\ \{}
\DoxyCodeLine{00915\ \ \ \ \ \textcolor{keywordflow}{return}\ PartialMatch(str.c\_str(),\ re);}
\DoxyCodeLine{00916\ \ \ \}}
\DoxyCodeLine{00917\ }
\DoxyCodeLine{00918\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FullMatch(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\&\ re);}
\DoxyCodeLine{00919\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PartialMatch(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\&\ re);}
\DoxyCodeLine{00920\ }
\DoxyCodeLine{00921\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00922\ \ \ \textcolor{keywordtype}{void}\ Init(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ regex);}
\DoxyCodeLine{00923\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ pattern\_;}
\DoxyCodeLine{00924\ \ \ \textcolor{keywordtype}{bool}\ is\_valid\_;}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00926\ \textcolor{preprocessor}{\#\ if\ GTEST\_USES\_POSIX\_RE}}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \ \ regex\_t\ full\_regex\_;\ \ \ \ \ \textcolor{comment}{//\ For\ FullMatch().}}
\DoxyCodeLine{00929\ \ \ regex\_t\ partial\_regex\_;\ \ \textcolor{comment}{//\ For\ PartialMatch().}}
\DoxyCodeLine{00930\ }
\DoxyCodeLine{00931\ \textcolor{preprocessor}{\#\ else\ \ }\textcolor{comment}{//\ GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{00932\ }
\DoxyCodeLine{00933\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ full\_pattern\_;\ \ \textcolor{comment}{//\ For\ FullMatch();}}
\DoxyCodeLine{00934\ }
\DoxyCodeLine{00935\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00936\ \};}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_USES\_PCRE}}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \textcolor{comment}{//\ Formats\ a\ source\ file\ path\ and\ a\ line\ number\ as\ they\ would\ appear}}
\DoxyCodeLine{00941\ \textcolor{comment}{//\ in\ an\ error\ message\ from\ the\ compiler\ used\ to\ compile\ this\ code.}}
\DoxyCodeLine{00942\ GTEST\_API\_\ ::std::string\ FormatFileLocation(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \textcolor{comment}{//\ Formats\ a\ file\ location\ for\ compiler-\/independent\ XML\ output.}}
\DoxyCodeLine{00945\ \textcolor{comment}{//\ Although\ this\ function\ is\ not\ platform\ dependent,\ we\ put\ it\ next\ to}}
\DoxyCodeLine{00946\ \textcolor{comment}{//\ FormatFileLocation\ in\ order\ to\ contrast\ the\ two\ functions.}}
\DoxyCodeLine{00947\ GTEST\_API\_\ ::std::string\ FormatCompilerIndependentFileLocation(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \textcolor{comment}{//\ Defines\ logging\ utilities:}}
\DoxyCodeLine{00951\ \textcolor{comment}{//\ \ \ GTEST\_LOG\_(severity)\ -\/\ logs\ messages\ at\ the\ specified\ severity\ level.\ The}}
\DoxyCodeLine{00952\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ itself\ is\ streamed\ into\ the\ macro.}}
\DoxyCodeLine{00953\ \textcolor{comment}{//\ \ \ LogToStderr()\ \ -\/\ directs\ all\ log\ messages\ to\ stderr.}}
\DoxyCodeLine{00954\ \textcolor{comment}{//\ \ \ FlushInfoLog()\ -\/\ flushes\ informational\ log\ messages.}}
\DoxyCodeLine{00955\ }
\DoxyCodeLine{00956\ \textcolor{keyword}{enum}\ GTestLogSeverity\ \{}
\DoxyCodeLine{00957\ \ \ GTEST\_INFO,}
\DoxyCodeLine{00958\ \ \ GTEST\_WARNING,}
\DoxyCodeLine{00959\ \ \ GTEST\_ERROR,}
\DoxyCodeLine{00960\ \ \ GTEST\_FATAL}
\DoxyCodeLine{00961\ \};}
\DoxyCodeLine{00962\ }
\DoxyCodeLine{00963\ \textcolor{comment}{//\ Formats\ log\ entry\ severity,\ provides\ a\ stream\ object\ for\ streaming\ the}}
\DoxyCodeLine{00964\ \textcolor{comment}{//\ log\ message,\ and\ terminates\ the\ message\ with\ a\ newline\ when\ going\ out\ of}}
\DoxyCodeLine{00965\ \textcolor{comment}{//\ scope.}}
\DoxyCodeLine{00966\ \textcolor{keyword}{class\ }GTEST\_API\_\ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}}\ \{}
\DoxyCodeLine{00967\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00968\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}}(GTestLogSeverity\ severity,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \textcolor{keywordtype}{int}\ line);}
\DoxyCodeLine{00969\ }
\DoxyCodeLine{00970\ \ \ \textcolor{comment}{//\ Flushes\ the\ buffers\ and,\ if\ severity\ is\ GTEST\_FATAL,\ aborts\ the\ program.}}
\DoxyCodeLine{00971\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{\string~GTestLog}}();}
\DoxyCodeLine{00972\ }
\DoxyCodeLine{00973\ \ \ ::std::ostream\&\ GetStream()\ \{\ return\ ::std::cerr;\ \}}
\DoxyCodeLine{00974\ }
\DoxyCodeLine{00975\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00976\ \ \ \textcolor{keyword}{const}\ GTestLogSeverity\ severity\_;}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(\mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}});}
\DoxyCodeLine{00979\ \};}
\DoxyCodeLine{00980\ }
\DoxyCodeLine{00981\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{00982\ }
\DoxyCodeLine{00983\ \textcolor{preprocessor}{\#\ define\ GTEST\_LOG\_(severity)\ \(\backslash\)}}
\DoxyCodeLine{00984\ \textcolor{preprocessor}{\ \ \ \ ::testing::internal::GTestLog(::testing::internal::GTEST\_\#\#severity,\ \(\backslash\)}}
\DoxyCodeLine{00985\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_FILE\_\_,\ \_\_LINE\_\_).GetStream()}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ LogToStderr()\ \{\}}
\DoxyCodeLine{00988\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ FlushInfoLog()\ \{\ fflush(\textcolor{keyword}{nullptr});\ \}}
\DoxyCodeLine{00989\ }
\DoxyCodeLine{00990\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{00993\ \textcolor{comment}{//\ INTERNAL\ IMPLEMENTATION\ -\/\ DO\ NOT\ USE.}}
\DoxyCodeLine{00994\ \textcolor{comment}{//}}
\DoxyCodeLine{00995\ \textcolor{comment}{//\ GTEST\_CHECK\_\ is\ an\ all-\/mode\ assert.\ It\ aborts\ the\ program\ if\ the\ condition}}
\DoxyCodeLine{00996\ \textcolor{comment}{//\ is\ not\ satisfied.}}
\DoxyCodeLine{00997\ \textcolor{comment}{//\ \ Synopsis:}}
\DoxyCodeLine{00998\ \textcolor{comment}{//\ \ \ \ GTEST\_CHECK\_(boolean\_condition);}}
\DoxyCodeLine{00999\ \textcolor{comment}{//\ \ \ \ \ or}}
\DoxyCodeLine{01000\ \textcolor{comment}{//\ \ \ \ GTEST\_CHECK\_(boolean\_condition)\ <<\ "{}Additional\ message"{};}}
\DoxyCodeLine{01001\ \textcolor{comment}{//}}
\DoxyCodeLine{01002\ \textcolor{comment}{//\ \ \ \ This\ checks\ the\ condition\ and\ if\ the\ condition\ is\ not\ satisfied}}
\DoxyCodeLine{01003\ \textcolor{comment}{//\ \ \ \ it\ prints\ message\ about\ the\ condition\ violation,\ including\ the}}
\DoxyCodeLine{01004\ \textcolor{comment}{//\ \ \ \ condition\ itself,\ plus\ additional\ message\ streamed\ into\ it,\ if\ any,}}
\DoxyCodeLine{01005\ \textcolor{comment}{//\ \ \ \ and\ then\ it\ aborts\ the\ program.\ It\ aborts\ the\ program\ irrespective\ of}}
\DoxyCodeLine{01006\ \textcolor{comment}{//\ \ \ \ whether\ it\ is\ built\ in\ the\ debug\ mode\ or\ not.}}
\DoxyCodeLine{01007\ \textcolor{preprocessor}{\#\ define\ GTEST\_CHECK\_(condition)\ \(\backslash\)}}
\DoxyCodeLine{01008\ \textcolor{preprocessor}{\ \ \ \ GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_\ \(\backslash\)}}
\DoxyCodeLine{01009\ \textcolor{preprocessor}{\ \ \ \ if\ (::testing::internal::IsTrue(condition))\ \(\backslash\)}}
\DoxyCodeLine{01010\ \textcolor{preprocessor}{\ \ \ \ \ \ ;\ \(\backslash\)}}
\DoxyCodeLine{01011\ \textcolor{preprocessor}{\ \ \ \ else\ \(\backslash\)}}
\DoxyCodeLine{01012\ \textcolor{preprocessor}{\ \ \ \ \ \ GTEST\_LOG\_(FATAL)\ <<\ "{}Condition\ "{}\ \#condition\ "{}\ failed.\ "{}}}
\DoxyCodeLine{01013\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{01014\ }
\DoxyCodeLine{01015\ \textcolor{comment}{//\ An\ all-\/mode\ assert\ to\ verify\ that\ the\ given\ POSIX-\/style\ function}}
\DoxyCodeLine{01016\ \textcolor{comment}{//\ call\ returns\ 0\ (indicating\ success).\ \ Known\ limitation:\ this}}
\DoxyCodeLine{01017\ \textcolor{comment}{//\ doesn't\ expand\ to\ a\ balanced\ 'if'\ statement,\ so\ enclose\ the\ macro}}
\DoxyCodeLine{01018\ \textcolor{comment}{//\ in\ \{\}\ if\ you\ need\ to\ use\ it\ as\ the\ only\ statement\ in\ an\ 'if'}}
\DoxyCodeLine{01019\ \textcolor{comment}{//\ branch.}}
\DoxyCodeLine{01020\ \textcolor{preprocessor}{\#define\ GTEST\_CHECK\_POSIX\_SUCCESS\_(posix\_call)\ \(\backslash\)}}
\DoxyCodeLine{01021\ \textcolor{preprocessor}{\ \ if\ (const\ int\ gtest\_error\ =\ (posix\_call))\ \(\backslash\)}}
\DoxyCodeLine{01022\ \textcolor{preprocessor}{\ \ \ \ GTEST\_LOG\_(FATAL)\ <<\ \#posix\_call\ <<\ "{}failed\ with\ error\ "{}\ \(\backslash\)}}
\DoxyCodeLine{01023\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ gtest\_error}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \textcolor{comment}{//\ Transforms\ "{}T"{}\ into\ "{}const\ T\&"{}\ according\ to\ standard\ reference\ collapsing}}
\DoxyCodeLine{01026\ \textcolor{comment}{//\ rules\ (this\ is\ only\ needed\ as\ a\ backport\ for\ C++98\ compilers\ that\ do\ not}}
\DoxyCodeLine{01027\ \textcolor{comment}{//\ support\ reference\ collapsing).\ Specifically,\ it\ transforms:}}
\DoxyCodeLine{01028\ \textcolor{comment}{//}}
\DoxyCodeLine{01029\ \textcolor{comment}{//\ \ \ char\ \ \ \ \ \ \ \ \ ==>\ const\ char\&}}
\DoxyCodeLine{01030\ \textcolor{comment}{//\ \ \ const\ char\ \ \ ==>\ const\ char\&}}
\DoxyCodeLine{01031\ \textcolor{comment}{//\ \ \ char\&\ \ \ \ \ \ \ \ ==>\ char\&}}
\DoxyCodeLine{01032\ \textcolor{comment}{//\ \ \ const\ char\&\ \ ==>\ const\ char\&}}
\DoxyCodeLine{01033\ \textcolor{comment}{//}}
\DoxyCodeLine{01034\ \textcolor{comment}{//\ Note\ that\ the\ non-\/const\ reference\ will\ not\ have\ "{}const"{}\ added.\ This\ is}}
\DoxyCodeLine{01035\ \textcolor{comment}{//\ standard,\ and\ necessary\ so\ that\ "{}T"{}\ can\ always\ bind\ to\ "{}const\ T\&"{}.}}
\DoxyCodeLine{01036\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtesting_1_1internal_1_1_const_ref}{ConstRef}}\ \{\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ T\&\ type;\ \};}
\DoxyCodeLine{01038\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01039\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtesting_1_1internal_1_1_const_ref}{ConstRef}}<T\&>\ \{\ \textcolor{keyword}{typedef}\ T\&\ type;\ \};}
\DoxyCodeLine{01040\ }
\DoxyCodeLine{01041\ \textcolor{comment}{//\ The\ argument\ T\ must\ depend\ on\ some\ template\ parameters.}}
\DoxyCodeLine{01042\ \textcolor{preprocessor}{\#define\ GTEST\_REFERENCE\_TO\_CONST\_(T)\ \(\backslash\)}}
\DoxyCodeLine{01043\ \textcolor{preprocessor}{\ \ typename\ ::testing::internal::ConstRef<T>::type}}
\DoxyCodeLine{01044\ }
\DoxyCodeLine{01045\ \textcolor{comment}{//\ INTERNAL\ IMPLEMENTATION\ -\/\ DO\ NOT\ USE\ IN\ USER\ CODE.}}
\DoxyCodeLine{01046\ \textcolor{comment}{//}}
\DoxyCodeLine{01047\ \textcolor{comment}{//\ Use\ ImplicitCast\_\ as\ a\ safe\ version\ of\ static\_cast\ for\ upcasting\ in}}
\DoxyCodeLine{01048\ \textcolor{comment}{//\ the\ type\ hierarchy\ (e.g.\ casting\ a\ Foo*\ to\ a\ SuperclassOfFoo*\ or\ a}}
\DoxyCodeLine{01049\ \textcolor{comment}{//\ const\ Foo*).\ \ When\ you\ use\ ImplicitCast\_,\ the\ compiler\ checks\ that}}
\DoxyCodeLine{01050\ \textcolor{comment}{//\ the\ cast\ is\ safe.\ \ Such\ explicit\ ImplicitCast\_s\ are\ necessary\ in}}
\DoxyCodeLine{01051\ \textcolor{comment}{//\ surprisingly\ many\ situations\ where\ C++\ demands\ an\ exact\ type\ match}}
\DoxyCodeLine{01052\ \textcolor{comment}{//\ instead\ of\ an\ argument\ type\ convertible\ to\ a\ target\ type.}}
\DoxyCodeLine{01053\ \textcolor{comment}{//}}
\DoxyCodeLine{01054\ \textcolor{comment}{//\ The\ syntax\ for\ using\ ImplicitCast\_\ is\ the\ same\ as\ for\ static\_cast:}}
\DoxyCodeLine{01055\ \textcolor{comment}{//}}
\DoxyCodeLine{01056\ \textcolor{comment}{//\ \ \ ImplicitCast\_<ToType>(expr)}}
\DoxyCodeLine{01057\ \textcolor{comment}{//}}
\DoxyCodeLine{01058\ \textcolor{comment}{//\ ImplicitCast\_\ would\ have\ been\ part\ of\ the\ C++\ standard\ library,}}
\DoxyCodeLine{01059\ \textcolor{comment}{//\ but\ the\ proposal\ was\ submitted\ too\ late.\ \ It\ will\ probably\ make}}
\DoxyCodeLine{01060\ \textcolor{comment}{//\ its\ way\ into\ the\ language\ in\ the\ future.}}
\DoxyCodeLine{01061\ \textcolor{comment}{//}}
\DoxyCodeLine{01062\ \textcolor{comment}{//\ This\ relatively\ ugly\ name\ is\ intentional.\ It\ prevents\ clashes\ with}}
\DoxyCodeLine{01063\ \textcolor{comment}{//\ similar\ functions\ users\ may\ have\ (e.g.,\ implicit\_cast).\ The\ internal}}
\DoxyCodeLine{01064\ \textcolor{comment}{//\ namespace\ alone\ is\ not\ enough\ because\ the\ function\ can\ be\ found\ by\ ADL.}}
\DoxyCodeLine{01065\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ To>}
\DoxyCodeLine{01066\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_to}{To}}\ ImplicitCast\_(\mbox{\hyperlink{classtesting_1_1internal_1_1_to}{To}}\ x)\ \{\ \textcolor{keywordflow}{return}\ x;\ \}}
\DoxyCodeLine{01067\ }
\DoxyCodeLine{01068\ \textcolor{comment}{//\ When\ you\ upcast\ (that\ is,\ cast\ a\ pointer\ from\ type\ Foo\ to\ type}}
\DoxyCodeLine{01069\ \textcolor{comment}{//\ SuperclassOfFoo),\ it's\ fine\ to\ use\ ImplicitCast\_<>,\ since\ upcasts}}
\DoxyCodeLine{01070\ \textcolor{comment}{//\ always\ succeed.\ \ When\ you\ downcast\ (that\ is,\ cast\ a\ pointer\ from}}
\DoxyCodeLine{01071\ \textcolor{comment}{//\ type\ Foo\ to\ type\ SubclassOfFoo),\ static\_cast<>\ isn't\ safe,\ because}}
\DoxyCodeLine{01072\ \textcolor{comment}{//\ how\ do\ you\ know\ the\ pointer\ is\ really\ of\ type\ SubclassOfFoo?\ \ It}}
\DoxyCodeLine{01073\ \textcolor{comment}{//\ could\ be\ a\ bare\ Foo,\ or\ of\ type\ DifferentSubclassOfFoo.\ \ Thus,}}
\DoxyCodeLine{01074\ \textcolor{comment}{//\ when\ you\ downcast,\ you\ should\ use\ this\ macro.\ \ In\ debug\ mode,\ we}}
\DoxyCodeLine{01075\ \textcolor{comment}{//\ use\ dynamic\_cast<>\ to\ double-\/check\ the\ downcast\ is\ legal\ (we\ die}}
\DoxyCodeLine{01076\ \textcolor{comment}{//\ if\ it's\ not).\ \ In\ normal\ mode,\ we\ do\ the\ efficient\ static\_cast<>}}
\DoxyCodeLine{01077\ \textcolor{comment}{//\ instead.\ \ Thus,\ it's\ important\ to\ test\ in\ debug\ mode\ to\ make\ sure}}
\DoxyCodeLine{01078\ \textcolor{comment}{//\ the\ cast\ is\ legal!}}
\DoxyCodeLine{01079\ \textcolor{comment}{//\ \ \ \ This\ is\ the\ only\ place\ in\ the\ code\ we\ should\ use\ dynamic\_cast<>.}}
\DoxyCodeLine{01080\ \textcolor{comment}{//\ In\ particular,\ you\ SHOULDN'T\ be\ using\ dynamic\_cast<>\ in\ order\ to}}
\DoxyCodeLine{01081\ \textcolor{comment}{//\ do\ RTTI\ (eg\ code\ like\ this:}}
\DoxyCodeLine{01082\ \textcolor{comment}{//\ \ \ \ if\ (dynamic\_cast<Subclass1>(foo))\ HandleASubclass1Object(foo);}}
\DoxyCodeLine{01083\ \textcolor{comment}{//\ \ \ \ if\ (dynamic\_cast<Subclass2>(foo))\ HandleASubclass2Object(foo);}}
\DoxyCodeLine{01084\ \textcolor{comment}{//\ You\ should\ design\ the\ code\ some\ other\ way\ not\ to\ need\ this.}}
\DoxyCodeLine{01085\ \textcolor{comment}{//}}
\DoxyCodeLine{01086\ \textcolor{comment}{//\ This\ relatively\ ugly\ name\ is\ intentional.\ It\ prevents\ clashes\ with}}
\DoxyCodeLine{01087\ \textcolor{comment}{//\ similar\ functions\ users\ may\ have\ (e.g.,\ down\_cast).\ The\ internal}}
\DoxyCodeLine{01088\ \textcolor{comment}{//\ namespace\ alone\ is\ not\ enough\ because\ the\ function\ can\ be\ found\ by\ ADL.}}
\DoxyCodeLine{01089\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From>\ \ \textcolor{comment}{//\ use\ like\ this:\ DownCast\_<T*>(foo);}}
\DoxyCodeLine{01090\ \textcolor{keyword}{inline}\ To\ DownCast\_(From*\ f)\ \{\ \ \textcolor{comment}{//\ so\ we\ only\ accept\ pointers}}
\DoxyCodeLine{01091\ \ \ \textcolor{comment}{//\ Ensures\ that\ To\ is\ a\ sub-\/type\ of\ From\ *.\ \ This\ test\ is\ here\ only}}
\DoxyCodeLine{01092\ \ \ \textcolor{comment}{//\ for\ compile-\/time\ type\ checking,\ and\ has\ no\ overhead\ in\ an}}
\DoxyCodeLine{01093\ \ \ \textcolor{comment}{//\ optimized\ build\ at\ run-\/time,\ as\ it\ will\ be\ optimized\ away}}
\DoxyCodeLine{01094\ \ \ \textcolor{comment}{//\ completely.}}
\DoxyCodeLine{01095\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}
\DoxyCodeLine{01096\ \ \ if\ (false)\ \{}
\DoxyCodeLine{01097\ \ \ GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}
\DoxyCodeLine{01098\ \ \ const\ To\ to\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{01099\ \ \ ::testing::internal::ImplicitCast\_<From*>(to);}
\DoxyCodeLine{01100\ \ \ \}}
\DoxyCodeLine{01101\ }
\DoxyCodeLine{01102\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{01103\ \ \ \textcolor{comment}{//\ RTTI:\ debug\ mode\ only!}}
\DoxyCodeLine{01104\ \ \ GTEST\_CHECK\_(f\ ==\ \textcolor{keyword}{nullptr}\ ||\ \textcolor{keyword}{dynamic\_cast<}To\textcolor{keyword}{>}(f)\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01105\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01106\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}To\textcolor{keyword}{>}(f);}
\DoxyCodeLine{01107\ \}}
\DoxyCodeLine{01108\ }
\DoxyCodeLine{01109\ \textcolor{comment}{//\ Downcasts\ the\ pointer\ of\ type\ Base\ to\ Derived.}}
\DoxyCodeLine{01110\ \textcolor{comment}{//\ Derived\ must\ be\ a\ subclass\ of\ Base.\ The\ parameter\ MUST}}
\DoxyCodeLine{01111\ \textcolor{comment}{//\ point\ to\ a\ class\ of\ type\ Derived,\ not\ any\ subclass\ of\ it.}}
\DoxyCodeLine{01112\ \textcolor{comment}{//\ When\ RTTI\ is\ available,\ the\ function\ performs\ a\ runtime}}
\DoxyCodeLine{01113\ \textcolor{comment}{//\ check\ to\ enforce\ this.}}
\DoxyCodeLine{01114\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived,\ \textcolor{keyword}{class}\ Base>}
\DoxyCodeLine{01115\ Derived*\ CheckedDowncastToActualType(Base*\ base)\ \{}
\DoxyCodeLine{01116\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{01117\ \ \ GTEST\_CHECK\_(\textcolor{keyword}{typeid}(*base)\ ==\ \textcolor{keyword}{typeid}(Derived));}
\DoxyCodeLine{01118\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_DOWNCAST\_}}
\DoxyCodeLine{01121\ \ \ return\ ::down\_cast<Derived*>(base);}
\DoxyCodeLine{01122\ \textcolor{preprocessor}{\#elif\ GTEST\_HAS\_RTTI}}
\DoxyCodeLine{01123\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{dynamic\_cast<}Derived*\textcolor{keyword}{>}(base);\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{01124\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01125\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(base);\ \ \textcolor{comment}{//\ Poor\ man's\ downcast.}}
\DoxyCodeLine{01126\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01127\ \}}
\DoxyCodeLine{01128\ }
\DoxyCodeLine{01129\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{01130\ }
\DoxyCodeLine{01131\ \textcolor{comment}{//\ Defines\ the\ stderr\ capturer:}}
\DoxyCodeLine{01132\ \textcolor{comment}{//\ \ \ CaptureStdout\ \ \ \ \ -\/\ starts\ capturing\ stdout.}}
\DoxyCodeLine{01133\ \textcolor{comment}{//\ \ \ GetCapturedStdout\ -\/\ stops\ capturing\ stdout\ and\ returns\ the\ captured\ string.}}
\DoxyCodeLine{01134\ \textcolor{comment}{//\ \ \ CaptureStderr\ \ \ \ \ -\/\ starts\ capturing\ stderr.}}
\DoxyCodeLine{01135\ \textcolor{comment}{//\ \ \ GetCapturedStderr\ -\/\ stops\ capturing\ stderr\ and\ returns\ the\ captured\ string.}}
\DoxyCodeLine{01136\ \textcolor{comment}{//}}
\DoxyCodeLine{01137\ GTEST\_API\_\ \textcolor{keywordtype}{void}\ CaptureStdout();}
\DoxyCodeLine{01138\ GTEST\_API\_\ std::string\ GetCapturedStdout();}
\DoxyCodeLine{01139\ GTEST\_API\_\ \textcolor{keywordtype}{void}\ CaptureStderr();}
\DoxyCodeLine{01140\ GTEST\_API\_\ std::string\ GetCapturedStderr();}
\DoxyCodeLine{01141\ }
\DoxyCodeLine{01142\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{01143\ \textcolor{comment}{//\ Returns\ the\ size\ (in\ bytes)\ of\ a\ file.}}
\DoxyCodeLine{01144\ GTEST\_API\_\ \textcolor{keywordtype}{size\_t}\ GetFileSize(FILE*\ file);}
\DoxyCodeLine{01145\ }
\DoxyCodeLine{01146\ \textcolor{comment}{//\ Reads\ the\ entire\ content\ of\ a\ file\ as\ a\ string.}}
\DoxyCodeLine{01147\ GTEST\_API\_\ std::string\ ReadEntireFile(FILE*\ file);}
\DoxyCodeLine{01148\ }
\DoxyCodeLine{01149\ \textcolor{comment}{//\ All\ command\ line\ arguments.}}
\DoxyCodeLine{01150\ GTEST\_API\_\ std::vector<std::string>\ GetArgvs();}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ std::vector<std::string>\ GetInjectableArgvs();}
\DoxyCodeLine{01155\ \textcolor{comment}{//\ Deprecated:\ pass\ the\ args\ vector\ by\ value\ instead.}}
\DoxyCodeLine{01156\ \textcolor{keywordtype}{void}\ SetInjectableArgvs(\textcolor{keyword}{const}\ std::vector<std::string>*\ new\_argvs);}
\DoxyCodeLine{01157\ \textcolor{keywordtype}{void}\ SetInjectableArgvs(\textcolor{keyword}{const}\ std::vector<std::string>\&\ new\_argvs);}
\DoxyCodeLine{01158\ \textcolor{keywordtype}{void}\ ClearInjectableArgvs();}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{01161\ }
\DoxyCodeLine{01162\ \textcolor{comment}{//\ Defines\ synchronization\ primitives.}}
\DoxyCodeLine{01163\ \textcolor{preprocessor}{\#if\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01164\ \textcolor{preprocessor}{\#\ if\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01165\ \textcolor{comment}{//\ Sleeps\ for\ (roughly)\ n\ milliseconds.\ \ This\ function\ is\ only\ for\ testing}}
\DoxyCodeLine{01166\ \textcolor{comment}{//\ Google\ Test's\ own\ constructs.\ \ Don't\ use\ it\ in\ user\ tests,\ either}}
\DoxyCodeLine{01167\ \textcolor{comment}{//\ directly\ or\ indirectly.}}
\DoxyCodeLine{01168\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SleepMilliseconds(\textcolor{keywordtype}{int}\ n)\ \{}
\DoxyCodeLine{01169\ \ \ \textcolor{keyword}{const}\ timespec\ time\ =\ \{}
\DoxyCodeLine{01170\ \ \ \ \ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 0\ seconds.}}
\DoxyCodeLine{01171\ \ \ \ \ n\ *\ 1000L\ *\ 1000L,\ \ \textcolor{comment}{//\ And\ n\ ms.}}
\DoxyCodeLine{01172\ \ \ \};}
\DoxyCodeLine{01173\ \ \ nanosleep(\&time,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01174\ \}}
\DoxyCodeLine{01175\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01176\ }
\DoxyCodeLine{01177\ \textcolor{preprocessor}{\#\ if\ GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{01178\ \textcolor{comment}{//\ Notification\ has\ already\ been\ imported\ into\ the\ namespace.}}
\DoxyCodeLine{01179\ \textcolor{comment}{//\ Nothing\ to\ do\ here.}}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \textcolor{preprocessor}{\#\ elif\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01182\ \textcolor{comment}{//\ Allows\ a\ controller\ thread\ to\ pause\ execution\ of\ newly\ created}}
\DoxyCodeLine{01183\ \textcolor{comment}{//\ threads\ until\ notified.\ \ Instances\ of\ this\ class\ must\ be\ created}}
\DoxyCodeLine{01184\ \textcolor{comment}{//\ and\ destroyed\ in\ the\ controller\ thread.}}
\DoxyCodeLine{01185\ \textcolor{comment}{//}}
\DoxyCodeLine{01186\ \textcolor{comment}{//\ This\ class\ is\ only\ for\ testing\ Google\ Test's\ own\ constructs.\ Do\ not}}
\DoxyCodeLine{01187\ \textcolor{comment}{//\ use\ it\ in\ user\ tests,\ either\ directly\ or\ indirectly.}}
\DoxyCodeLine{01188\ \textcolor{keyword}{class\ }Notification\ \{}
\DoxyCodeLine{01189\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01190\ \ \ Notification()\ :\ notified\_(false)\ \{}
\DoxyCodeLine{01191\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_,\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{01192\ \ \ \}}
\DoxyCodeLine{01193\ \ \ \string~Notification()\ \{}
\DoxyCodeLine{01194\ \ \ \ \ pthread\_mutex\_destroy(\&mutex\_);}
\DoxyCodeLine{01195\ \ \ \}}
\DoxyCodeLine{01196\ }
\DoxyCodeLine{01197\ \ \ \textcolor{comment}{//\ Notifies\ all\ threads\ created\ with\ this\ notification\ to\ start.\ Must}}
\DoxyCodeLine{01198\ \ \ \textcolor{comment}{//\ be\ called\ from\ the\ controller\ thread.}}
\DoxyCodeLine{01199\ \ \ \textcolor{keywordtype}{void}\ Notify()\ \{}
\DoxyCodeLine{01200\ \ \ \ \ pthread\_mutex\_lock(\&mutex\_);}
\DoxyCodeLine{01201\ \ \ \ \ notified\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01202\ \ \ \ \ pthread\_mutex\_unlock(\&mutex\_);}
\DoxyCodeLine{01203\ \ \ \}}
\DoxyCodeLine{01204\ }
\DoxyCodeLine{01205\ \ \ \textcolor{comment}{//\ Blocks\ until\ the\ controller\ thread\ notifies.\ Must\ be\ called\ from\ a\ test}}
\DoxyCodeLine{01206\ \ \ \textcolor{comment}{//\ thread.}}
\DoxyCodeLine{01207\ \ \ \textcolor{keywordtype}{void}\ WaitForNotification()\ \{}
\DoxyCodeLine{01208\ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{01209\ \ \ \ \ \ \ pthread\_mutex\_lock(\&mutex\_);}
\DoxyCodeLine{01210\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ notified\ =\ notified\_;}
\DoxyCodeLine{01211\ \ \ \ \ \ \ pthread\_mutex\_unlock(\&mutex\_);}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (notified)}
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01214\ \ \ \ \ \ \ SleepMilliseconds(10);}
\DoxyCodeLine{01215\ \ \ \ \ \}}
\DoxyCodeLine{01216\ \ \ \}}
\DoxyCodeLine{01217\ }
\DoxyCodeLine{01218\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01219\ \ \ pthread\_mutex\_t\ mutex\_;}
\DoxyCodeLine{01220\ \ \ \textcolor{keywordtype}{bool}\ notified\_;}
\DoxyCodeLine{01221\ }
\DoxyCodeLine{01222\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Notification);}
\DoxyCodeLine{01223\ \};}
\DoxyCodeLine{01224\ }
\DoxyCodeLine{01225\ \textcolor{preprocessor}{\#\ elif\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_PHONE\ \&\&\ !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{01226\ }
\DoxyCodeLine{01227\ GTEST\_API\_\ \textcolor{keywordtype}{void}\ SleepMilliseconds(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{01228\ }
\DoxyCodeLine{01229\ \textcolor{comment}{//\ Provides\ leak-\/safe\ Windows\ kernel\ handle\ ownership.}}
\DoxyCodeLine{01230\ \textcolor{comment}{//\ Used\ in\ death\ tests\ and\ in\ threading\ support.}}
\DoxyCodeLine{01231\ \textcolor{keyword}{class\ }GTEST\_API\_\ AutoHandle\ \{}
\DoxyCodeLine{01232\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01233\ \ \ \textcolor{comment}{//\ Assume\ that\ Win32\ HANDLE\ type\ is\ equivalent\ to\ void*.\ Doing\ so\ allows\ us\ to}}
\DoxyCodeLine{01234\ \ \ \textcolor{comment}{//\ avoid\ including\ <windows.h>\ in\ this\ header\ file.\ Including\ <windows.h>\ is}}
\DoxyCodeLine{01235\ \ \ \textcolor{comment}{//\ undesirable\ because\ it\ defines\ a\ lot\ of\ symbols\ and\ macros\ that\ tend\ to}}
\DoxyCodeLine{01236\ \ \ \textcolor{comment}{//\ conflict\ with\ client\ code.\ This\ assumption\ is\ verified\ by}}
\DoxyCodeLine{01237\ \ \ \textcolor{comment}{//\ WindowsTypesTest.HANDLEIsVoidStar.}}
\DoxyCodeLine{01238\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ Handle;}
\DoxyCodeLine{01239\ \ \ AutoHandle();}
\DoxyCodeLine{01240\ \ \ \textcolor{keyword}{explicit}\ AutoHandle(Handle\ handle);}
\DoxyCodeLine{01241\ }
\DoxyCodeLine{01242\ \ \ \string~AutoHandle();}
\DoxyCodeLine{01243\ }
\DoxyCodeLine{01244\ \ \ Handle\ Get()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01245\ \ \ \textcolor{keywordtype}{void}\ Reset();}
\DoxyCodeLine{01246\ \ \ \textcolor{keywordtype}{void}\ Reset(Handle\ handle);}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01249\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ and\ only\ if\ the\ handle\ is\ a\ valid\ handle\ object\ that\ can\ be}}
\DoxyCodeLine{01250\ \ \ \textcolor{comment}{//\ closed.}}
\DoxyCodeLine{01251\ \ \ \textcolor{keywordtype}{bool}\ IsCloseable()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01252\ }
\DoxyCodeLine{01253\ \ \ Handle\ handle\_;}
\DoxyCodeLine{01254\ }
\DoxyCodeLine{01255\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(AutoHandle);}
\DoxyCodeLine{01256\ \};}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \textcolor{comment}{//\ Allows\ a\ controller\ thread\ to\ pause\ execution\ of\ newly\ created}}
\DoxyCodeLine{01259\ \textcolor{comment}{//\ threads\ until\ notified.\ \ Instances\ of\ this\ class\ must\ be\ created}}
\DoxyCodeLine{01260\ \textcolor{comment}{//\ and\ destroyed\ in\ the\ controller\ thread.}}
\DoxyCodeLine{01261\ \textcolor{comment}{//}}
\DoxyCodeLine{01262\ \textcolor{comment}{//\ This\ class\ is\ only\ for\ testing\ Google\ Test's\ own\ constructs.\ Do\ not}}
\DoxyCodeLine{01263\ \textcolor{comment}{//\ use\ it\ in\ user\ tests,\ either\ directly\ or\ indirectly.}}
\DoxyCodeLine{01264\ \textcolor{keyword}{class\ }GTEST\_API\_\ Notification\ \{}
\DoxyCodeLine{01265\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01266\ \ \ Notification();}
\DoxyCodeLine{01267\ \ \ \textcolor{keywordtype}{void}\ Notify();}
\DoxyCodeLine{01268\ \ \ \textcolor{keywordtype}{void}\ WaitForNotification();}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01271\ \ \ AutoHandle\ event\_;}
\DoxyCodeLine{01272\ }
\DoxyCodeLine{01273\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Notification);}
\DoxyCodeLine{01274\ \};}
\DoxyCodeLine{01275\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01277\ \textcolor{comment}{//\ On\ MinGW,\ we\ can\ have\ both\ GTEST\_OS\_WINDOWS\ and\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01278\ \textcolor{comment}{//\ defined,\ but\ we\ don't\ want\ to\ use\ MinGW's\ pthreads\ implementation,\ which}}
\DoxyCodeLine{01279\ \textcolor{comment}{//\ has\ conformance\ problems\ with\ some\ versions\ of\ the\ POSIX\ standard.}}
\DoxyCodeLine{01280\ \textcolor{preprocessor}{\#\ if\ GTEST\_HAS\_PTHREAD\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{01281\ }
\DoxyCodeLine{01282\ \textcolor{comment}{//\ As\ a\ C-\/function,\ ThreadFuncWithCLinkage\ cannot\ be\ templated\ itself.}}
\DoxyCodeLine{01283\ \textcolor{comment}{//\ Consequently,\ it\ cannot\ select\ a\ correct\ instantiation\ of\ ThreadWithParam}}
\DoxyCodeLine{01284\ \textcolor{comment}{//\ in\ order\ to\ call\ its\ Run().\ Introducing\ ThreadWithParamBase\ as\ a}}
\DoxyCodeLine{01285\ \textcolor{comment}{//\ non-\/templated\ base\ class\ for\ ThreadWithParam\ allows\ us\ to\ bypass\ this}}
\DoxyCodeLine{01286\ \textcolor{comment}{//\ problem.}}
\DoxyCodeLine{01287\ \textcolor{keyword}{class\ }ThreadWithParamBase\ \{}
\DoxyCodeLine{01288\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01289\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParamBase()\ \{\}}
\DoxyCodeLine{01290\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ =\ 0;}
\DoxyCodeLine{01291\ \};}
\DoxyCodeLine{01292\ }
\DoxyCodeLine{01293\ \textcolor{comment}{//\ pthread\_create()\ accepts\ a\ pointer\ to\ a\ function\ type\ with\ the\ C\ linkage.}}
\DoxyCodeLine{01294\ \textcolor{comment}{//\ According\ to\ the\ Standard\ (7.5/1),\ function\ types\ with\ different\ linkages}}
\DoxyCodeLine{01295\ \textcolor{comment}{//\ are\ different\ even\ if\ they\ are\ otherwise\ identical.\ \ Some\ compilers\ (for}}
\DoxyCodeLine{01296\ \textcolor{comment}{//\ example,\ SunStudio)\ treat\ them\ as\ different\ types.\ \ Since\ class\ methods}}
\DoxyCodeLine{01297\ \textcolor{comment}{//\ cannot\ be\ defined\ with\ C-\/linkage\ we\ need\ to\ define\ a\ free\ C-\/function\ to}}
\DoxyCodeLine{01298\ \textcolor{comment}{//\ pass\ into\ pthread\_create().}}
\DoxyCodeLine{01299\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ ThreadFuncWithCLinkage(\textcolor{keywordtype}{void}*\ thread)\ \{}
\DoxyCodeLine{01300\ \ \ \textcolor{keyword}{static\_cast<}ThreadWithParamBase*\textcolor{keyword}{>}(thread)-\/>Run();}
\DoxyCodeLine{01301\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01302\ \}}
\DoxyCodeLine{01303\ }
\DoxyCodeLine{01304\ \textcolor{comment}{//\ Helper\ class\ for\ testing\ Google\ Test's\ multi-\/threading\ constructs.}}
\DoxyCodeLine{01305\ \textcolor{comment}{//\ To\ use\ it,\ write:}}
\DoxyCodeLine{01306\ \textcolor{comment}{//}}
\DoxyCodeLine{01307\ \textcolor{comment}{//\ \ \ void\ ThreadFunc(int\ param)\ \{\ /*\ Do\ things\ with\ param\ */\ \}}}
\DoxyCodeLine{01308\ \textcolor{comment}{//\ \ \ Notification\ thread\_can\_start;}}
\DoxyCodeLine{01309\ \textcolor{comment}{//\ \ \ ...}}
\DoxyCodeLine{01310\ \textcolor{comment}{//\ \ \ //\ The\ thread\_can\_start\ parameter\ is\ optional;\ you\ can\ supply\ NULL.}}
\DoxyCodeLine{01311\ \textcolor{comment}{//\ \ \ ThreadWithParam<int>\ thread(\&ThreadFunc,\ 5,\ \&thread\_can\_start);}}
\DoxyCodeLine{01312\ \textcolor{comment}{//\ \ \ thread\_can\_start.Notify();}}
\DoxyCodeLine{01313\ \textcolor{comment}{//}}
\DoxyCodeLine{01314\ \textcolor{comment}{//\ These\ classes\ are\ only\ for\ testing\ Google\ Test's\ own\ constructs.\ Do}}
\DoxyCodeLine{01315\ \textcolor{comment}{//\ not\ use\ them\ in\ user\ tests,\ either\ directly\ or\ indirectly.}}
\DoxyCodeLine{01316\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01317\ \textcolor{keyword}{class\ }ThreadWithParam\ :\ \textcolor{keyword}{public}\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01318\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01319\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ UserThreadFunc(T);}
\DoxyCodeLine{01320\ }
\DoxyCodeLine{01321\ \ \ ThreadWithParam(UserThreadFunc*\ func,\ T\ param,\ Notification*\ thread\_can\_start)}
\DoxyCodeLine{01322\ \ \ \ \ \ \ :\ func\_(func),}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ param\_(param),}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ thread\_can\_start\_(thread\_can\_start),}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ finished\_(false)\ \{}
\DoxyCodeLine{01326\ \ \ \ \ ThreadWithParamBase*\ \textcolor{keyword}{const}\ base\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{01327\ \ \ \ \ \textcolor{comment}{//\ The\ thread\ can\ be\ created\ only\ after\ all\ fields\ except\ thread\_}}
\DoxyCodeLine{01328\ \ \ \ \ \textcolor{comment}{//\ have\ been\ initialized.}}
\DoxyCodeLine{01329\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ pthread\_create(\&thread\_,\ \textcolor{keyword}{nullptr},\ \&ThreadFuncWithCLinkage,\ base));}
\DoxyCodeLine{01331\ \ \ \}}
\DoxyCodeLine{01332\ \ \ \string~ThreadWithParam()\textcolor{keyword}{\ override\ }\{\ Join();\ \}}
\DoxyCodeLine{01333\ }
\DoxyCodeLine{01334\ \ \ \textcolor{keywordtype}{void}\ Join()\ \{}
\DoxyCodeLine{01335\ \ \ \ \ \textcolor{keywordflow}{if}\ (!finished\_)\ \{}
\DoxyCodeLine{01336\ \ \ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_join(thread\_,\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{01337\ \ \ \ \ \ \ finished\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01338\ \ \ \ \ \}}
\DoxyCodeLine{01339\ \ \ \}}
\DoxyCodeLine{01340\ }
\DoxyCodeLine{01341\ \ \ \textcolor{keywordtype}{void}\ Run()\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{01342\ \ \ \ \ \textcolor{keywordflow}{if}\ (thread\_can\_start\_\ !=\ \textcolor{keyword}{nullptr})\ thread\_can\_start\_-\/>WaitForNotification();}
\DoxyCodeLine{01343\ \ \ \ \ func\_(param\_);}
\DoxyCodeLine{01344\ \ \ \}}
\DoxyCodeLine{01345\ }
\DoxyCodeLine{01346\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01347\ \ \ UserThreadFunc*\ \textcolor{keyword}{const}\ func\_;\ \ \textcolor{comment}{//\ User-\/supplied\ thread\ function.}}
\DoxyCodeLine{01348\ \ \ \textcolor{keyword}{const}\ T\ param\_;\ \ \textcolor{comment}{//\ User-\/supplied\ parameter\ to\ the\ thread\ function.}}
\DoxyCodeLine{01349\ \ \ \textcolor{comment}{//\ When\ non-\/NULL,\ used\ to\ block\ execution\ until\ the\ controller\ thread}}
\DoxyCodeLine{01350\ \ \ \textcolor{comment}{//\ notifies.}}
\DoxyCodeLine{01351\ \ \ Notification*\ \textcolor{keyword}{const}\ thread\_can\_start\_;}
\DoxyCodeLine{01352\ \ \ \textcolor{keywordtype}{bool}\ finished\_;\ \ \textcolor{comment}{//\ true\ if\ and\ only\ if\ we\ know\ that\ the\ thread\ function\ has}}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ finished.}}
\DoxyCodeLine{01354\ \ \ pthread\_t\ thread\_;\ \ \textcolor{comment}{//\ The\ native\ thread\ object.}}
\DoxyCodeLine{01355\ }
\DoxyCodeLine{01356\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadWithParam);}
\DoxyCodeLine{01357\ \};}
\DoxyCodeLine{01358\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ !GTEST\_OS\_WINDOWS\ \&\&\ GTEST\_HAS\_PTHREAD\ ||}}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01360\ }
\DoxyCodeLine{01361\ \textcolor{preprocessor}{\#\ if\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01362\ \textcolor{comment}{//\ Mutex\ and\ ThreadLocal\ have\ already\ been\ imported\ into\ the\ namespace.}}
\DoxyCodeLine{01363\ \textcolor{comment}{//\ Nothing\ to\ do\ here.}}
\DoxyCodeLine{01364\ }
\DoxyCodeLine{01365\ \textcolor{preprocessor}{\#\ elif\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_PHONE\ \&\&\ !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \textcolor{comment}{//\ Mutex\ implements\ mutex\ on\ Windows\ platforms.\ \ It\ is\ used\ in\ conjunction}}
\DoxyCodeLine{01368\ \textcolor{comment}{//\ with\ class\ MutexLock:}}
\DoxyCodeLine{01369\ \textcolor{comment}{//}}
\DoxyCodeLine{01370\ \textcolor{comment}{//\ \ \ Mutex\ mutex;}}
\DoxyCodeLine{01371\ \textcolor{comment}{//\ \ \ ...}}
\DoxyCodeLine{01372\ \textcolor{comment}{//\ \ \ MutexLock\ lock(\&mutex);\ \ //\ Acquires\ the\ mutex\ and\ releases\ it\ at\ the}}
\DoxyCodeLine{01373\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ end\ of\ the\ current\ scope.}}
\DoxyCodeLine{01374\ \textcolor{comment}{//}}
\DoxyCodeLine{01375\ \textcolor{comment}{//\ A\ static\ Mutex\ *must*\ be\ defined\ or\ declared\ using\ one\ of\ the\ following}}
\DoxyCodeLine{01376\ \textcolor{comment}{//\ macros:}}
\DoxyCodeLine{01377\ \textcolor{comment}{//\ \ \ GTEST\_DEFINE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{01378\ \textcolor{comment}{//\ \ \ GTEST\_DECLARE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{01379\ \textcolor{comment}{//}}
\DoxyCodeLine{01380\ \textcolor{comment}{//\ (A\ non-\/static\ Mutex\ is\ defined/declared\ in\ the\ usual\ way).}}
\DoxyCodeLine{01381\ \textcolor{keyword}{class\ }GTEST\_API\_\ Mutex\ \{}
\DoxyCodeLine{01382\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01383\ \ \ \textcolor{keyword}{enum}\ MutexType\ \{\ kStatic\ =\ 0,\ kDynamic\ =\ 1\ \};}
\DoxyCodeLine{01384\ \ \ \textcolor{comment}{//\ We\ rely\ on\ kStaticMutex\ being\ 0\ as\ it\ is\ to\ what\ the\ linker\ initializes}}
\DoxyCodeLine{01385\ \ \ \textcolor{comment}{//\ type\_\ in\ static\ mutexes.\ \ critical\_section\_\ will\ be\ initialized\ lazily}}
\DoxyCodeLine{01386\ \ \ \textcolor{comment}{//\ in\ ThreadSafeLazyInit().}}
\DoxyCodeLine{01387\ \ \ \textcolor{keyword}{enum}\ StaticConstructorSelector\ \{\ kStaticMutex\ =\ 0\ \};}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \ \ \textcolor{comment}{//\ This\ constructor\ intentionally\ does\ nothing.\ \ It\ relies\ on\ type\_\ being}}
\DoxyCodeLine{01390\ \ \ \textcolor{comment}{//\ statically\ initialized\ to\ 0\ (effectively\ setting\ it\ to\ kStatic)\ and\ on}}
\DoxyCodeLine{01391\ \ \ \textcolor{comment}{//\ ThreadSafeLazyInit()\ to\ lazily\ initialize\ the\ rest\ of\ the\ members.}}
\DoxyCodeLine{01392\ \ \ \textcolor{keyword}{explicit}\ Mutex(StaticConstructorSelector\ \textcolor{comment}{/*dummy*/})\ \{\}}
\DoxyCodeLine{01393\ }
\DoxyCodeLine{01394\ \ \ Mutex();}
\DoxyCodeLine{01395\ \ \ \string~Mutex();}
\DoxyCodeLine{01396\ }
\DoxyCodeLine{01397\ \ \ \textcolor{keywordtype}{void}\ Lock();}
\DoxyCodeLine{01398\ }
\DoxyCodeLine{01399\ \ \ \textcolor{keywordtype}{void}\ Unlock();}
\DoxyCodeLine{01400\ }
\DoxyCodeLine{01401\ \ \ \textcolor{comment}{//\ Does\ nothing\ if\ the\ current\ thread\ holds\ the\ mutex.\ Otherwise,\ crashes}}
\DoxyCodeLine{01402\ \ \ \textcolor{comment}{//\ with\ high\ probability.}}
\DoxyCodeLine{01403\ \ \ \textcolor{keywordtype}{void}\ AssertHeld();}
\DoxyCodeLine{01404\ }
\DoxyCodeLine{01405\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01406\ \ \ \textcolor{comment}{//\ Initializes\ owner\_thread\_id\_\ and\ critical\_section\_\ in\ static\ mutexes.}}
\DoxyCodeLine{01407\ \ \ \textcolor{keywordtype}{void}\ ThreadSafeLazyInit();}
\DoxyCodeLine{01408\ }
\DoxyCodeLine{01409\ \ \ \textcolor{comment}{//\ Per\ https://blogs.msdn.microsoft.com/oldnewthing/20040223-\/00/?p=40503,}}
\DoxyCodeLine{01410\ \ \ \textcolor{comment}{//\ we\ assume\ that\ 0\ is\ an\ invalid\ value\ for\ thread\ IDs.}}
\DoxyCodeLine{01411\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ owner\_thread\_id\_;}
\DoxyCodeLine{01412\ }
\DoxyCodeLine{01413\ \ \ \textcolor{comment}{//\ For\ static\ mutexes,\ we\ rely\ on\ these\ members\ being\ initialized\ to\ zeros}}
\DoxyCodeLine{01414\ \ \ \textcolor{comment}{//\ by\ the\ linker.}}
\DoxyCodeLine{01415\ \ \ MutexType\ type\_;}
\DoxyCodeLine{01416\ \ \ \textcolor{keywordtype}{long}\ critical\_section\_init\_phase\_;\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{01417\ \ \ GTEST\_CRITICAL\_SECTION*\ critical\_section\_;}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Mutex);}
\DoxyCodeLine{01420\ \};}
\DoxyCodeLine{01421\ }
\DoxyCodeLine{01422\ \textcolor{preprocessor}{\#\ define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01423\ \textcolor{preprocessor}{\ \ \ \ extern\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01424\ }
\DoxyCodeLine{01425\ \textcolor{preprocessor}{\#\ define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01426\ \textcolor{preprocessor}{\ \ \ \ ::testing::internal::Mutex\ mutex(::testing::internal::Mutex::kStaticMutex)}}
\DoxyCodeLine{01427\ }
\DoxyCodeLine{01428\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01429\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01430\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01431\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01432\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01433\ \textcolor{keyword}{class\ }GTestMutexLock\ \{}
\DoxyCodeLine{01434\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01435\ \ \ \textcolor{keyword}{explicit}\ GTestMutexLock(Mutex*\ mutex)}
\DoxyCodeLine{01436\ \ \ \ \ \ \ :\ mutex\_(mutex)\ \{\ mutex\_-\/>Lock();\ \}}
\DoxyCodeLine{01437\ }
\DoxyCodeLine{01438\ \ \ \string~GTestMutexLock()\ \{\ mutex\_-\/>Unlock();\ \}}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01441\ \ \ Mutex*\ \textcolor{keyword}{const}\ mutex\_;}
\DoxyCodeLine{01442\ }
\DoxyCodeLine{01443\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(GTestMutexLock);}
\DoxyCodeLine{01444\ \};}
\DoxyCodeLine{01445\ }
\DoxyCodeLine{01446\ \textcolor{keyword}{typedef}\ GTestMutexLock\ MutexLock;}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \textcolor{comment}{//\ Base\ class\ for\ ValueHolder<T>.\ \ Allows\ a\ caller\ to\ hold\ and\ delete\ a\ value}}
\DoxyCodeLine{01449\ \textcolor{comment}{//\ without\ knowing\ its\ type.}}
\DoxyCodeLine{01450\ \textcolor{keyword}{class\ }ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01451\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01452\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalValueHolderBase()\ \{\}}
\DoxyCodeLine{01453\ \};}
\DoxyCodeLine{01454\ }
\DoxyCodeLine{01455\ \textcolor{comment}{//\ Provides\ a\ way\ for\ a\ thread\ to\ send\ notifications\ to\ a\ ThreadLocal}}
\DoxyCodeLine{01456\ \textcolor{comment}{//\ regardless\ of\ its\ parameter\ type.}}
\DoxyCodeLine{01457\ \textcolor{keyword}{class\ }ThreadLocalBase\ \{}
\DoxyCodeLine{01458\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01459\ \ \ \textcolor{comment}{//\ Creates\ a\ new\ ValueHolder<T>\ object\ holding\ a\ default\ value\ passed\ to}}
\DoxyCodeLine{01460\ \ \ \textcolor{comment}{//\ this\ ThreadLocal<T>'s\ constructor\ and\ returns\ it.\ \ It\ is\ the\ caller's}}
\DoxyCodeLine{01461\ \ \ \textcolor{comment}{//\ responsibility\ not\ to\ call\ this\ when\ the\ ThreadLocal<T>\ instance\ already}}
\DoxyCodeLine{01462\ \ \ \textcolor{comment}{//\ has\ a\ value\ on\ the\ current\ thread.}}
\DoxyCodeLine{01463\ \ \ \textcolor{keyword}{virtual}\ ThreadLocalValueHolderBase*\ NewValueForCurrentThread()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01464\ }
\DoxyCodeLine{01465\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01466\ \ \ ThreadLocalBase()\ \{\}}
\DoxyCodeLine{01467\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalBase()\ \{\}}
\DoxyCodeLine{01468\ }
\DoxyCodeLine{01469\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01470\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocalBase);}
\DoxyCodeLine{01471\ \};}
\DoxyCodeLine{01472\ }
\DoxyCodeLine{01473\ \textcolor{comment}{//\ Maps\ a\ thread\ to\ a\ set\ of\ ThreadLocals\ that\ have\ values\ instantiated\ on\ that}}
\DoxyCodeLine{01474\ \textcolor{comment}{//\ thread\ and\ notifies\ them\ when\ the\ thread\ exits.\ \ A\ ThreadLocal\ instance\ is}}
\DoxyCodeLine{01475\ \textcolor{comment}{//\ expected\ to\ persist\ until\ all\ threads\ it\ has\ values\ on\ have\ terminated.}}
\DoxyCodeLine{01476\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadLocalRegistry\ \{}
\DoxyCodeLine{01477\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01478\ \ \ \textcolor{comment}{//\ Registers\ thread\_local\_instance\ as\ having\ value\ on\ the\ current\ thread.}}
\DoxyCodeLine{01479\ \ \ \textcolor{comment}{//\ Returns\ a\ value\ that\ can\ be\ used\ to\ identify\ the\ thread\ from\ other\ threads.}}
\DoxyCodeLine{01480\ \ \ \textcolor{keyword}{static}\ ThreadLocalValueHolderBase*\ GetValueOnCurrentThread(}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThreadLocalBase*\ thread\_local\_instance);}
\DoxyCodeLine{01482\ }
\DoxyCodeLine{01483\ \ \ \textcolor{comment}{//\ Invoked\ when\ a\ ThreadLocal\ instance\ is\ destroyed.}}
\DoxyCodeLine{01484\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ OnThreadLocalDestroyed(}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThreadLocalBase*\ thread\_local\_instance);}
\DoxyCodeLine{01486\ \};}
\DoxyCodeLine{01487\ }
\DoxyCodeLine{01488\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01489\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01490\ \ \ \textcolor{keywordtype}{void}\ Join();}
\DoxyCodeLine{01491\ }
\DoxyCodeLine{01492\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01493\ \ \ \textcolor{keyword}{class\ }Runnable\ \{}
\DoxyCodeLine{01494\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01495\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Runnable()\ \{\}}
\DoxyCodeLine{01496\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ =\ 0;}
\DoxyCodeLine{01497\ \ \ \};}
\DoxyCodeLine{01498\ }
\DoxyCodeLine{01499\ \ \ ThreadWithParamBase(Runnable\ *runnable,\ Notification*\ thread\_can\_start);}
\DoxyCodeLine{01500\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParamBase();}
\DoxyCodeLine{01501\ }
\DoxyCodeLine{01502\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01503\ \ \ AutoHandle\ thread\_;}
\DoxyCodeLine{01504\ \};}
\DoxyCodeLine{01505\ }
\DoxyCodeLine{01506\ \textcolor{comment}{//\ Helper\ class\ for\ testing\ Google\ Test's\ multi-\/threading\ constructs.}}
\DoxyCodeLine{01507\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01508\ \textcolor{keyword}{class\ }ThreadWithParam\ :\ \textcolor{keyword}{public}\ ThreadWithParamBase\ \{}
\DoxyCodeLine{01509\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01510\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ UserThreadFunc(T);}
\DoxyCodeLine{01511\ }
\DoxyCodeLine{01512\ \ \ ThreadWithParam(UserThreadFunc*\ func,\ T\ param,\ Notification*\ thread\_can\_start)}
\DoxyCodeLine{01513\ \ \ \ \ \ \ :\ ThreadWithParamBase(new\ RunnableImpl(func,\ param),\ thread\_can\_start)\ \{}
\DoxyCodeLine{01514\ \ \ \}}
\DoxyCodeLine{01515\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadWithParam()\ \{\}}
\DoxyCodeLine{01516\ }
\DoxyCodeLine{01517\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01518\ \ \ \textcolor{keyword}{class\ }RunnableImpl\ :\ \textcolor{keyword}{public}\ Runnable\ \{}
\DoxyCodeLine{01519\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01520\ \ \ \ \ RunnableImpl(UserThreadFunc*\ func,\ T\ param)}
\DoxyCodeLine{01521\ \ \ \ \ \ \ \ \ :\ func\_(func),}
\DoxyCodeLine{01522\ \ \ \ \ \ \ \ \ \ \ param\_(param)\ \{}
\DoxyCodeLine{01523\ \ \ \ \ \}}
\DoxyCodeLine{01524\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~RunnableImpl()\ \{\}}
\DoxyCodeLine{01525\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run()\ \{}
\DoxyCodeLine{01526\ \ \ \ \ \ \ func\_(param\_);}
\DoxyCodeLine{01527\ \ \ \ \ \}}
\DoxyCodeLine{01528\ }
\DoxyCodeLine{01529\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01530\ \ \ \ \ UserThreadFunc*\ \textcolor{keyword}{const}\ func\_;}
\DoxyCodeLine{01531\ \ \ \ \ \textcolor{keyword}{const}\ T\ param\_;}
\DoxyCodeLine{01532\ }
\DoxyCodeLine{01533\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(RunnableImpl);}
\DoxyCodeLine{01534\ \ \ \};}
\DoxyCodeLine{01535\ }
\DoxyCodeLine{01536\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadWithParam);}
\DoxyCodeLine{01537\ \};}
\DoxyCodeLine{01538\ }
\DoxyCodeLine{01539\ \textcolor{comment}{//\ Implements\ thread-\/local\ storage\ on\ Windows\ systems.}}
\DoxyCodeLine{01540\ \textcolor{comment}{//}}
\DoxyCodeLine{01541\ \textcolor{comment}{//\ \ \ //\ Thread\ 1}}
\DoxyCodeLine{01542\ \textcolor{comment}{//\ \ \ ThreadLocal<int>\ tl(100);\ \ //\ 100\ is\ the\ default\ value\ for\ each\ thread.}}
\DoxyCodeLine{01543\ \textcolor{comment}{//}}
\DoxyCodeLine{01544\ \textcolor{comment}{//\ \ \ //\ Thread\ 2}}
\DoxyCodeLine{01545\ \textcolor{comment}{//\ \ \ tl.set(150);\ \ //\ Changes\ the\ value\ for\ thread\ 2\ only.}}
\DoxyCodeLine{01546\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(150,\ tl.get());}}
\DoxyCodeLine{01547\ \textcolor{comment}{//}}
\DoxyCodeLine{01548\ \textcolor{comment}{//\ \ \ //\ Thread\ 1}}
\DoxyCodeLine{01549\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(100,\ tl.get());\ \ //\ In\ thread\ 1,\ tl\ has\ the\ original\ value.}}
\DoxyCodeLine{01550\ \textcolor{comment}{//\ \ \ tl.set(200);}}
\DoxyCodeLine{01551\ \textcolor{comment}{//\ \ \ EXPECT\_EQ(200,\ tl.get());}}
\DoxyCodeLine{01552\ \textcolor{comment}{//}}
\DoxyCodeLine{01553\ \textcolor{comment}{//\ The\ template\ type\ argument\ T\ must\ have\ a\ public\ copy\ constructor.}}
\DoxyCodeLine{01554\ \textcolor{comment}{//\ In\ addition,\ the\ default\ ThreadLocal\ constructor\ requires\ T\ to\ have}}
\DoxyCodeLine{01555\ \textcolor{comment}{//\ a\ public\ default\ constructor.}}
\DoxyCodeLine{01556\ \textcolor{comment}{//}}
\DoxyCodeLine{01557\ \textcolor{comment}{//\ The\ users\ of\ a\ TheadLocal\ instance\ have\ to\ make\ sure\ that\ all\ but\ one}}
\DoxyCodeLine{01558\ \textcolor{comment}{//\ threads\ (including\ the\ main\ one)\ using\ that\ instance\ have\ exited\ before}}
\DoxyCodeLine{01559\ \textcolor{comment}{//\ destroying\ it.\ Otherwise,\ the\ per-\/thread\ objects\ managed\ for\ them\ by\ the}}
\DoxyCodeLine{01560\ \textcolor{comment}{//\ ThreadLocal\ instance\ are\ not\ guaranteed\ to\ be\ destroyed\ on\ all\ platforms.}}
\DoxyCodeLine{01561\ \textcolor{comment}{//}}
\DoxyCodeLine{01562\ \textcolor{comment}{//\ Google\ Test\ only\ uses\ global\ ThreadLocal\ objects.\ \ That\ means\ they}}
\DoxyCodeLine{01563\ \textcolor{comment}{//\ will\ die\ after\ main()\ has\ returned.\ \ Therefore,\ no\ per-\/thread}}
\DoxyCodeLine{01564\ \textcolor{comment}{//\ object\ managed\ by\ Google\ Test\ will\ be\ leaked\ as\ long\ as\ all\ threads}}
\DoxyCodeLine{01565\ \textcolor{comment}{//\ using\ Google\ Test\ have\ exited\ when\ main()\ returns.}}
\DoxyCodeLine{01566\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01567\ \textcolor{keyword}{class\ }ThreadLocal\ :\ \textcolor{keyword}{public}\ ThreadLocalBase\ \{}
\DoxyCodeLine{01568\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01569\ \ \ ThreadLocal()\ :\ default\_factory\_(new\ DefaultValueHolderFactory())\ \{\}}
\DoxyCodeLine{01570\ \ \ \textcolor{keyword}{explicit}\ ThreadLocal(\textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{01571\ \ \ \ \ \ \ :\ default\_factory\_(new\ InstanceValueHolderFactory(value))\ \{\}}
\DoxyCodeLine{01572\ }
\DoxyCodeLine{01573\ \ \ \string~ThreadLocal()\ \{\ ThreadLocalRegistry::OnThreadLocalDestroyed(\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{01574\ }
\DoxyCodeLine{01575\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01576\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01577\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *pointer();\ \}}
\DoxyCodeLine{01578\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ *pointer()\ =\ value;\ \}}
\DoxyCodeLine{01579\ }
\DoxyCodeLine{01580\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01581\ \ \ \textcolor{comment}{//\ Holds\ a\ value\ of\ T.\ \ Can\ be\ deleted\ via\ its\ base\ class\ without\ the\ caller}}
\DoxyCodeLine{01582\ \ \ \textcolor{comment}{//\ knowing\ the\ type\ of\ T.}}
\DoxyCodeLine{01583\ \ \ \textcolor{keyword}{class\ }ValueHolder\ :\ \textcolor{keyword}{public}\ ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01584\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01585\ \ \ \ \ ValueHolder()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01586\ \ \ \ \ \textcolor{keyword}{explicit}\ ValueHolder(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01587\ }
\DoxyCodeLine{01588\ \ \ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01589\ }
\DoxyCodeLine{01590\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01591\ \ \ \ \ T\ value\_;}
\DoxyCodeLine{01592\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolder);}
\DoxyCodeLine{01593\ \ \ \};}
\DoxyCodeLine{01594\ }
\DoxyCodeLine{01595\ }
\DoxyCodeLine{01596\ \ \ T*\ GetOrCreateValue()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01597\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}ValueHolder*\textcolor{keyword}{>}(}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ ThreadLocalRegistry::GetValueOnCurrentThread(\textcolor{keyword}{this}))-\/>pointer();}
\DoxyCodeLine{01599\ \ \ \}}
\DoxyCodeLine{01600\ }
\DoxyCodeLine{01601\ \ \ \textcolor{keyword}{virtual}\ ThreadLocalValueHolderBase*\ NewValueForCurrentThread()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01602\ \ \ \ \ \textcolor{keywordflow}{return}\ default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{01603\ \ \ \}}
\DoxyCodeLine{01604\ }
\DoxyCodeLine{01605\ \ \ \textcolor{keyword}{class\ }ValueHolderFactory\ \{}
\DoxyCodeLine{01606\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01607\ \ \ \ \ ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01608\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01609\ \ \ \ \ \textcolor{keyword}{virtual}\ ValueHolder*\ MakeNewHolder()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01612\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolderFactory);}
\DoxyCodeLine{01613\ \ \ \};}
\DoxyCodeLine{01614\ }
\DoxyCodeLine{01615\ \ \ \textcolor{keyword}{class\ }DefaultValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01616\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01617\ \ \ \ \ DefaultValueHolderFactory()\ \{\}}
\DoxyCodeLine{01618\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder();\ \}}
\DoxyCodeLine{01619\ }
\DoxyCodeLine{01620\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01621\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(DefaultValueHolderFactory);}
\DoxyCodeLine{01622\ \ \ \};}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \textcolor{keyword}{class\ }InstanceValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01625\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01626\ \ \ \ \ \textcolor{keyword}{explicit}\ InstanceValueHolderFactory(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01627\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder(value\_);}
\DoxyCodeLine{01629\ \ \ \ \ \}}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01632\ \ \ \ \ \textcolor{keyword}{const}\ T\ value\_;\ \ \textcolor{comment}{//\ The\ value\ for\ each\ thread.}}
\DoxyCodeLine{01633\ }
\DoxyCodeLine{01634\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(InstanceValueHolderFactory);}
\DoxyCodeLine{01635\ \ \ \};}
\DoxyCodeLine{01636\ }
\DoxyCodeLine{01637\ \ \ std::unique\_ptr<ValueHolderFactory>\ default\_factory\_;}
\DoxyCodeLine{01638\ }
\DoxyCodeLine{01639\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocal);}
\DoxyCodeLine{01640\ \};}
\DoxyCodeLine{01641\ }
\DoxyCodeLine{01642\ \textcolor{preprocessor}{\#\ elif\ GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{01643\ }
\DoxyCodeLine{01644\ \textcolor{comment}{//\ MutexBase\ and\ Mutex\ implement\ mutex\ on\ pthreads-\/based\ platforms.}}
\DoxyCodeLine{01645\ \textcolor{keyword}{class\ }MutexBase\ \{}
\DoxyCodeLine{01646\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01647\ \ \ \textcolor{comment}{//\ Acquires\ this\ mutex.}}
\DoxyCodeLine{01648\ \ \ \textcolor{keywordtype}{void}\ Lock()\ \{}
\DoxyCodeLine{01649\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_lock(\&mutex\_));}
\DoxyCodeLine{01650\ \ \ \ \ owner\_\ =\ pthread\_self();}
\DoxyCodeLine{01651\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01652\ \ \ \}}
\DoxyCodeLine{01653\ }
\DoxyCodeLine{01654\ \ \ \textcolor{comment}{//\ Releases\ this\ mutex.}}
\DoxyCodeLine{01655\ \ \ \textcolor{keywordtype}{void}\ Unlock()\ \{}
\DoxyCodeLine{01656\ \ \ \ \ \textcolor{comment}{//\ Since\ the\ lock\ is\ being\ released\ the\ owner\_\ field\ should\ no\ longer\ be}}
\DoxyCodeLine{01657\ \ \ \ \ \textcolor{comment}{//\ considered\ valid.\ We\ don't\ protect\ writing\ to\ has\_owner\_\ here,\ as\ it's}}
\DoxyCodeLine{01658\ \ \ \ \ \textcolor{comment}{//\ the\ caller's\ responsibility\ to\ ensure\ that\ the\ current\ thread\ holds\ the}}
\DoxyCodeLine{01659\ \ \ \ \ \textcolor{comment}{//\ mutex\ when\ this\ is\ called.}}
\DoxyCodeLine{01660\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01661\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_unlock(\&mutex\_));}
\DoxyCodeLine{01662\ \ \ \}}
\DoxyCodeLine{01663\ }
\DoxyCodeLine{01664\ \ \ \textcolor{comment}{//\ Does\ nothing\ if\ the\ current\ thread\ holds\ the\ mutex.\ Otherwise,\ crashes}}
\DoxyCodeLine{01665\ \ \ \textcolor{comment}{//\ with\ high\ probability.}}
\DoxyCodeLine{01666\ \ \ \textcolor{keywordtype}{void}\ AssertHeld()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01667\ \ \ \ \ GTEST\_CHECK\_(has\_owner\_\ \&\&\ pthread\_equal(owner\_,\ pthread\_self()))}
\DoxyCodeLine{01668\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}The\ current\ thread\ is\ not\ holding\ the\ mutex\ @"{}}\ <<\ \textcolor{keyword}{this};}
\DoxyCodeLine{01669\ \ \ \}}
\DoxyCodeLine{01670\ }
\DoxyCodeLine{01671\ \ \ \textcolor{comment}{//\ A\ static\ mutex\ may\ be\ used\ before\ main()\ is\ entered.\ \ It\ may\ even}}
\DoxyCodeLine{01672\ \ \ \textcolor{comment}{//\ be\ used\ before\ the\ dynamic\ initialization\ stage.\ \ Therefore\ we}}
\DoxyCodeLine{01673\ \ \ \textcolor{comment}{//\ must\ be\ able\ to\ initialize\ a\ static\ mutex\ object\ at\ link\ time.}}
\DoxyCodeLine{01674\ \ \ \textcolor{comment}{//\ This\ means\ MutexBase\ has\ to\ be\ a\ POD\ and\ its\ member\ variables}}
\DoxyCodeLine{01675\ \ \ \textcolor{comment}{//\ have\ to\ be\ public.}}
\DoxyCodeLine{01676\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01677\ \ \ pthread\_mutex\_t\ mutex\_;\ \ \textcolor{comment}{//\ The\ underlying\ pthread\ mutex.}}
\DoxyCodeLine{01678\ \ \ \textcolor{comment}{//\ has\_owner\_\ indicates\ whether\ the\ owner\_\ field\ below\ contains\ a\ valid\ thread}}
\DoxyCodeLine{01679\ \ \ \textcolor{comment}{//\ ID\ and\ is\ therefore\ safe\ to\ inspect\ (e.g.,\ to\ use\ in\ pthread\_equal()).\ All}}
\DoxyCodeLine{01680\ \ \ \textcolor{comment}{//\ accesses\ to\ the\ owner\_\ field\ should\ be\ protected\ by\ a\ check\ of\ this\ field.}}
\DoxyCodeLine{01681\ \ \ \textcolor{comment}{//\ An\ alternative\ might\ be\ to\ memset()\ owner\_\ to\ all\ zeros,\ but\ there's\ no}}
\DoxyCodeLine{01682\ \ \ \textcolor{comment}{//\ guarantee\ that\ a\ zero'd\ pthread\_t\ is\ necessarily\ invalid\ or\ even\ different}}
\DoxyCodeLine{01683\ \ \ \textcolor{comment}{//\ from\ pthread\_self().}}
\DoxyCodeLine{01684\ \ \ \textcolor{keywordtype}{bool}\ has\_owner\_;}
\DoxyCodeLine{01685\ \ \ pthread\_t\ owner\_;\ \ \textcolor{comment}{//\ The\ thread\ holding\ the\ mutex.}}
\DoxyCodeLine{01686\ \};}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ \textcolor{comment}{//\ Forward-\/declares\ a\ static\ mutex.}}
\DoxyCodeLine{01689\ \textcolor{preprocessor}{\#\ \ define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01690\ \textcolor{preprocessor}{\ \ \ \ \ extern\ ::testing::internal::MutexBase\ mutex}}
\DoxyCodeLine{01691\ }
\DoxyCodeLine{01692\ \textcolor{comment}{//\ Defines\ and\ statically\ (i.e.\ at\ link\ time)\ initializes\ a\ static\ mutex.}}
\DoxyCodeLine{01693\ \textcolor{comment}{//\ The\ initialization\ list\ here\ does\ not\ explicitly\ initialize\ each\ field,}}
\DoxyCodeLine{01694\ \textcolor{comment}{//\ instead\ relying\ on\ default\ initialization\ for\ the\ unspecified\ fields.\ In}}
\DoxyCodeLine{01695\ \textcolor{comment}{//\ particular,\ the\ owner\_\ field\ (a\ pthread\_t)\ is\ not\ explicitly\ initialized.}}
\DoxyCodeLine{01696\ \textcolor{comment}{//\ This\ allows\ initialization\ to\ work\ whether\ pthread\_t\ is\ a\ scalar\ or\ struct.}}
\DoxyCodeLine{01697\ \textcolor{comment}{//\ The\ flag\ -\/Wmissing-\/field-\/initializers\ must\ not\ be\ specified\ for\ this\ to\ work.}}
\DoxyCodeLine{01698\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01699\ \textcolor{preprocessor}{\ \ ::testing::internal::MutexBase\ mutex\ =\ \{PTHREAD\_MUTEX\_INITIALIZER,\ false,\ 0\}}}
\DoxyCodeLine{01700\ }
\DoxyCodeLine{01701\ \textcolor{comment}{//\ The\ Mutex\ class\ can\ only\ be\ used\ for\ mutexes\ created\ at\ runtime.\ It}}
\DoxyCodeLine{01702\ \textcolor{comment}{//\ shares\ its\ API\ with\ MutexBase\ otherwise.}}
\DoxyCodeLine{01703\ \textcolor{keyword}{class\ }Mutex\ :\ \textcolor{keyword}{public}\ MutexBase\ \{}
\DoxyCodeLine{01704\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01705\ \ \ Mutex()\ \{}
\DoxyCodeLine{01706\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_,\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{01707\ \ \ \ \ has\_owner\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01708\ \ \ \}}
\DoxyCodeLine{01709\ \ \ \string~Mutex()\ \{}
\DoxyCodeLine{01710\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_destroy(\&mutex\_));}
\DoxyCodeLine{01711\ \ \ \}}
\DoxyCodeLine{01712\ }
\DoxyCodeLine{01713\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01714\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Mutex);}
\DoxyCodeLine{01715\ \};}
\DoxyCodeLine{01716\ }
\DoxyCodeLine{01717\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01718\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01719\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01720\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01721\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01722\ \textcolor{keyword}{class\ }GTestMutexLock\ \{}
\DoxyCodeLine{01723\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01724\ \ \ \textcolor{keyword}{explicit}\ GTestMutexLock(MutexBase*\ mutex)}
\DoxyCodeLine{01725\ \ \ \ \ \ \ :\ mutex\_(mutex)\ \{\ mutex\_-\/>Lock();\ \}}
\DoxyCodeLine{01726\ }
\DoxyCodeLine{01727\ \ \ \string~GTestMutexLock()\ \{\ mutex\_-\/>Unlock();\ \}}
\DoxyCodeLine{01728\ }
\DoxyCodeLine{01729\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01730\ \ \ MutexBase*\ \textcolor{keyword}{const}\ mutex\_;}
\DoxyCodeLine{01731\ }
\DoxyCodeLine{01732\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(GTestMutexLock);}
\DoxyCodeLine{01733\ \};}
\DoxyCodeLine{01734\ }
\DoxyCodeLine{01735\ \textcolor{keyword}{typedef}\ GTestMutexLock\ MutexLock;}
\DoxyCodeLine{01736\ }
\DoxyCodeLine{01737\ \textcolor{comment}{//\ Helpers\ for\ ThreadLocal.}}
\DoxyCodeLine{01738\ }
\DoxyCodeLine{01739\ \textcolor{comment}{//\ pthread\_key\_create()\ requires\ DeleteThreadLocalValue()\ to\ have}}
\DoxyCodeLine{01740\ \textcolor{comment}{//\ C-\/linkage.\ \ Therefore\ it\ cannot\ be\ templatized\ to\ access}}
\DoxyCodeLine{01741\ \textcolor{comment}{//\ ThreadLocal<T>.\ \ Hence\ the\ need\ for\ class}}
\DoxyCodeLine{01742\ \textcolor{comment}{//\ ThreadLocalValueHolderBase.}}
\DoxyCodeLine{01743\ \textcolor{keyword}{class\ }ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01744\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01745\ \ \ \textcolor{keyword}{virtual}\ \string~ThreadLocalValueHolderBase()\ \{\}}
\DoxyCodeLine{01746\ \};}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \textcolor{comment}{//\ Called\ by\ pthread\ to\ delete\ thread-\/local\ data\ stored\ by}}
\DoxyCodeLine{01749\ \textcolor{comment}{//\ pthread\_setspecific().}}
\DoxyCodeLine{01750\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ DeleteThreadLocalValue(\textcolor{keywordtype}{void}*\ value\_holder)\ \{}
\DoxyCodeLine{01751\ \ \ \textcolor{keyword}{delete}\ \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(value\_holder);}
\DoxyCodeLine{01752\ \}}
\DoxyCodeLine{01753\ }
\DoxyCodeLine{01754\ \textcolor{comment}{//\ Implements\ thread-\/local\ storage\ on\ pthreads-\/based\ systems.}}
\DoxyCodeLine{01755\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01756\ \textcolor{keyword}{class\ }GTEST\_API\_\ ThreadLocal\ \{}
\DoxyCodeLine{01757\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01758\ \ \ ThreadLocal()}
\DoxyCodeLine{01759\ \ \ \ \ \ \ :\ key\_(CreateKey()),\ default\_factory\_(new\ DefaultValueHolderFactory())\ \{\}}
\DoxyCodeLine{01760\ \ \ \textcolor{keyword}{explicit}\ ThreadLocal(\textcolor{keyword}{const}\ T\&\ value)}
\DoxyCodeLine{01761\ \ \ \ \ \ \ :\ key\_(CreateKey()),}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ default\_factory\_(new\ InstanceValueHolderFactory(value))\ \{\}}
\DoxyCodeLine{01763\ }
\DoxyCodeLine{01764\ \ \ \string~ThreadLocal()\ \{}
\DoxyCodeLine{01765\ \ \ \ \ \textcolor{comment}{//\ Destroys\ the\ managed\ object\ for\ the\ current\ thread,\ if\ any.}}
\DoxyCodeLine{01766\ \ \ \ \ DeleteThreadLocalValue(pthread\_getspecific(key\_));}
\DoxyCodeLine{01767\ }
\DoxyCodeLine{01768\ \ \ \ \ \textcolor{comment}{//\ Releases\ resources\ associated\ with\ the\ key.\ \ This\ will\ *not*}}
\DoxyCodeLine{01769\ \ \ \ \ \textcolor{comment}{//\ delete\ managed\ objects\ for\ other\ threads.}}
\DoxyCodeLine{01770\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_key\_delete(key\_));}
\DoxyCodeLine{01771\ \ \ \}}
\DoxyCodeLine{01772\ }
\DoxyCodeLine{01773\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01774\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ GetOrCreateValue();\ \}}
\DoxyCodeLine{01775\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *pointer();\ \}}
\DoxyCodeLine{01776\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ *pointer()\ =\ value;\ \}}
\DoxyCodeLine{01777\ }
\DoxyCodeLine{01778\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01779\ \ \ \textcolor{comment}{//\ Holds\ a\ value\ of\ type\ T.}}
\DoxyCodeLine{01780\ \ \ \textcolor{keyword}{class\ }ValueHolder\ :\ \textcolor{keyword}{public}\ ThreadLocalValueHolderBase\ \{}
\DoxyCodeLine{01781\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01782\ \ \ \ \ ValueHolder()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01783\ \ \ \ \ \textcolor{keyword}{explicit}\ ValueHolder(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01784\ }
\DoxyCodeLine{01785\ \ \ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01786\ }
\DoxyCodeLine{01787\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01788\ \ \ \ \ T\ value\_;}
\DoxyCodeLine{01789\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolder);}
\DoxyCodeLine{01790\ \ \ \};}
\DoxyCodeLine{01791\ }
\DoxyCodeLine{01792\ \ \ \textcolor{keyword}{static}\ pthread\_key\_t\ CreateKey()\ \{}
\DoxyCodeLine{01793\ \ \ \ \ pthread\_key\_t\ key;}
\DoxyCodeLine{01794\ \ \ \ \ \textcolor{comment}{//\ When\ a\ thread\ exits,\ DeleteThreadLocalValue()\ will\ be\ called\ on}}
\DoxyCodeLine{01795\ \ \ \ \ \textcolor{comment}{//\ the\ object\ managed\ for\ that\ thread.}}
\DoxyCodeLine{01796\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ pthread\_key\_create(\&key,\ \&DeleteThreadLocalValue));}
\DoxyCodeLine{01798\ \ \ \ \ \textcolor{keywordflow}{return}\ key;}
\DoxyCodeLine{01799\ \ \ \}}
\DoxyCodeLine{01800\ }
\DoxyCodeLine{01801\ \ \ T*\ GetOrCreateValue()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01802\ \ \ \ \ ThreadLocalValueHolderBase*\ \textcolor{keyword}{const}\ holder\ =}
\DoxyCodeLine{01803\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(pthread\_getspecific(key\_));}
\DoxyCodeLine{01804\ \ \ \ \ \textcolor{keywordflow}{if}\ (holder\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01805\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CheckedDowncastToActualType<ValueHolder>(holder)-\/>pointer();}
\DoxyCodeLine{01806\ \ \ \ \ \}}
\DoxyCodeLine{01807\ }
\DoxyCodeLine{01808\ \ \ \ \ ValueHolder*\ \textcolor{keyword}{const}\ new\_holder\ =\ default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{01809\ \ \ \ \ ThreadLocalValueHolderBase*\ \textcolor{keyword}{const}\ holder\_base\ =\ new\_holder;}
\DoxyCodeLine{01810\ \ \ \ \ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_setspecific(key\_,\ holder\_base));}
\DoxyCodeLine{01811\ \ \ \ \ \textcolor{keywordflow}{return}\ new\_holder-\/>pointer();}
\DoxyCodeLine{01812\ \ \ \}}
\DoxyCodeLine{01813\ }
\DoxyCodeLine{01814\ \ \ \textcolor{keyword}{class\ }ValueHolderFactory\ \{}
\DoxyCodeLine{01815\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01816\ \ \ \ \ ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01817\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ValueHolderFactory()\ \{\}}
\DoxyCodeLine{01818\ \ \ \ \ \textcolor{keyword}{virtual}\ ValueHolder*\ MakeNewHolder()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{01819\ }
\DoxyCodeLine{01820\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01821\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolderFactory);}
\DoxyCodeLine{01822\ \ \ \};}
\DoxyCodeLine{01823\ }
\DoxyCodeLine{01824\ \ \ \textcolor{keyword}{class\ }DefaultValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01825\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01826\ \ \ \ \ DefaultValueHolderFactory()\ \{\}}
\DoxyCodeLine{01827\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder();\ \}}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01830\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(DefaultValueHolderFactory);}
\DoxyCodeLine{01831\ \ \ \};}
\DoxyCodeLine{01832\ }
\DoxyCodeLine{01833\ \ \ \textcolor{keyword}{class\ }InstanceValueHolderFactory\ :\ \textcolor{keyword}{public}\ ValueHolderFactory\ \{}
\DoxyCodeLine{01834\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01835\ \ \ \ \ \textcolor{keyword}{explicit}\ InstanceValueHolderFactory(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01836\ \ \ \ \ ValueHolder*\ MakeNewHolder()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{01837\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ ValueHolder(value\_);}
\DoxyCodeLine{01838\ \ \ \ \ \}}
\DoxyCodeLine{01839\ }
\DoxyCodeLine{01840\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01841\ \ \ \ \ \textcolor{keyword}{const}\ T\ value\_;\ \ \textcolor{comment}{//\ The\ value\ for\ each\ thread.}}
\DoxyCodeLine{01842\ }
\DoxyCodeLine{01843\ \ \ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(InstanceValueHolderFactory);}
\DoxyCodeLine{01844\ \ \ \};}
\DoxyCodeLine{01845\ }
\DoxyCodeLine{01846\ \ \ \textcolor{comment}{//\ A\ key\ pthreads\ uses\ for\ looking\ up\ per-\/thread\ values.}}
\DoxyCodeLine{01847\ \ \ \textcolor{keyword}{const}\ pthread\_key\_t\ key\_;}
\DoxyCodeLine{01848\ \ \ std::unique\_ptr<ValueHolderFactory>\ default\_factory\_;}
\DoxyCodeLine{01849\ }
\DoxyCodeLine{01850\ \ \ GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocal);}
\DoxyCodeLine{01851\ \};}
\DoxyCodeLine{01852\ }
\DoxyCodeLine{01853\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01856\ }
\DoxyCodeLine{01857\ \textcolor{comment}{//\ A\ dummy\ implementation\ of\ synchronization\ primitives\ (mutex,\ lock,}}
\DoxyCodeLine{01858\ \textcolor{comment}{//\ and\ thread-\/local\ variable).\ \ Necessary\ for\ compiling\ Google\ Test\ where}}
\DoxyCodeLine{01859\ \textcolor{comment}{//\ mutex\ is\ not\ supported\ -\/\ using\ Google\ Test\ in\ multiple\ threads\ is\ not}}
\DoxyCodeLine{01860\ \textcolor{comment}{//\ supported\ on\ such\ platforms.}}
\DoxyCodeLine{01861\ }
\DoxyCodeLine{01862\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}}\ \{}
\DoxyCodeLine{01863\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01864\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}}()\ \{\}}
\DoxyCodeLine{01865\ \ \ \textcolor{keywordtype}{void}\ Lock()\ \{\}}
\DoxyCodeLine{01866\ \ \ \textcolor{keywordtype}{void}\ Unlock()\ \{\}}
\DoxyCodeLine{01867\ \ \ \textcolor{keywordtype}{void}\ AssertHeld()\textcolor{keyword}{\ const\ }\{\}}
\DoxyCodeLine{01868\ \};}
\DoxyCodeLine{01869\ }
\DoxyCodeLine{01870\ \textcolor{preprocessor}{\#\ define\ GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex)\ \(\backslash\)}}
\DoxyCodeLine{01871\ \textcolor{preprocessor}{\ \ extern\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01872\ }
\DoxyCodeLine{01873\ \textcolor{preprocessor}{\#\ define\ GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex)\ ::testing::internal::Mutex\ mutex}}
\DoxyCodeLine{01874\ }
\DoxyCodeLine{01875\ \textcolor{comment}{//\ We\ cannot\ name\ this\ class\ MutexLock\ because\ the\ ctor\ declaration\ would}}
\DoxyCodeLine{01876\ \textcolor{comment}{//\ conflict\ with\ a\ macro\ named\ MutexLock,\ which\ is\ defined\ on\ some}}
\DoxyCodeLine{01877\ \textcolor{comment}{//\ platforms.\ That\ macro\ is\ used\ as\ a\ defensive\ measure\ to\ prevent\ against}}
\DoxyCodeLine{01878\ \textcolor{comment}{//\ inadvertent\ misuses\ of\ MutexLock\ like\ "{}MutexLock(\&mu)"{}\ rather\ than}}
\DoxyCodeLine{01879\ \textcolor{comment}{//\ "{}MutexLock\ l(\&mu)"{}.\ \ Hence\ the\ typedef\ trick\ below.}}
\DoxyCodeLine{01880\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}}\ \{}
\DoxyCodeLine{01881\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01882\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}}(\mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}}*)\ \{\}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{01883\ \};}
\DoxyCodeLine{01884\ }
\DoxyCodeLine{01885\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{MutexLock}};}
\DoxyCodeLine{01886\ }
\DoxyCodeLine{01887\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01888\ \textcolor{keyword}{class\ }GTEST\_API\_\ \mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}}\ \{}
\DoxyCodeLine{01889\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01890\ \ \ \mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}}()\ :\ value\_()\ \{\}}
\DoxyCodeLine{01891\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}}(\textcolor{keyword}{const}\ T\&\ value)\ :\ value\_(value)\ \{\}}
\DoxyCodeLine{01892\ \ \ T*\ pointer()\ \{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01893\ \ \ \textcolor{keyword}{const}\ T*\ pointer()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&value\_;\ \}}
\DoxyCodeLine{01894\ \ \ \textcolor{keyword}{const}\ T\&\ get()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ value\_;\ \}}
\DoxyCodeLine{01895\ \ \ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ T\&\ value)\ \{\ value\_\ =\ value;\ \}}
\DoxyCodeLine{01896\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01897\ \ \ T\ value\_;}
\DoxyCodeLine{01898\ \};}
\DoxyCodeLine{01899\ }
\DoxyCodeLine{01900\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{01901\ }
\DoxyCodeLine{01902\ \textcolor{comment}{//\ Returns\ the\ number\ of\ threads\ running\ in\ the\ process,\ or\ 0\ to\ indicate\ that}}
\DoxyCodeLine{01903\ \textcolor{comment}{//\ we\ cannot\ detect\ it.}}
\DoxyCodeLine{01904\ GTEST\_API\_\ \textcolor{keywordtype}{size\_t}\ GetThreadCount();}
\DoxyCodeLine{01905\ }
\DoxyCodeLine{01906\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01907\ \textcolor{preprocessor}{\#\ define\ GTEST\_PATH\_SEP\_\ "{}\(\backslash\)\(\backslash\)"{}}}
\DoxyCodeLine{01908\ \textcolor{preprocessor}{\#\ define\ GTEST\_HAS\_ALT\_PATH\_SEP\_\ 1}}
\DoxyCodeLine{01909\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01910\ \textcolor{preprocessor}{\#\ define\ GTEST\_PATH\_SEP\_\ "{}/"{}}}
\DoxyCodeLine{01911\ \textcolor{preprocessor}{\#\ define\ GTEST\_HAS\_ALT\_PATH\_SEP\_\ 0}}
\DoxyCodeLine{01912\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01913\ }
\DoxyCodeLine{01914\ \textcolor{comment}{//\ Utilities\ for\ char.}}
\DoxyCodeLine{01915\ }
\DoxyCodeLine{01916\ \textcolor{comment}{//\ isspace(int\ ch)\ and\ friends\ accept\ an\ unsigned\ char\ or\ EOF.\ \ char}}
\DoxyCodeLine{01917\ \textcolor{comment}{//\ may\ be\ signed,\ depending\ on\ the\ compiler\ (or\ compiler\ flags).}}
\DoxyCodeLine{01918\ \textcolor{comment}{//\ Therefore\ we\ need\ to\ cast\ a\ char\ to\ unsigned\ char\ before\ calling}}
\DoxyCodeLine{01919\ \textcolor{comment}{//\ isspace(),\ etc.}}
\DoxyCodeLine{01920\ }
\DoxyCodeLine{01921\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsAlpha(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01922\ \ \ \textcolor{keywordflow}{return}\ isalpha(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01923\ \}}
\DoxyCodeLine{01924\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsAlNum(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01925\ \ \ \textcolor{keywordflow}{return}\ isalnum(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01926\ \}}
\DoxyCodeLine{01927\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDigit(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01928\ \ \ \textcolor{keywordflow}{return}\ isdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01929\ \}}
\DoxyCodeLine{01930\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsLower(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01931\ \ \ \textcolor{keywordflow}{return}\ islower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01932\ \}}
\DoxyCodeLine{01933\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsSpace(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01934\ \ \ \textcolor{keywordflow}{return}\ isspace(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01935\ \}}
\DoxyCodeLine{01936\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsUpper(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01937\ \ \ \textcolor{keywordflow}{return}\ isupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01938\ \}}
\DoxyCodeLine{01939\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01940\ \ \ \textcolor{keywordflow}{return}\ isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01941\ \}}
\DoxyCodeLine{01942\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{01943\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char8\_t}\ ch)\ \{}
\DoxyCodeLine{01944\ \ \ \textcolor{keywordflow}{return}\ isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch))\ !=\ 0;}
\DoxyCodeLine{01945\ \}}
\DoxyCodeLine{01946\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01947\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char16\_t}\ ch)\ \{}
\DoxyCodeLine{01948\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01949\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01950\ \}}
\DoxyCodeLine{01951\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{char32\_t}\ ch)\ \{}
\DoxyCodeLine{01952\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01953\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01954\ \}}
\DoxyCodeLine{01955\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsXDigit(\textcolor{keywordtype}{wchar\_t}\ ch)\ \{}
\DoxyCodeLine{01956\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ low\_byte\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{01957\ \ \ \textcolor{keywordflow}{return}\ ch\ ==\ low\_byte\ \&\&\ isxdigit(low\_byte)\ !=\ 0;}
\DoxyCodeLine{01958\ \}}
\DoxyCodeLine{01959\ }
\DoxyCodeLine{01960\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}\ ToLower(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01961\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(tolower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{01962\ \}}
\DoxyCodeLine{01963\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}\ ToUpper(\textcolor{keywordtype}{char}\ ch)\ \{}
\DoxyCodeLine{01964\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(toupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{01965\ \}}
\DoxyCodeLine{01966\ }
\DoxyCodeLine{01967\ \textcolor{keyword}{inline}\ std::string\ StripTrailingSpaces(std::string\ str)\ \{}
\DoxyCodeLine{01968\ \ \ std::string::iterator\ it\ =\ str.end();}
\DoxyCodeLine{01969\ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ str.begin()\ \&\&\ IsSpace(*-\/-\/it))}
\DoxyCodeLine{01970\ \ \ \ \ it\ =\ str.erase(it);}
\DoxyCodeLine{01971\ \ \ \textcolor{keywordflow}{return}\ str;}
\DoxyCodeLine{01972\ \}}
\DoxyCodeLine{01973\ }
\DoxyCodeLine{01974\ \textcolor{comment}{//\ The\ testing::internal::posix\ namespace\ holds\ wrappers\ for\ common}}
\DoxyCodeLine{01975\ \textcolor{comment}{//\ POSIX\ functions.\ \ These\ wrappers\ hide\ the\ differences\ between}}
\DoxyCodeLine{01976\ \textcolor{comment}{//\ Windows/MSVC\ and\ POSIX\ systems.\ \ Since\ some\ compilers\ define\ these}}
\DoxyCodeLine{01977\ \textcolor{comment}{//\ standard\ functions\ as\ macros,\ the\ wrapper\ cannot\ have\ the\ same\ name}}
\DoxyCodeLine{01978\ \textcolor{comment}{//\ as\ the\ wrapped\ function.}}
\DoxyCodeLine{01979\ }
\DoxyCodeLine{01980\ \textcolor{keyword}{namespace\ }posix\ \{}
\DoxyCodeLine{01981\ }
\DoxyCodeLine{01982\ \textcolor{comment}{//\ Functions\ with\ a\ different\ name\ on\ Windows.}}
\DoxyCodeLine{01983\ }
\DoxyCodeLine{01984\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{01985\ }
\DoxyCodeLine{01986\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_stat\ StatStruct;}
\DoxyCodeLine{01987\ }
\DoxyCodeLine{01988\ \textcolor{preprocessor}{\#\ ifdef\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{01989\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ isatty(fd);\ \}}
\DoxyCodeLine{01990\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{01991\ \ \ \textcolor{keywordflow}{return}\ stricmp(s1,\ s2);}
\DoxyCodeLine{01992\ \}}
\DoxyCodeLine{01993\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ StrDup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{\ \textcolor{keywordflow}{return}\ strdup(src);\ \}}
\DoxyCodeLine{01994\ \textcolor{preprocessor}{\#\ else\ \ }\textcolor{comment}{//\ !\_\_BORLANDC\_\_}}
\DoxyCodeLine{01995\ \textcolor{preprocessor}{\#\ \ if\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{01996\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ \textcolor{comment}{/*\ fd\ */})\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{01997\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{01998\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ \_isatty(fd);\ \}}
\DoxyCodeLine{01999\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02000\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02001\ \ \ \textcolor{keywordflow}{return}\ \_stricmp(s1,\ s2);}
\DoxyCodeLine{02002\ \}}
\DoxyCodeLine{02003\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ StrDup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{\ \textcolor{keywordflow}{return}\ \_strdup(src);\ \}}
\DoxyCodeLine{02004\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{02005\ }
\DoxyCodeLine{02006\ \textcolor{preprocessor}{\#\ if\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02007\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\_fileno(file));\ \}}
\DoxyCodeLine{02008\ \textcolor{comment}{//\ Stat(),\ RmDir(),\ and\ IsDir()\ are\ not\ needed\ on\ Windows\ CE\ at\ this}}
\DoxyCodeLine{02009\ \textcolor{comment}{//\ time\ and\ thus\ not\ defined\ there.}}
\DoxyCodeLine{02010\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{02011\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ \_fileno(file);\ \}}
\DoxyCodeLine{02012\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{\ \textcolor{keywordflow}{return}\ \_stat(path,\ buf);\ \}}
\DoxyCodeLine{02013\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ \_rmdir(dir);\ \}}
\DoxyCodeLine{02014\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{}
\DoxyCodeLine{02015\ \ \ \textcolor{keywordflow}{return}\ (\_S\_IFDIR\ \&\ st.st\_mode)\ !=\ 0;}
\DoxyCodeLine{02016\ \}}
\DoxyCodeLine{02017\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02018\ }
\DoxyCodeLine{02019\ \textcolor{preprocessor}{\#elif\ GTEST\_OS\_ESP8266}}
\DoxyCodeLine{02020\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }stat\ StatStruct;}
\DoxyCodeLine{02021\ }
\DoxyCodeLine{02022\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ fileno(file);\ \}}
\DoxyCodeLine{02023\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ isatty(fd);\ \}}
\DoxyCodeLine{02024\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{}
\DoxyCodeLine{02025\ \ \ \textcolor{comment}{//\ stat\ function\ not\ implemented\ on\ ESP8266}}
\DoxyCodeLine{02026\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02027\ \}}
\DoxyCodeLine{02028\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02029\ \ \ \textcolor{keywordflow}{return}\ strcasecmp(s1,\ s2);}
\DoxyCodeLine{02030\ \}}
\DoxyCodeLine{02031\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ StrDup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{\ \textcolor{keywordflow}{return}\ strdup(src);\ \}}
\DoxyCodeLine{02032\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ rmdir(dir);\ \}}
\DoxyCodeLine{02033\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{\ \textcolor{keywordflow}{return}\ S\_ISDIR(st.st\_mode);\ \}}
\DoxyCodeLine{02034\ }
\DoxyCodeLine{02035\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02036\ }
\DoxyCodeLine{02037\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }stat\ StatStruct;}
\DoxyCodeLine{02038\ }
\DoxyCodeLine{02039\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FileNo(FILE*\ file)\ \{\ \textcolor{keywordflow}{return}\ fileno(file);\ \}}
\DoxyCodeLine{02040\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ DoIsATTY(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ isatty(fd);\ \}}
\DoxyCodeLine{02041\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Stat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ StatStruct*\ buf)\ \{\ \textcolor{keywordflow}{return}\ stat(path,\ buf);\ \}}
\DoxyCodeLine{02042\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ StrCaseCmp(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s2)\ \{}
\DoxyCodeLine{02043\ \ \ \textcolor{keywordflow}{return}\ strcasecmp(s1,\ s2);}
\DoxyCodeLine{02044\ \}}
\DoxyCodeLine{02045\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ StrDup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{\ \textcolor{keywordflow}{return}\ strdup(src);\ \}}
\DoxyCodeLine{02046\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ RmDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ rmdir(dir);\ \}}
\DoxyCodeLine{02047\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsDir(\textcolor{keyword}{const}\ StatStruct\&\ st)\ \{\ \textcolor{keywordflow}{return}\ S\_ISDIR(st.st\_mode);\ \}}
\DoxyCodeLine{02048\ }
\DoxyCodeLine{02049\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{02050\ }
\DoxyCodeLine{02051\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ IsATTY(\textcolor{keywordtype}{int}\ fd)\ \{}
\DoxyCodeLine{02052\ \ \ \textcolor{comment}{//\ DoIsATTY\ might\ change\ errno\ (for\ example\ ENOTTY\ in\ case\ you\ redirect\ stdout}}
\DoxyCodeLine{02053\ \ \ \textcolor{comment}{//\ to\ a\ file\ on\ Linux),\ which\ is\ unexpected,\ so\ save\ the\ previous\ value,\ and}}
\DoxyCodeLine{02054\ \ \ \textcolor{comment}{//\ restore\ it\ after\ the\ call.}}
\DoxyCodeLine{02055\ \ \ \textcolor{keywordtype}{int}\ savedErrno\ =\ errno;}
\DoxyCodeLine{02056\ \ \ \textcolor{keywordtype}{int}\ isAttyValue\ =\ DoIsATTY(fd);}
\DoxyCodeLine{02057\ \ \ errno\ =\ savedErrno;}
\DoxyCodeLine{02058\ }
\DoxyCodeLine{02059\ \ \ \textcolor{keywordflow}{return}\ isAttyValue;}
\DoxyCodeLine{02060\ \}}
\DoxyCodeLine{02061\ }
\DoxyCodeLine{02062\ \textcolor{comment}{//\ Functions\ deprecated\ by\ MSVC\ 8.0.}}
\DoxyCodeLine{02063\ }
\DoxyCodeLine{02064\ GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()}
\DoxyCodeLine{02065\ }
\DoxyCodeLine{02066\ \textcolor{comment}{//\ ChDir(),\ FReopen(),\ FDOpen(),\ Read(),\ Write(),\ Close(),\ and}}
\DoxyCodeLine{02067\ \textcolor{comment}{//\ StrError()\ aren't\ needed\ on\ Windows\ CE\ at\ this\ time\ and\ thus\ not}}
\DoxyCodeLine{02068\ \textcolor{comment}{//\ defined\ there.}}
\DoxyCodeLine{02069\ }
\DoxyCodeLine{02070\ \textcolor{preprocessor}{\#if\ !GTEST\_OS\_WINDOWS\_MOBILE\ \&\&\ !GTEST\_OS\_WINDOWS\_PHONE\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{02071\ \textcolor{preprocessor}{\ \ \ \ !GTEST\_OS\_WINDOWS\_RT\ \&\&\ !GTEST\_OS\_ESP8266\ \&\&\ !GTEST\_OS\_XTENSA}}
\DoxyCodeLine{02072\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ ChDir(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dir)\ \{\ \textcolor{keywordflow}{return}\ chdir(dir);\ \}}
\DoxyCodeLine{02073\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02074\ \textcolor{keyword}{inline}\ FILE*\ FOpen(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode)\ \{}
\DoxyCodeLine{02075\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{02076\ \ \ \textcolor{keyword}{struct\ }wchar\_codecvt\ :\ \textcolor{keyword}{public}\ std::codecvt<wchar\_t,\ char,\ std::mbstate\_t>\ \{\};}
\DoxyCodeLine{02077\ \ \ std::wstring\_convert<wchar\_codecvt>\ converter;}
\DoxyCodeLine{02078\ \ \ std::wstring\ wide\_path\ =\ converter.from\_bytes(path);}
\DoxyCodeLine{02079\ \ \ std::wstring\ wide\_mode\ =\ converter.from\_bytes(mode);}
\DoxyCodeLine{02080\ \ \ \textcolor{keywordflow}{return}\ \_wfopen(wide\_path.c\_str(),\ wide\_mode.c\_str());}
\DoxyCodeLine{02081\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{02082\ \ \ \textcolor{keywordflow}{return}\ fopen(path,\ mode);}
\DoxyCodeLine{02083\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\ \&\&\ !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{02084\ \}}
\DoxyCodeLine{02085\ \textcolor{preprocessor}{\#if\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02086\ \textcolor{keyword}{inline}\ FILE\ *FReopen(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode,\ FILE*\ stream)\ \{}
\DoxyCodeLine{02087\ \ \ \textcolor{keywordflow}{return}\ freopen(path,\ mode,\ stream);}
\DoxyCodeLine{02088\ \}}
\DoxyCodeLine{02089\ \textcolor{keyword}{inline}\ FILE*\ FDOpen(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ mode)\ \{\ \textcolor{keywordflow}{return}\ fdopen(fd,\ mode);\ \}}
\DoxyCodeLine{02090\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02091\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ FClose(FILE*\ fp)\ \{\ \textcolor{keywordflow}{return}\ fclose(fp);\ \}}
\DoxyCodeLine{02092\ \textcolor{preprocessor}{\#if\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02093\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Read(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keywordtype}{void}*\ buf,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ count)\ \{}
\DoxyCodeLine{02094\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(read(fd,\ buf,\ count));}
\DoxyCodeLine{02095\ \}}
\DoxyCodeLine{02096\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Write(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ buf,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ count)\ \{}
\DoxyCodeLine{02097\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(write(fd,\ buf,\ count));}
\DoxyCodeLine{02098\ \}}
\DoxyCodeLine{02099\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Close(\textcolor{keywordtype}{int}\ fd)\ \{\ \textcolor{keywordflow}{return}\ close(fd);\ \}}
\DoxyCodeLine{02100\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ StrError(\textcolor{keywordtype}{int}\ errnum)\ \{\ \textcolor{keywordflow}{return}\ strerror(errnum);\ \}}
\DoxyCodeLine{02101\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02102\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)\ \{}
\DoxyCodeLine{02103\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS\_MOBILE\ ||\ GTEST\_OS\_WINDOWS\_PHONE\ ||\ \(\backslash\)}}
\DoxyCodeLine{02104\ \textcolor{preprocessor}{\ \ \ \ GTEST\_OS\_WINDOWS\_RT\ ||\ GTEST\_OS\_ESP8266\ ||\ GTEST\_OS\_XTENSA}}
\DoxyCodeLine{02105\ \ \ \textcolor{comment}{//\ We\ are\ on\ an\ embedded\ platform,\ which\ has\ no\ environment\ variables.}}
\DoxyCodeLine{02106\ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}(name);\ \ \textcolor{comment}{//\ To\ prevent\ 'unused\ argument'\ warning.}}
\DoxyCodeLine{02107\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02108\ \textcolor{preprocessor}{\#elif\ defined(\_\_BORLANDC\_\_)\ ||\ defined(\_\_SunOS\_5\_8)\ ||\ defined(\_\_SunOS\_5\_9)}}
\DoxyCodeLine{02109\ \ \ \textcolor{comment}{//\ Environment\ variables\ which\ we\ programmatically\ clear\ will\ be\ set\ to\ the}}
\DoxyCodeLine{02110\ \ \ \textcolor{comment}{//\ empty\ string\ rather\ than\ unset\ (NULL).\ \ Handle\ that\ case.}}
\DoxyCodeLine{02111\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ env\ =\ getenv(name);}
\DoxyCodeLine{02112\ \ \ \textcolor{keywordflow}{return}\ (env\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ env[0]\ !=\ \textcolor{charliteral}{'\(\backslash\)0'})\ ?\ env\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02113\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02114\ \ \ \textcolor{keywordflow}{return}\ getenv(name);}
\DoxyCodeLine{02115\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02116\ \}}
\DoxyCodeLine{02117\ }
\DoxyCodeLine{02118\ GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()}
\DoxyCodeLine{02119\ }
\DoxyCodeLine{02120\ \textcolor{preprocessor}{\#if\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02121\ \textcolor{comment}{//\ Windows\ CE\ has\ no\ C\ library.\ The\ abort()\ function\ is\ used\ in}}
\DoxyCodeLine{02122\ \textcolor{comment}{//\ several\ places\ in\ Google\ Test.\ This\ implementation\ provides\ a\ reasonable}}
\DoxyCodeLine{02123\ \textcolor{comment}{//\ imitation\ of\ standard\ behaviour.}}
\DoxyCodeLine{02124\ [[noreturn]]\ \textcolor{keywordtype}{void}\ Abort();}
\DoxyCodeLine{02125\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02126\ [[noreturn]]\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Abort()\ \{\ abort();\ \}}
\DoxyCodeLine{02127\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02128\ }
\DoxyCodeLine{02129\ \}\ \ \textcolor{comment}{//\ namespace\ posix}}
\DoxyCodeLine{02130\ }
\DoxyCodeLine{02131\ \textcolor{comment}{//\ MSVC\ "{}deprecates"{}\ snprintf\ and\ issues\ warnings\ wherever\ it\ is\ used.\ \ In}}
\DoxyCodeLine{02132\ \textcolor{comment}{//\ order\ to\ avoid\ these\ warnings,\ we\ need\ to\ use\ \_snprintf\ or\ \_snprintf\_s\ on}}
\DoxyCodeLine{02133\ \textcolor{comment}{//\ MSVC-\/based\ platforms.\ \ We\ map\ the\ GTEST\_SNPRINTF\_\ macro\ to\ the\ appropriate}}
\DoxyCodeLine{02134\ \textcolor{comment}{//\ function\ in\ order\ to\ achieve\ that.\ \ We\ use\ macro\ definition\ here\ because}}
\DoxyCodeLine{02135\ \textcolor{comment}{//\ snprintf\ is\ a\ variadic\ function.}}
\DoxyCodeLine{02136\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{02137\ \textcolor{comment}{//\ MSVC\ 2005\ and\ above\ support\ variadic\ macros.}}
\DoxyCodeLine{02138\ \textcolor{preprocessor}{\#\ define\ GTEST\_SNPRINTF\_(buffer,\ size,\ format,\ ...)\ \(\backslash\)}}
\DoxyCodeLine{02139\ \textcolor{preprocessor}{\ \ \ \ \ \_snprintf\_s(buffer,\ size,\ size,\ format,\ \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{02140\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)}}
\DoxyCodeLine{02141\ \textcolor{comment}{//\ Windows\ CE\ does\ not\ define\ \_snprintf\_s}}
\DoxyCodeLine{02142\ \textcolor{preprocessor}{\#\ define\ GTEST\_SNPRINTF\_\ \_snprintf}}
\DoxyCodeLine{02143\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02144\ \textcolor{preprocessor}{\#\ define\ GTEST\_SNPRINTF\_\ snprintf}}
\DoxyCodeLine{02145\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02146\ }
\DoxyCodeLine{02147\ \textcolor{comment}{//\ The\ biggest\ signed\ integer\ type\ the\ compiler\ supports.}}
\DoxyCodeLine{02148\ \textcolor{comment}{//}}
\DoxyCodeLine{02149\ \textcolor{comment}{//\ long\ long\ is\ guaranteed\ to\ be\ at\ least\ 64-\/bits\ in\ C++11.}}
\DoxyCodeLine{02150\ \textcolor{keyword}{using\ }BiggestInt\ =\ \textcolor{keywordtype}{long}\ long;\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{02151\ }
\DoxyCodeLine{02152\ \textcolor{comment}{//\ The\ maximum\ number\ a\ BiggestInt\ can\ represent.}}
\DoxyCodeLine{02153\ \textcolor{keyword}{constexpr}\ BiggestInt\ kMaxBiggestInt\ =\ (std::numeric\_limits<BiggestInt>::max)();}
\DoxyCodeLine{02154\ }
\DoxyCodeLine{02155\ \textcolor{comment}{//\ This\ template\ class\ serves\ as\ a\ compile-\/time\ function\ from\ size\ to}}
\DoxyCodeLine{02156\ \textcolor{comment}{//\ type.\ \ It\ maps\ a\ size\ in\ bytes\ to\ a\ primitive\ type\ with\ that}}
\DoxyCodeLine{02157\ \textcolor{comment}{//\ size.\ e.g.}}
\DoxyCodeLine{02158\ \textcolor{comment}{//}}
\DoxyCodeLine{02159\ \textcolor{comment}{//\ \ \ TypeWithSize<4>::UInt}}
\DoxyCodeLine{02160\ \textcolor{comment}{//}}
\DoxyCodeLine{02161\ \textcolor{comment}{//\ is\ typedef-\/ed\ to\ be\ unsigned\ int\ (unsigned\ integer\ made\ up\ of\ 4}}
\DoxyCodeLine{02162\ \textcolor{comment}{//\ bytes).}}
\DoxyCodeLine{02163\ \textcolor{comment}{//}}
\DoxyCodeLine{02164\ \textcolor{comment}{//\ Such\ functionality\ should\ belong\ to\ STL,\ but\ I\ cannot\ find\ it}}
\DoxyCodeLine{02165\ \textcolor{comment}{//\ there.}}
\DoxyCodeLine{02166\ \textcolor{comment}{//}}
\DoxyCodeLine{02167\ \textcolor{comment}{//\ Google\ Test\ uses\ this\ class\ in\ the\ implementation\ of\ floating-\/point}}
\DoxyCodeLine{02168\ \textcolor{comment}{//\ comparison.}}
\DoxyCodeLine{02169\ \textcolor{comment}{//}}
\DoxyCodeLine{02170\ \textcolor{comment}{//\ For\ now\ it\ only\ handles\ UInt\ (unsigned\ int)\ as\ that's\ all\ Google\ Test}}
\DoxyCodeLine{02171\ \textcolor{comment}{//\ needs.\ \ Other\ types\ can\ be\ easily\ added\ in\ the\ future\ if\ need}}
\DoxyCodeLine{02172\ \textcolor{comment}{//\ arises.}}
\DoxyCodeLine{02173\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ size>}
\DoxyCodeLine{02174\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}}\ \{}
\DoxyCodeLine{02175\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02176\ \ \ \textcolor{comment}{//\ This\ prevents\ the\ user\ from\ using\ TypeWithSize<N>\ with\ incorrect}}
\DoxyCodeLine{02177\ \ \ \textcolor{comment}{//\ values\ of\ N.}}
\DoxyCodeLine{02178\ \ \ \textcolor{keyword}{using\ }UInt\ =\ void;}
\DoxyCodeLine{02179\ \};}
\DoxyCodeLine{02180\ }
\DoxyCodeLine{02181\ \textcolor{comment}{//\ The\ specialization\ for\ size\ 4.}}
\DoxyCodeLine{02182\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{02183\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}}<4>\ \{}
\DoxyCodeLine{02184\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02185\ \ \ \textcolor{keyword}{using\ }Int\ =\ std::int32\_t;}
\DoxyCodeLine{02186\ \ \ \textcolor{keyword}{using\ }UInt\ =\ std::uint32\_t;}
\DoxyCodeLine{02187\ \};}
\DoxyCodeLine{02188\ }
\DoxyCodeLine{02189\ \textcolor{comment}{//\ The\ specialization\ for\ size\ 8.}}
\DoxyCodeLine{02190\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{02191\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}}<8>\ \{}
\DoxyCodeLine{02192\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02193\ \ \ \textcolor{keyword}{using\ }Int\ =\ std::int64\_t;}
\DoxyCodeLine{02194\ \ \ \textcolor{keyword}{using\ }UInt\ =\ std::uint64\_t;}
\DoxyCodeLine{02195\ \};}
\DoxyCodeLine{02196\ }
\DoxyCodeLine{02197\ \textcolor{comment}{//\ Integer\ types\ of\ known\ sizes.}}
\DoxyCodeLine{02198\ \textcolor{keyword}{using\ }TimeInMillis\ =\ int64\_t;\ \ \textcolor{comment}{//\ Represents\ time\ in\ milliseconds.}}
\DoxyCodeLine{02199\ }
\DoxyCodeLine{02200\ \textcolor{comment}{//\ Utilities\ for\ command\ line\ flags\ and\ environment\ variables.}}
\DoxyCodeLine{02201\ }
\DoxyCodeLine{02202\ \textcolor{comment}{//\ Macro\ for\ referencing\ flags.}}
\DoxyCodeLine{02203\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_FLAG)}}
\DoxyCodeLine{02204\ \textcolor{preprocessor}{\#\ define\ GTEST\_FLAG(name)\ FLAGS\_gtest\_\#\#name}}
\DoxyCodeLine{02205\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_FLAG)}}
\DoxyCodeLine{02206\ }
\DoxyCodeLine{02207\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_)}}
\DoxyCodeLine{02208\ \textcolor{preprocessor}{\#\ define\ GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_\ 1}}
\DoxyCodeLine{02209\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_)}}
\DoxyCodeLine{02210\ }
\DoxyCodeLine{02211\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_DECLARE\_bool\_)}}
\DoxyCodeLine{02212\ \textcolor{preprocessor}{\#\ define\ GTEST\_FLAG\_SAVER\_\ ::testing::internal::GTestFlagSaver}}
\DoxyCodeLine{02213\ }
\DoxyCodeLine{02214\ \textcolor{comment}{//\ Macros\ for\ declaring\ flags.}}
\DoxyCodeLine{02215\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_bool\_(name)\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02216\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02217\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ bool\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02218\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02219\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_int32\_(name)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02220\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02221\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ std::int32\_t\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02222\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02223\ \textcolor{preprocessor}{\#define\ GTEST\_DECLARE\_string\_(name)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02224\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02225\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ extern\ ::std::string\ GTEST\_FLAG(name);\ \(\backslash\)}}
\DoxyCodeLine{02226\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \textcolor{comment}{//\ Macros\ for\ defining\ flags.}}
\DoxyCodeLine{02229\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_bool\_(name,\ default\_val,\ doc)\ \ \(\backslash\)}}
\DoxyCodeLine{02230\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02231\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ bool\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02232\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02233\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_int32\_(name,\ default\_val,\ doc)\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02234\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02235\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ std::int32\_t\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02236\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02237\ \textcolor{preprocessor}{\#define\ GTEST\_DEFINE\_string\_(name,\ default\_val,\ doc)\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02238\ \textcolor{preprocessor}{\ \ namespace\ testing\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{02239\ \textcolor{preprocessor}{\ \ GTEST\_API\_\ ::std::string\ GTEST\_FLAG(name)\ =\ (default\_val);\ \(\backslash\)}}
\DoxyCodeLine{02240\ \textcolor{preprocessor}{\ \ \}\ static\_assert(true,\ "{}no-\/op\ to\ require\ trailing\ semicolon"{})}}
\DoxyCodeLine{02241\ }
\DoxyCodeLine{02242\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_DECLARE\_bool\_)}}
\DoxyCodeLine{02243\ }
\DoxyCodeLine{02244\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_FLAG\_GET)}}
\DoxyCodeLine{02245\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_GET(name)\ ::testing::GTEST\_FLAG(name)}}
\DoxyCodeLine{02246\ \textcolor{preprocessor}{\#define\ GTEST\_FLAG\_SET(name,\ value)\ (void)(::testing::GTEST\_FLAG(name)\ =\ value)}}
\DoxyCodeLine{02247\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_FLAG\_GET)}}
\DoxyCodeLine{02248\ }
\DoxyCodeLine{02249\ \textcolor{comment}{//\ Thread\ annotations}}
\DoxyCodeLine{02250\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{02251\ \textcolor{preprocessor}{\#\ define\ GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_(locks)}}
\DoxyCodeLine{02252\ \textcolor{preprocessor}{\#\ define\ GTEST\_LOCK\_EXCLUDED\_(locks)}}
\DoxyCodeLine{02253\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{02254\ }
\DoxyCodeLine{02255\ \textcolor{comment}{//\ Parses\ 'str'\ for\ a\ 32-\/bit\ signed\ integer.\ \ If\ successful,\ writes\ the\ result}}
\DoxyCodeLine{02256\ \textcolor{comment}{//\ to\ *value\ and\ returns\ true;\ otherwise\ leaves\ *value\ unchanged\ and\ returns}}
\DoxyCodeLine{02257\ \textcolor{comment}{//\ false.}}
\DoxyCodeLine{02258\ GTEST\_API\_\ \textcolor{keywordtype}{bool}\ ParseInt32(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtesting_1_1_message}{Message}}\&\ src\_text,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,}
\DoxyCodeLine{02259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int32\_t*\ value);}
\DoxyCodeLine{02260\ }
\DoxyCodeLine{02261\ \textcolor{comment}{//\ Parses\ a\ bool/int32\_t/string\ from\ the\ environment\ variable}}
\DoxyCodeLine{02262\ \textcolor{comment}{//\ corresponding\ to\ the\ given\ Google\ Test\ flag.}}
\DoxyCodeLine{02263\ \textcolor{keywordtype}{bool}\ BoolFromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ \textcolor{keywordtype}{bool}\ default\_val);}
\DoxyCodeLine{02264\ GTEST\_API\_\ int32\_t\ Int32FromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ int32\_t\ default\_val);}
\DoxyCodeLine{02265\ std::string\ OutputFlagAlsoCheckEnvVar();}
\DoxyCodeLine{02266\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ StringFromGTestEnv(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ flag,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ default\_val);}
\DoxyCodeLine{02267\ }
\DoxyCodeLine{02268\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02269\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02270\ }
\DoxyCodeLine{02271\ \textcolor{preprocessor}{\#if\ !defined(GTEST\_INTERNAL\_DEPRECATED)}}
\DoxyCodeLine{02272\ }
\DoxyCodeLine{02273\ \textcolor{comment}{//\ Internal\ Macro\ to\ mark\ an\ API\ deprecated,\ for\ googletest\ usage\ only}}
\DoxyCodeLine{02274\ \textcolor{comment}{//\ Usage:\ class\ GTEST\_INTERNAL\_DEPRECATED(message)\ MyClass\ or}}
\DoxyCodeLine{02275\ \textcolor{comment}{//\ GTEST\_INTERNAL\_DEPRECATED(message)\ <return\_type>\ myFunction();\ Every\ usage\ of}}
\DoxyCodeLine{02276\ \textcolor{comment}{//\ a\ deprecated\ entity\ will\ trigger\ a\ warning\ when\ compiled\ with}}
\DoxyCodeLine{02277\ \textcolor{comment}{//\ \`{}-\/Wdeprecated-\/declarations`\ option\ (clang,\ gcc,\ any\ \_\_GNUC\_\_\ compiler).}}
\DoxyCodeLine{02278\ \textcolor{comment}{//\ For\ msvc\ /W3\ option\ will\ need\ to\ be\ used}}
\DoxyCodeLine{02279\ \textcolor{comment}{//\ Note\ that\ for\ 'other'\ compilers\ this\ macro\ evaluates\ to\ nothing\ to\ prevent}}
\DoxyCodeLine{02280\ \textcolor{comment}{//\ compilations\ errors.}}
\DoxyCodeLine{02281\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{02282\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_DEPRECATED(message)\ \_\_declspec(deprecated(message))}}
\DoxyCodeLine{02283\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{02284\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_DEPRECATED(message)\ \_\_attribute\_\_((deprecated(message)))}}
\DoxyCodeLine{02285\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02286\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_DEPRECATED(message)}}
\DoxyCodeLine{02287\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02288\ }
\DoxyCodeLine{02289\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ !defined(GTEST\_INTERNAL\_DEPRECATED)}}
\DoxyCodeLine{02290\ }
\DoxyCodeLine{02291\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02292\ \textcolor{comment}{//\ Always\ use\ absl::any\ for\ UniversalPrinter<>\ specializations\ if\ googletest}}
\DoxyCodeLine{02293\ \textcolor{comment}{//\ is\ built\ with\ absl\ support.}}
\DoxyCodeLine{02294\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_ANY\ 1}}
\DoxyCodeLine{02295\ \textcolor{preprocessor}{\#include\ "{}absl/types/any.h"{}}}
\DoxyCodeLine{02296\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02297\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02298\ \textcolor{keyword}{using\ }Any\ =\ ::absl::any;}
\DoxyCodeLine{02299\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02300\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02301\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02302\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_include}}
\DoxyCodeLine{02303\ \textcolor{preprocessor}{\#if\ \_\_has\_include(<any>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02304\ \textcolor{comment}{//\ Otherwise\ for\ C++17\ and\ higher\ use\ std::any\ for\ UniversalPrinter<>}}
\DoxyCodeLine{02305\ \textcolor{comment}{//\ specializations.}}
\DoxyCodeLine{02306\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_ANY\ 1}}
\DoxyCodeLine{02307\ \textcolor{preprocessor}{\#include\ <any>}}
\DoxyCodeLine{02308\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02309\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02310\ \textcolor{keyword}{using\ }Any\ =\ ::std::any;}
\DoxyCodeLine{02311\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02312\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02313\ \textcolor{comment}{//\ The\ case\ where\ absl\ is\ configured\ NOT\ to\ alias\ std::any\ is\ not}}
\DoxyCodeLine{02314\ \textcolor{comment}{//\ supported.}}
\DoxyCodeLine{02315\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include(<any>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02316\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include}}
\DoxyCodeLine{02317\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02318\ }
\DoxyCodeLine{02319\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02320\ \textcolor{comment}{//\ Always\ use\ absl::optional\ for\ UniversalPrinter<>\ specializations\ if}}
\DoxyCodeLine{02321\ \textcolor{comment}{//\ googletest\ is\ built\ with\ absl\ support.}}
\DoxyCodeLine{02322\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_OPTIONAL\ 1}}
\DoxyCodeLine{02323\ \textcolor{preprocessor}{\#include\ "{}absl/types/optional.h"{}}}
\DoxyCodeLine{02324\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02325\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02326\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02327\ \textcolor{keyword}{using\ }Optional\ =\ ::absl::optional<T>;}
\DoxyCodeLine{02328\ inline\ ::absl::nullopt\_t\ Nullopt()\ \{\ return\ ::absl::nullopt;\ \}}
\DoxyCodeLine{02329\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02330\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02331\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02332\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_include}}
\DoxyCodeLine{02333\ \textcolor{preprocessor}{\#if\ \_\_has\_include(<optional>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02334\ \textcolor{comment}{//\ Otherwise\ for\ C++17\ and\ higher\ use\ std::optional\ for\ UniversalPrinter<>}}
\DoxyCodeLine{02335\ \textcolor{comment}{//\ specializations.}}
\DoxyCodeLine{02336\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_OPTIONAL\ 1}}
\DoxyCodeLine{02337\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{02338\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02339\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02340\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02341\ \textcolor{keyword}{using\ }Optional\ =\ ::std::optional<T>;}
\DoxyCodeLine{02342\ inline\ ::std::nullopt\_t\ Nullopt()\ \{\ return\ ::std::nullopt;\ \}}
\DoxyCodeLine{02343\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02344\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02345\ \textcolor{comment}{//\ The\ case\ where\ absl\ is\ configured\ NOT\ to\ alias\ std::optional\ is\ not}}
\DoxyCodeLine{02346\ \textcolor{comment}{//\ supported.}}
\DoxyCodeLine{02347\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include(<optional>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02348\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include}}
\DoxyCodeLine{02349\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02350\ }
\DoxyCodeLine{02351\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02352\ \textcolor{comment}{//\ Always\ use\ absl::string\_view\ for\ Matcher<>\ specializations\ if\ googletest}}
\DoxyCodeLine{02353\ \textcolor{comment}{//\ is\ built\ with\ absl\ support.}}
\DoxyCodeLine{02354\ \textcolor{preprocessor}{\#\ define\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ 1}}
\DoxyCodeLine{02355\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{02356\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02357\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02358\ \textcolor{keyword}{using\ }StringView\ =\ ::absl::string\_view;}
\DoxyCodeLine{02359\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02360\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02361\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02362\ \textcolor{preprocessor}{\#\ ifdef\ \_\_has\_include}}
\DoxyCodeLine{02363\ \textcolor{preprocessor}{\#\ \ \ if\ \_\_has\_include(<string\_view>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02364\ \textcolor{comment}{//\ Otherwise\ for\ C++17\ and\ higher\ use\ std::string\_view\ for\ Matcher<>}}
\DoxyCodeLine{02365\ \textcolor{comment}{//\ specializations.}}
\DoxyCodeLine{02366\ \textcolor{preprocessor}{\#\ \ \ define\ GTEST\_INTERNAL\_HAS\_STRING\_VIEW\ 1}}
\DoxyCodeLine{02367\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{02368\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02369\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02370\ \textcolor{keyword}{using\ }StringView\ =\ ::std::string\_view;}
\DoxyCodeLine{02371\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02372\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02373\ \textcolor{comment}{//\ The\ case\ where\ absl\ is\ configured\ NOT\ to\ alias\ std::string\_view\ is\ not}}
\DoxyCodeLine{02374\ \textcolor{comment}{//\ supported.}}
\DoxyCodeLine{02375\ \textcolor{preprocessor}{\#\ \ endif\ \ }\textcolor{comment}{//\ \_\_has\_include(<string\_view>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02376\ \textcolor{preprocessor}{\#\ endif\ \ }\textcolor{comment}{//\ \_\_has\_include}}
\DoxyCodeLine{02377\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02378\ }
\DoxyCodeLine{02379\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02380\ \textcolor{comment}{//\ Always\ use\ absl::variant\ for\ UniversalPrinter<>\ specializations\ if\ googletest}}
\DoxyCodeLine{02381\ \textcolor{comment}{//\ is\ built\ with\ absl\ support.}}
\DoxyCodeLine{02382\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_VARIANT\ 1}}
\DoxyCodeLine{02383\ \textcolor{preprocessor}{\#include\ "{}absl/types/variant.h"{}}}
\DoxyCodeLine{02384\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02385\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02386\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{02387\ \textcolor{keyword}{using\ }Variant\ =\ ::absl::variant<T...>;}
\DoxyCodeLine{02388\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02389\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02390\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02391\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_include}}
\DoxyCodeLine{02392\ \textcolor{preprocessor}{\#if\ \_\_has\_include(<variant>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02393\ \textcolor{comment}{//\ Otherwise\ for\ C++17\ and\ higher\ use\ std::variant\ for\ UniversalPrinter<>}}
\DoxyCodeLine{02394\ \textcolor{comment}{//\ specializations.}}
\DoxyCodeLine{02395\ \textcolor{preprocessor}{\#define\ GTEST\_INTERNAL\_HAS\_VARIANT\ 1}}
\DoxyCodeLine{02396\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{02397\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{02398\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{02399\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{02400\ \textcolor{keyword}{using\ }Variant\ =\ ::std::variant<T...>;}
\DoxyCodeLine{02401\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{02402\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{02403\ \textcolor{comment}{//\ The\ case\ where\ absl\ is\ configured\ NOT\ to\ alias\ std::variant\ is\ not\ supported.}}
\DoxyCodeLine{02404\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include(<variant>)\ \&\&\ \_\_cplusplus\ >=\ 201703L}}
\DoxyCodeLine{02405\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_has\_include}}
\DoxyCodeLine{02406\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_ABSL}}
\DoxyCodeLine{02407\ }
\DoxyCodeLine{02408\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}

\end{DoxyCode}
