\doxysection{gtest-\/printers.cc}
\hypertarget{gtest-printers_8cc_source}{}\label{gtest-printers_8cc_source}\index{lib/googletest-\/master/googletest/src/gtest-\/printers.cc@{lib/googletest-\/master/googletest/src/gtest-\/printers.cc}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2007,\ Google\ Inc.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ All\ rights\ reserved.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Redistribution\ and\ use\ in\ source\ and\ binary\ forms,\ with\ or\ without}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ modification,\ are\ permitted\ provided\ that\ the\ following\ conditions\ are}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ met:}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ of\ source\ code\ must\ retain\ the\ above\ copyright}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer.}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ \ \ \ \ *\ Redistributions\ in\ binary\ form\ must\ reproduce\ the\ above}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ copyright\ notice,\ this\ list\ of\ conditions\ and\ the\ following\ disclaimer}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ in\ the\ documentation\ and/or\ other\ materials\ provided\ with\ the}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ distribution.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ \ \ \ \ *\ Neither\ the\ name\ of\ Google\ Inc.\ nor\ the\ names\ of\ its}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ contributors\ may\ be\ used\ to\ endorse\ or\ promote\ products\ derived\ from}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ this\ software\ without\ specific\ prior\ written\ permission.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ THIS\ SOFTWARE\ IS\ PROVIDED\ BY\ THE\ COPYRIGHT\ HOLDERS\ AND\ CONTRIBUTORS}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ "{}AS\ IS"{}\ AND\ ANY\ EXPRESS\ OR\ IMPLIED\ WARRANTIES,\ INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ LIMITED\ TO,\ THE\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY\ AND\ FITNESS\ FOR}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ A\ PARTICULAR\ PURPOSE\ ARE\ DISCLAIMED.\ IN\ NO\ EVENT\ SHALL\ THE\ COPYRIGHT}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ OWNER\ OR\ CONTRIBUTORS\ BE\ LIABLE\ FOR\ ANY\ DIRECT,\ INDIRECT,\ INCIDENTAL,}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ SPECIAL,\ EXEMPLARY,\ OR\ CONSEQUENTIAL\ DAMAGES\ (INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ LIMITED\ TO,\ PROCUREMENT\ OF\ SUBSTITUTE\ GOODS\ OR\ SERVICES;\ LOSS\ OF\ USE,}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ DATA,\ OR\ PROFITS;\ OR\ BUSINESS\ INTERRUPTION)\ HOWEVER\ CAUSED\ AND\ ON\ ANY}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ THEORY\ OF\ LIABILITY,\ WHETHER\ IN\ CONTRACT,\ STRICT\ LIABILITY,\ OR\ TORT}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ (INCLUDING\ NEGLIGENCE\ OR\ OTHERWISE)\ ARISING\ IN\ ANY\ WAY\ OUT\ OF\ THE\ USE}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ OF\ THIS\ SOFTWARE,\ EVEN\ IF\ ADVISED\ OF\ THE\ POSSIBILITY\ OF\ SUCH\ DAMAGE.}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Google\ Test\ -\/\ The\ Google\ C++\ Testing\ and\ Mocking\ Framework}}
\DoxyCodeLine{00032\ \textcolor{comment}{//}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ This\ file\ implements\ a\ universal\ value\ printer\ that\ can\ print\ a}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ value\ of\ any\ type\ T:}}
\DoxyCodeLine{00035\ \textcolor{comment}{//}}
\DoxyCodeLine{00036\ \textcolor{comment}{//\ \ \ void\ ::testing::internal::UniversalPrinter<T>::Print(value,\ ostream\_ptr);}}
\DoxyCodeLine{00037\ \textcolor{comment}{//}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ It\ uses\ the\ <<\ operator\ when\ possible,\ and\ prints\ the\ bytes\ in\ the}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ object\ otherwise.\ \ A\ user\ can\ override\ its\ behavior\ for\ a\ class}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ type\ Foo\ by\ defining\ either\ operator<<(::std::ostream\&,\ const\ Foo\&)}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ or\ void\ PrintTo(const\ Foo\&,\ ::std::ostream*)\ in\ the\ namespace\ that}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ defines\ Foo.}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ "{}gtest/gtest-\/printers.h"{}}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <cctype>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ <cwchar>}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#include\ <ostream>}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#include\ "{}gtest/internal/gtest-\/port.h"{}}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#include\ "{}src/gtest-\/internal-\/inl.h"{}}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ using\ ::std::ostream;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{//\ Prints\ a\ segment\ of\ bytes\ in\ the\ given\ object.}}
\DoxyCodeLine{00065\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}
\DoxyCodeLine{00066\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}
\DoxyCodeLine{00067\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}
\DoxyCodeLine{00068\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}
\DoxyCodeLine{00069\ \textcolor{keywordtype}{void}\ PrintByteSegmentInObjectTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ obj\_bytes,\ \textcolor{keywordtype}{size\_t}\ start,}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ count,\ ostream*\ os)\ \{}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordtype}{char}\ text[5]\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ !=\ count;\ i++)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ j\ =\ start\ +\ i;}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ 0)\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \textcolor{comment}{//\ Organizes\ the\ bytes\ into\ groups\ of\ 2\ for\ easy\ parsing\ by}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \textcolor{comment}{//\ human.}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((j\ \%\ 2)\ ==\ 0)}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ *os\ <<\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ *os\ <<\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{00081\ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \ \ GTEST\_SNPRINTF\_(text,\ \textcolor{keyword}{sizeof}(text),\ \textcolor{stringliteral}{"{}\%02X"{}},\ obj\_bytes[j]);}
\DoxyCodeLine{00083\ \ \ \ \ *os\ <<\ text;}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{//\ Prints\ the\ bytes\ in\ the\ given\ value\ to\ the\ given\ ostream.}}
\DoxyCodeLine{00088\ \textcolor{keywordtype}{void}\ PrintBytesInObjectToImpl(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ obj\_bytes,\ \textcolor{keywordtype}{size\_t}\ count,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ostream*\ os)\ \{}
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Tells\ the\ user\ how\ big\ the\ object\ is.}}
\DoxyCodeLine{00091\ \ \ *os\ <<\ count\ <<\ \textcolor{stringliteral}{"{}-\/byte\ object\ <"{}};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ kThreshold\ =\ 132;}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ kChunkSize\ =\ 64;}
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{//\ If\ the\ object\ size\ is\ bigger\ than\ kThreshold,\ we'll\ have\ to\ omit}}
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ some\ details\ by\ printing\ only\ the\ first\ and\ the\ last\ kChunkSize}}
\DoxyCodeLine{00097\ \ \ \textcolor{comment}{//\ bytes.}}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordflow}{if}\ (count\ <\ kThreshold)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ PrintByteSegmentInObjectTo(obj\_bytes,\ 0,\ count,\ os);}
\DoxyCodeLine{00100\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00101\ \ \ \ \ PrintByteSegmentInObjectTo(obj\_bytes,\ 0,\ kChunkSize,\ os);}
\DoxyCodeLine{00102\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\ ...\ "{}};}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ Rounds\ up\ to\ 2-\/byte\ boundary.}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ resume\_pos\ =\ (count\ -\/\ kChunkSize\ +\ 1)/2*2;}
\DoxyCodeLine{00105\ \ \ \ \ PrintByteSegmentInObjectTo(obj\_bytes,\ resume\_pos,\ count\ -\/\ resume\_pos,\ os);}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ \ \ *os\ <<\ \textcolor{stringliteral}{"{}>"{}};}
\DoxyCodeLine{00108\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{comment}{//\ Helpers\ for\ widening\ a\ character\ to\ char32\_t.\ Since\ the\ standard\ does\ not}}
\DoxyCodeLine{00111\ \textcolor{comment}{//\ specify\ if\ char\ /\ wchar\_t\ is\ signed\ or\ unsigned,\ it\ is\ important\ to\ first}}
\DoxyCodeLine{00112\ \textcolor{comment}{//\ convert\ it\ to\ the\ unsigned\ type\ of\ the\ same\ width\ before\ widening\ it\ to}}
\DoxyCodeLine{00113\ \textcolor{comment}{//\ char32\_t.}}
\DoxyCodeLine{00114\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharType>}
\DoxyCodeLine{00115\ \textcolor{keywordtype}{char32\_t}\ ToChar32(CharType\ in)\ \{}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char32\_t}\textcolor{keyword}{>}(}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}typename\ std::make\_unsigned<CharType>::type\textcolor{keyword}{>}(in));}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \}\ \ \textcolor{comment}{//\ namespace}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{comment}{//\ Delegates\ to\ PrintBytesInObjectToImpl()\ to\ print\ the\ bytes\ in\ the}}
\DoxyCodeLine{00125\ \textcolor{comment}{//\ given\ object.\ \ The\ delegation\ simplifies\ the\ implementation,\ which}}
\DoxyCodeLine{00126\ \textcolor{comment}{//\ uses\ the\ <<\ operator\ and\ thus\ is\ easier\ done\ outside\ of\ the}}
\DoxyCodeLine{00127\ \textcolor{comment}{//\ ::testing::internal\ namespace,\ which\ contains\ a\ <<\ operator\ that}}
\DoxyCodeLine{00128\ \textcolor{comment}{//\ sometimes\ conflicts\ with\ the\ one\ in\ STL.}}
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ PrintBytesInObjectTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ obj\_bytes,\ \textcolor{keywordtype}{size\_t}\ count,}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ostream*\ os)\ \{}
\DoxyCodeLine{00131\ \ \ PrintBytesInObjectToImpl(obj\_bytes,\ count,\ os);}
\DoxyCodeLine{00132\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{comment}{//\ Depending\ on\ the\ value\ of\ a\ char\ (or\ wchar\_t),\ we\ print\ it\ in\ one}}
\DoxyCodeLine{00135\ \textcolor{comment}{//\ of\ three\ formats:}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ \ \ -\/\ as\ is\ if\ it's\ a\ printable\ ASCII\ (e.g.\ 'a',\ '2',\ '\ '),}}
\DoxyCodeLine{00137\ \textcolor{comment}{//\ \ \ -\/\ as\ a\ hexadecimal\ escape\ sequence\ (e.g.\ '\(\backslash\)x7F'),\ or}}
\DoxyCodeLine{00138\ \textcolor{comment}{//\ \ \ -\/\ as\ a\ special\ escape\ sequence\ (e.g.\ '\(\backslash\)r',\ '\(\backslash\)n').}}
\DoxyCodeLine{00139\ \textcolor{keyword}{enum}\ CharFormat\ \{}
\DoxyCodeLine{00140\ \ \ kAsIs,}
\DoxyCodeLine{00141\ \ \ kHexEscape,}
\DoxyCodeLine{00142\ \ \ kSpecialEscape}
\DoxyCodeLine{00143\ \};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \textcolor{comment}{//\ Returns\ true\ if\ c\ is\ a\ printable\ ASCII\ character.\ \ We\ test\ the}}
\DoxyCodeLine{00146\ \textcolor{comment}{//\ value\ of\ c\ directly\ instead\ of\ calling\ isprint(),\ which\ is\ buggy\ on}}
\DoxyCodeLine{00147\ \textcolor{comment}{//\ Windows\ Mobile.}}
\DoxyCodeLine{00148\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsPrintableAscii(\textcolor{keywordtype}{char32\_t}\ c)\ \{\ \textcolor{keywordflow}{return}\ 0x20\ <=\ c\ \&\&\ c\ <=\ 0x7E;\ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{comment}{//\ Prints\ c\ (of\ type\ char,\ char8\_t,\ char16\_t,\ char32\_t,\ or\ wchar\_t)\ as\ a}}
\DoxyCodeLine{00151\ \textcolor{comment}{//\ character\ literal\ without\ the\ quotes,\ escaping\ it\ when\ necessary;\ returns\ how}}
\DoxyCodeLine{00152\ \textcolor{comment}{//\ c\ was\ formatted.}}
\DoxyCodeLine{00153\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00154\ \textcolor{keyword}{static}\ CharFormat\ PrintAsCharLiteralTo(Char\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00155\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char32\_t}\ u\_c\ =\ ToChar32(c);}
\DoxyCodeLine{00156\ \ \ \textcolor{keywordflow}{switch}\ (u\_c)\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)0'}:}
\DoxyCodeLine{00158\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)0"{}};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{00161\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)'"{}};}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:}
\DoxyCodeLine{00164\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)"{}};}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)a'}:}
\DoxyCodeLine{00167\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)a"{}};}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)b'}:}
\DoxyCodeLine{00170\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)b"{}};}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)f'}:}
\DoxyCodeLine{00173\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)f"{}};}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{00176\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)n"{}};}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)r'}:}
\DoxyCodeLine{00179\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)r"{}};}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{00182\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)t"{}};}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)v'}:}
\DoxyCodeLine{00185\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)v"{}};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsPrintableAscii(u\_c))\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ *os\ <<\ static\_cast<char>(c);}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ kAsIs;}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ ostream::fmtflags\ flags\ =\ os-\/>flags();}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)x"{}}\ <<\ std::hex\ <<\ std::uppercase\ <<\ static\_cast<int>(u\_c);}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ os-\/>flags(flags);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ kHexEscape;}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \}}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordflow}{return}\ kSpecialEscape;}
\DoxyCodeLine{00199\ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{comment}{//\ Prints\ a\ char32\_t\ c\ as\ if\ it's\ part\ of\ a\ string\ literal,\ escaping\ it\ when}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ necessary;\ returns\ how\ c\ was\ formatted.}}
\DoxyCodeLine{00203\ \textcolor{keyword}{static}\ CharFormat\ PrintAsStringLiteralTo(\textcolor{keywordtype}{char32\_t}\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{switch}\ (c)\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{00206\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}'"{}};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ kAsIs;}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordflow}{case}\ L\textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{00209\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)"{}"{}};}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ kSpecialEscape;}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ PrintAsCharLiteralTo(c,\ os);}
\DoxyCodeLine{00213\ \ \ \}}
\DoxyCodeLine{00214\ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{char})\ \{}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00218\ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char})\ \{}
\DoxyCodeLine{00221\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00222\ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char})\ \{}
\DoxyCodeLine{00225\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00226\ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00229\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{char8\_t})\ \{}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}u8"{}};}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{char16\_t})\ \{}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}u"{}};}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{char32\_t})\ \{}
\DoxyCodeLine{00239\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}U"{}};}
\DoxyCodeLine{00240\ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetCharWidthPrefix(\textcolor{keywordtype}{wchar\_t})\ \{}
\DoxyCodeLine{00243\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}L"{}};}
\DoxyCodeLine{00244\ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{comment}{//\ Prints\ a\ char\ c\ as\ if\ it's\ part\ of\ a\ string\ literal,\ escaping\ it\ when}}
\DoxyCodeLine{00247\ \textcolor{comment}{//\ necessary;\ returns\ how\ c\ was\ formatted.}}
\DoxyCodeLine{00248\ \textcolor{keyword}{static}\ CharFormat\ PrintAsStringLiteralTo(\textcolor{keywordtype}{char}\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00249\ \ \ \textcolor{keywordflow}{return}\ PrintAsStringLiteralTo(ToChar32(c),\ os);}
\DoxyCodeLine{00250\ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00253\ \textcolor{keyword}{static}\ CharFormat\ PrintAsStringLiteralTo(\textcolor{keywordtype}{char8\_t}\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00254\ \ \ \textcolor{keywordflow}{return}\ PrintAsStringLiteralTo(ToChar32(c),\ os);}
\DoxyCodeLine{00255\ \}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{keyword}{static}\ CharFormat\ PrintAsStringLiteralTo(\textcolor{keywordtype}{char16\_t}\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00259\ \ \ \textcolor{keywordflow}{return}\ PrintAsStringLiteralTo(ToChar32(c),\ os);}
\DoxyCodeLine{00260\ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{keyword}{static}\ CharFormat\ PrintAsStringLiteralTo(\textcolor{keywordtype}{wchar\_t}\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordflow}{return}\ PrintAsStringLiteralTo(ToChar32(c),\ os);}
\DoxyCodeLine{00264\ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \textcolor{comment}{//\ Prints\ a\ character\ c\ (of\ type\ char,\ char8\_t,\ char16\_t,\ char32\_t,\ or\ wchar\_t)}}
\DoxyCodeLine{00267\ \textcolor{comment}{//\ and\ its\ code.\ '\(\backslash\)0'\ is\ printed\ as\ "{}'\(\backslash\)\(\backslash\)0'"{},\ other\ unprintable\ characters\ are}}
\DoxyCodeLine{00268\ \textcolor{comment}{//\ also\ properly\ escaped\ using\ the\ standard\ C++\ escape\ sequence.}}
\DoxyCodeLine{00269\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00270\ \textcolor{keywordtype}{void}\ PrintCharAndCodeTo(Char\ c,\ ostream*\ os)\ \{}
\DoxyCodeLine{00271\ \ \ \textcolor{comment}{//\ First,\ print\ c\ as\ a\ literal\ in\ the\ most\ readable\ form\ we\ can\ find.}}
\DoxyCodeLine{00272\ \ \ *os\ <<\ GetCharWidthPrefix(c)\ <<\ \textcolor{stringliteral}{"{}'"{}};}
\DoxyCodeLine{00273\ \ \ \textcolor{keyword}{const}\ CharFormat\ format\ =\ PrintAsCharLiteralTo(c,\ os);}
\DoxyCodeLine{00274\ \ \ *os\ <<\ \textcolor{stringliteral}{"{}'"{}};}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \textcolor{comment}{//\ To\ aid\ user\ debugging,\ we\ also\ print\ c's\ code\ in\ decimal,\ unless}}
\DoxyCodeLine{00277\ \ \ \textcolor{comment}{//\ it's\ 0\ (in\ which\ case\ c\ was\ printed\ as\ '\(\backslash\)\(\backslash\)0',\ making\ the\ code}}
\DoxyCodeLine{00278\ \ \ \textcolor{comment}{//\ obvious).}}
\DoxyCodeLine{00279\ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ 0)}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00281\ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\ ("{}}\ <<\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(c);}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{//\ For\ more\ convenience,\ we\ print\ c's\ code\ again\ in\ hexadecimal,}}
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{//\ unless\ c\ was\ already\ printed\ in\ the\ form\ '\(\backslash\)x\#\#'\ or\ the\ code\ is\ in}}
\DoxyCodeLine{00285\ \ \ \textcolor{comment}{//\ [1,\ 9].}}
\DoxyCodeLine{00286\ \ \ \textcolor{keywordflow}{if}\ (format\ ==\ kHexEscape\ ||\ (1\ <=\ c\ \&\&\ c\ <=\ 9))\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ Do\ nothing.}}
\DoxyCodeLine{00288\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00289\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{},\ 0x"{}}\ <<\ String::FormatHexInt(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(c));}
\DoxyCodeLine{00290\ \ \ \}}
\DoxyCodeLine{00291\ \ \ *os\ <<\ \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{00292\ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ c,\ ::std::ostream*\ os)\ \{\ PrintCharAndCodeTo(c,\ os);\ \}}
\DoxyCodeLine{00295\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char}\ c,\ ::std::ostream*\ os)\ \{\ PrintCharAndCodeTo(c,\ os);\ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{comment}{//\ Prints\ a\ wchar\_t\ as\ a\ symbol\ if\ it\ is\ printable\ or\ as\ its\ internal}}
\DoxyCodeLine{00298\ \textcolor{comment}{//\ code\ otherwise\ and\ also\ as\ its\ code.\ \ L'\(\backslash\)0'\ is\ printed\ as\ "{}L'\(\backslash\)\(\backslash\)0'"{}.}}
\DoxyCodeLine{00299\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keywordtype}{wchar\_t}\ wc,\ ostream*\ os)\ \{\ PrintCharAndCodeTo(wc,\ os);\ \}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{comment}{//\ TODO(dcheng):\ Consider\ making\ this\ delegate\ to\ PrintCharAndCodeTo()\ as\ well.}}
\DoxyCodeLine{00302\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keywordtype}{char32\_t}\ c,\ ::std::ostream*\ os)\ \{}
\DoxyCodeLine{00303\ \ \ *os\ <<\ std::hex\ <<\ \textcolor{stringliteral}{"{}U+"{}}\ <<\ std::uppercase\ <<\ std::setfill(\textcolor{charliteral}{'0'})\ <<\ std::setw(4)}
\DoxyCodeLine{00304\ \ \ \ \ \ \ <<\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(c);}
\DoxyCodeLine{00305\ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{comment}{//\ gcc/clang\ \_\_\{u,\}int128\_t}}
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\#if\ defined(\_\_SIZEOF\_INT128\_\_)}}
\DoxyCodeLine{00309\ \textcolor{keywordtype}{void}\ PrintTo(\_\_uint128\_t\ v,\ ::std::ostream*\ os)\ \{}
\DoxyCodeLine{00310\ \ \ \textcolor{keywordflow}{if}\ (v\ ==\ 0)\ \{}
\DoxyCodeLine{00311\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}0"{}};}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00313\ \ \ \}}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \textcolor{comment}{//\ Buffer\ large\ enough\ for\ ceil(log10(2\string^128))==39\ and\ the\ null\ terminator}}
\DoxyCodeLine{00316\ \ \ \textcolor{keywordtype}{char}\ buf[40];}
\DoxyCodeLine{00317\ \ \ \textcolor{keywordtype}{char}*\ p\ =\ buf\ +\ \textcolor{keyword}{sizeof}(buf);}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \ \ \textcolor{comment}{//\ Some\ configurations\ have\ a\ \_\_uint128\_t,\ but\ no\ support\ for\ built\ in}}
\DoxyCodeLine{00320\ \ \ \textcolor{comment}{//\ division.\ Do\ manual\ long\ division\ instead.}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ uint64\_t\ high\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(v\ >>\ 64);}
\DoxyCodeLine{00323\ \ \ uint64\_t\ low\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(v);}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ *-\/-\/p\ =\ 0;}
\DoxyCodeLine{00326\ \ \ \textcolor{keywordflow}{while}\ (high\ !=\ 0\ ||\ low\ !=\ 0)\ \{}
\DoxyCodeLine{00327\ \ \ \ \ uint64\_t\ high\_mod\ =\ high\ \%\ 10;}
\DoxyCodeLine{00328\ \ \ \ \ high\ =\ high\ /\ 10;}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{comment}{//\ This\ is\ the\ long\ division\ algorithm\ specialized\ for\ a\ divisor\ of\ 10\ and}}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{comment}{//\ only\ two\ elements.}}
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{comment}{//\ Notable\ values:}}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{comment}{//\ \ \ 2\string^64\ /\ 10\ ==\ 1844674407370955161}}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{comment}{//\ \ \ 2\string^64\ \%\ 10\ ==\ 6}}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ carry\ =\ 6\ *\ high\_mod\ +\ low\ \%\ 10;}
\DoxyCodeLine{00335\ \ \ \ \ low\ =\ low\ /\ 10\ +\ high\_mod\ *\ 1844674407370955161\ +\ carry\ /\ 10;}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{keywordtype}{char}\ digit\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(carry\ \%\ 10);}
\DoxyCodeLine{00338\ \ \ \ \ *-\/-\/p\ =\ \textcolor{charliteral}{'0'}\ +\ digit;}
\DoxyCodeLine{00339\ \ \ \}}
\DoxyCodeLine{00340\ \ \ *os\ <<\ p;}
\DoxyCodeLine{00341\ \}}
\DoxyCodeLine{00342\ \textcolor{keywordtype}{void}\ PrintTo(\_\_int128\_t\ v,\ ::std::ostream*\ os)\ \{}
\DoxyCodeLine{00343\ \ \ \_\_uint128\_t\ uv\ =\ \textcolor{keyword}{static\_cast<}\_\_uint128\_t\textcolor{keyword}{>}(v);}
\DoxyCodeLine{00344\ \ \ \textcolor{keywordflow}{if}\ (v\ <\ 0)\ \{}
\DoxyCodeLine{00345\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}-\/"{}};}
\DoxyCodeLine{00346\ \ \ \ \ uv\ =\ -\/uv;}
\DoxyCodeLine{00347\ \ \ \}}
\DoxyCodeLine{00348\ \ \ PrintTo(uv,\ os);}
\DoxyCodeLine{00349\ \}}
\DoxyCodeLine{00350\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_\_SIZEOF\_INT128\_\_}}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \textcolor{comment}{//\ Prints\ the\ given\ array\ of\ characters\ to\ the\ ostream.\ \ CharType\ must\ be\ either}}
\DoxyCodeLine{00353\ \textcolor{comment}{//\ char,\ char8\_t,\ char16\_t,\ char32\_t,\ or\ wchar\_t.}}
\DoxyCodeLine{00354\ \textcolor{comment}{//\ The\ array\ starts\ at\ begin,\ the\ length\ is\ len,\ it\ may\ include\ '\(\backslash\)0'\ characters}}
\DoxyCodeLine{00355\ \textcolor{comment}{//\ and\ may\ not\ be\ NUL-\/terminated.}}
\DoxyCodeLine{00356\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharType>}
\DoxyCodeLine{00357\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}
\DoxyCodeLine{00358\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}
\DoxyCodeLine{00359\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}
\DoxyCodeLine{00360\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}
\DoxyCodeLine{00361\ \textcolor{keyword}{static}\ CharFormat\ PrintCharsAsStringTo(}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keyword}{const}\ CharType*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00363\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ quote\_prefix\ =\ GetCharWidthPrefix(*begin);}
\DoxyCodeLine{00364\ \ \ *os\ <<\ quote\_prefix\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00365\ \ \ \textcolor{keywordtype}{bool}\ is\_previous\_hex\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00366\ \ \ CharFormat\ print\_format\ =\ kAsIs;}
\DoxyCodeLine{00367\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 0;\ index\ <\ len;\ ++index)\ \{}
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keyword}{const}\ CharType\ cur\ =\ begin[index];}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_previous\_hex\ \&\&\ IsXDigit(cur))\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \textcolor{comment}{//\ Previous\ character\ is\ of\ '\(\backslash\)x..'\ form\ and\ this\ character\ can\ be}}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \textcolor{comment}{//\ interpreted\ as\ another\ hexadecimal\ digit\ in\ its\ number.\ Break\ string\ to}}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \textcolor{comment}{//\ disambiguate.}}
\DoxyCodeLine{00373\ \ \ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ "{}}\ <<\ quote\_prefix\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00374\ \ \ \ \ \}}
\DoxyCodeLine{00375\ \ \ \ \ is\_previous\_hex\ =\ PrintAsStringLiteralTo(cur,\ os)\ ==\ kHexEscape;}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{comment}{//\ Remember\ if\ any\ characters\ required\ hex\ escaping.}}
\DoxyCodeLine{00377\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_previous\_hex)\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ print\_format\ =\ kHexEscape;}
\DoxyCodeLine{00379\ \ \ \ \ \}}
\DoxyCodeLine{00380\ \ \ \}}
\DoxyCodeLine{00381\ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00382\ \ \ \textcolor{keywordflow}{return}\ print\_format;}
\DoxyCodeLine{00383\ \}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{comment}{//\ Prints\ a\ (const)\ char/wchar\_t\ array\ of\ 'len'\ elements,\ starting\ at\ address}}
\DoxyCodeLine{00386\ \textcolor{comment}{//\ 'begin'.\ \ CharType\ must\ be\ either\ char\ or\ wchar\_t.}}
\DoxyCodeLine{00387\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharType>}
\DoxyCodeLine{00388\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}
\DoxyCodeLine{00389\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}
\DoxyCodeLine{00390\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}
\DoxyCodeLine{00391\ GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}
\DoxyCodeLine{00392\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ UniversalPrintCharArray(}
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{keyword}{const}\ CharType*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00394\ \ \ \textcolor{comment}{//\ The\ code}}
\DoxyCodeLine{00395\ \ \ \textcolor{comment}{//\ \ \ const\ char\ kFoo[]\ =\ "{}foo"{};}}
\DoxyCodeLine{00396\ \ \ \textcolor{comment}{//\ generates\ an\ array\ of\ 4,\ not\ 3,\ elements,\ with\ the\ last\ one\ being\ '\(\backslash\)0'.}}
\DoxyCodeLine{00397\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00398\ \ \ \textcolor{comment}{//\ Therefore\ when\ printing\ a\ char\ array,\ we\ don't\ print\ the\ last\ element\ if}}
\DoxyCodeLine{00399\ \ \ \textcolor{comment}{//\ it's\ '\(\backslash\)0',\ such\ that\ the\ output\ matches\ the\ string\ literal\ as\ it's}}
\DoxyCodeLine{00400\ \ \ \textcolor{comment}{//\ written\ in\ the\ source\ code.}}
\DoxyCodeLine{00401\ \ \ \textcolor{keywordflow}{if}\ (len\ >\ 0\ \&\&\ begin[len\ -\/\ 1]\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})\ \{}
\DoxyCodeLine{00402\ \ \ \ \ PrintCharsAsStringTo(begin,\ len\ -\/\ 1,\ os);}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00404\ \ \ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \textcolor{comment}{//\ If,\ however,\ the\ last\ element\ in\ the\ array\ is\ not\ '\(\backslash\)0',\ e.g.}}
\DoxyCodeLine{00407\ \ \ \textcolor{comment}{//\ \ \ \ const\ char\ kFoo[]\ =\ \{\ 'f',\ 'o',\ 'o'\ \};}}
\DoxyCodeLine{00408\ \ \ \textcolor{comment}{//\ we\ must\ print\ the\ entire\ array.\ \ We\ also\ print\ a\ message\ to\ indicate}}
\DoxyCodeLine{00409\ \ \ \textcolor{comment}{//\ that\ the\ array\ is\ not\ NUL-\/terminated.}}
\DoxyCodeLine{00410\ \ \ PrintCharsAsStringTo(begin,\ len,\ os);}
\DoxyCodeLine{00411\ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\ (no\ terminating\ NUL)"{}};}
\DoxyCodeLine{00412\ \}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{comment}{//\ Prints\ a\ (const)\ char\ array\ of\ 'len'\ elements,\ starting\ at\ address\ 'begin'.}}
\DoxyCodeLine{00415\ \textcolor{keywordtype}{void}\ UniversalPrintArray(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00416\ \ \ UniversalPrintCharArray(begin,\ len,\ os);}
\DoxyCodeLine{00417\ \}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00420\ \textcolor{comment}{//\ Prints\ a\ (const)\ char8\_t\ array\ of\ 'len'\ elements,\ starting\ at\ address}}
\DoxyCodeLine{00421\ \textcolor{comment}{//\ 'begin'.}}
\DoxyCodeLine{00422\ \textcolor{keywordtype}{void}\ UniversalPrintArray(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char8\_t}*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00423\ \ \ UniversalPrintCharArray(begin,\ len,\ os);}
\DoxyCodeLine{00424\ \}}
\DoxyCodeLine{00425\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \textcolor{comment}{//\ Prints\ a\ (const)\ char16\_t\ array\ of\ 'len'\ elements,\ starting\ at\ address}}
\DoxyCodeLine{00428\ \textcolor{comment}{//\ 'begin'.}}
\DoxyCodeLine{00429\ \textcolor{keywordtype}{void}\ UniversalPrintArray(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00430\ \ \ UniversalPrintCharArray(begin,\ len,\ os);}
\DoxyCodeLine{00431\ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \textcolor{comment}{//\ Prints\ a\ (const)\ char32\_t\ array\ of\ 'len'\ elements,\ starting\ at\ address}}
\DoxyCodeLine{00434\ \textcolor{comment}{//\ 'begin'.}}
\DoxyCodeLine{00435\ \textcolor{keywordtype}{void}\ UniversalPrintArray(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char32\_t}*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00436\ \ \ UniversalPrintCharArray(begin,\ len,\ os);}
\DoxyCodeLine{00437\ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \textcolor{comment}{//\ Prints\ a\ (const)\ wchar\_t\ array\ of\ 'len'\ elements,\ starting\ at\ address}}
\DoxyCodeLine{00440\ \textcolor{comment}{//\ 'begin'.}}
\DoxyCodeLine{00441\ \textcolor{keywordtype}{void}\ UniversalPrintArray(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ begin,\ \textcolor{keywordtype}{size\_t}\ len,\ ostream*\ os)\ \{}
\DoxyCodeLine{00442\ \ \ UniversalPrintCharArray(begin,\ len,\ os);}
\DoxyCodeLine{00443\ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \textcolor{comment}{//\ Prints\ a\ null-\/terminated\ C-\/style\ string\ to\ the\ ostream.}}
\DoxyCodeLine{00448\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00449\ \textcolor{keywordtype}{void}\ PrintCStringTo(\textcolor{keyword}{const}\ Char*\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00450\ \ \ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00451\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}NULL"{}};}
\DoxyCodeLine{00452\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00453\ \ \ \ \ *os\ <<\ ImplicitCast\_<const\ void*>(s)\ <<\ \textcolor{stringliteral}{"{}\ pointing\ to\ "{}};}
\DoxyCodeLine{00454\ \ \ \ \ PrintCharsAsStringTo(s,\ std::char\_traits<Char>::length(s),\ os);}
\DoxyCodeLine{00455\ \ \ \}}
\DoxyCodeLine{00456\ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \}\ \ \textcolor{comment}{//\ anonymous\ namespace}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ ostream*\ os)\ \{\ PrintCStringTo(s,\ os);\ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00463\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char8\_t}*\ s,\ ostream*\ os)\ \{\ PrintCStringTo(s,\ os);\ \}}
\DoxyCodeLine{00464\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ s,\ ostream*\ os)\ \{\ PrintCStringTo(s,\ os);\ \}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char32\_t}*\ s,\ ostream*\ os)\ \{\ PrintCStringTo(s,\ os);\ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \textcolor{comment}{//\ MSVC\ compiler\ can\ be\ configured\ to\ define\ whar\_t\ as\ a\ typedef}}
\DoxyCodeLine{00471\ \textcolor{comment}{//\ of\ unsigned\ short.\ Defining\ an\ overload\ for\ const\ wchar\_t*\ in\ that\ case}}
\DoxyCodeLine{00472\ \textcolor{comment}{//\ would\ cause\ pointers\ to\ unsigned\ shorts\ be\ printed\ as\ wide\ strings,}}
\DoxyCodeLine{00473\ \textcolor{comment}{//\ possibly\ accessing\ more\ memory\ than\ intended\ and\ causing\ invalid}}
\DoxyCodeLine{00474\ \textcolor{comment}{//\ memory\ accesses.\ MSVC\ defines\ \_NATIVE\_WCHAR\_T\_DEFINED\ symbol\ when}}
\DoxyCodeLine{00475\ \textcolor{comment}{//\ wchar\_t\ is\ implemented\ as\ a\ native\ type.}}
\DoxyCodeLine{00476\ \textcolor{preprocessor}{\#if\ !defined(\_MSC\_VER)\ ||\ defined(\_NATIVE\_WCHAR\_T\_DEFINED)}}
\DoxyCodeLine{00477\ \textcolor{comment}{//\ Prints\ the\ given\ wide\ C\ string\ to\ the\ ostream.}}
\DoxyCodeLine{00478\ \textcolor{keywordtype}{void}\ PrintTo(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ s,\ ostream*\ os)\ \{\ PrintCStringTo(s,\ os);\ \}}
\DoxyCodeLine{00479\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ wchar\_t\ is\ native}}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00481\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \textcolor{keywordtype}{bool}\ ContainsUnprintableControlCodes(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{size\_t}\ length)\ \{}
\DoxyCodeLine{00484\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *s\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{>}(str);}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ ch\ =\ *s++;}
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::iscntrl(ch))\ \{}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (ch)\ \{}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)r'}:}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00498\ \ \ \}}
\DoxyCodeLine{00499\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00500\ \}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \textcolor{keywordtype}{bool}\ IsUTF8TrailByte(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ t)\ \{\ \textcolor{keywordflow}{return}\ 0x80\ <=\ t\ \&\&\ t<=\ 0xbf;\ \}}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00504\ \textcolor{keywordtype}{bool}\ IsValidUTF8(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{size\_t}\ length)\ \{}
\DoxyCodeLine{00505\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *s\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{>}(str);}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;)\ \{}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ lead\ =\ s[i++];}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keywordflow}{if}\ (lead\ <=\ 0x7f)\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};\ \ \textcolor{comment}{//\ single-\/byte\ character\ (ASCII)\ 0..7F}}
\DoxyCodeLine{00512\ \ \ \ \ \}}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{if}\ (lead\ <\ 0xc2)\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \ \textcolor{comment}{//\ trail\ byte\ or\ non-\/shortest\ form}}
\DoxyCodeLine{00515\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (lead\ <=\ 0xdf\ \&\&\ (i\ +\ 1)\ <=\ length\ \&\&\ IsUTF8TrailByte(s[i]))\ \{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ ++i;\ \ \textcolor{comment}{//\ 2-\/byte\ character}}
\DoxyCodeLine{00517\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (0xe0\ <=\ lead\ \&\&\ lead\ <=\ 0xef\ \&\&\ (i\ +\ 2)\ <=\ length\ \&\&}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IsUTF8TrailByte(s[i])\ \&\&}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IsUTF8TrailByte(s[i\ +\ 1])\ \&\&}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ non-\/shortest\ form\ and\ surrogate}}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (lead\ !=\ 0xe0\ ||\ s[i]\ >=\ 0xa0)\ \&\&}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (lead\ !=\ 0xed\ ||\ s[i]\ <\ 0xa0))\ \{}
\DoxyCodeLine{00523\ \ \ \ \ \ \ i\ +=\ 2;\ \ \textcolor{comment}{//\ 3-\/byte\ character}}
\DoxyCodeLine{00524\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (0xf0\ <=\ lead\ \&\&\ lead\ <=\ 0xf4\ \&\&\ (i\ +\ 3)\ <=\ length\ \&\&}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IsUTF8TrailByte(s[i])\ \&\&}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IsUTF8TrailByte(s[i\ +\ 1])\ \&\&}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IsUTF8TrailByte(s[i\ +\ 2])\ \&\&}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ non-\/shortest\ form}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (lead\ !=\ 0xf0\ ||\ s[i]\ >=\ 0x90)\ \&\&}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (lead\ !=\ 0xf4\ ||\ s[i]\ <\ 0x90))\ \{}
\DoxyCodeLine{00531\ \ \ \ \ \ \ i\ +=\ 3;\ \ \textcolor{comment}{//\ 4-\/byte\ character}}
\DoxyCodeLine{00532\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00534\ \ \ \ \ \}}
\DoxyCodeLine{00535\ \ \ \}}
\DoxyCodeLine{00536\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00537\ \}}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00539\ \textcolor{keywordtype}{void}\ ConditionalPrintAsText(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{size\_t}\ length,\ ostream*\ os)\ \{}
\DoxyCodeLine{00540\ \ \ \textcolor{keywordflow}{if}\ (!ContainsUnprintableControlCodes(str,\ length)\ \&\&}
\DoxyCodeLine{00541\ \ \ \ \ \ \ IsValidUTF8(str,\ length))\ \{}
\DoxyCodeLine{00542\ \ \ \ \ *os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n\ \ \ \ As\ Text:\ \(\backslash\)"{}"{}}\ <<\ str\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00543\ \ \ \}}
\DoxyCodeLine{00544\ \}}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \}\ \ \textcolor{comment}{//\ anonymous\ namespace}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \textcolor{keywordtype}{void}\ PrintStringTo(const\ ::std::string\&\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00549\ \ \ \textcolor{keywordflow}{if}\ (PrintCharsAsStringTo(s.data(),\ s.size(),\ os)\ ==\ kHexEscape)\ \{}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{if}\ (GTEST\_FLAG\_GET(print\_utf8))\ \{}
\DoxyCodeLine{00551\ \ \ \ \ \ \ ConditionalPrintAsText(s.data(),\ s.size(),\ os);}
\DoxyCodeLine{00552\ \ \ \ \ \}}
\DoxyCodeLine{00553\ \ \ \}}
\DoxyCodeLine{00554\ \}}
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00556\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00557\ \textcolor{keywordtype}{void}\ PrintU8StringTo(const\ ::std::u8string\&\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00558\ \ \ PrintCharsAsStringTo(s.data(),\ s.size(),\ os);}
\DoxyCodeLine{00559\ \}}
\DoxyCodeLine{00560\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \textcolor{keywordtype}{void}\ PrintU16StringTo(const\ ::std::u16string\&\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00563\ \ \ PrintCharsAsStringTo(s.data(),\ s.size(),\ os);}
\DoxyCodeLine{00564\ \}}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \textcolor{keywordtype}{void}\ PrintU32StringTo(const\ ::std::u32string\&\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00567\ \ \ PrintCharsAsStringTo(s.data(),\ s.size(),\ os);}
\DoxyCodeLine{00568\ \}}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \textcolor{preprocessor}{\#if\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00571\ \textcolor{keywordtype}{void}\ PrintWideStringTo(const\ ::std::wstring\&\ s,\ ostream*\ os)\ \{}
\DoxyCodeLine{00572\ \ \ PrintCharsAsStringTo(s.data(),\ s.size(),\ os);}
\DoxyCodeLine{00573\ \}}
\DoxyCodeLine{00574\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}

\end{DoxyCode}
