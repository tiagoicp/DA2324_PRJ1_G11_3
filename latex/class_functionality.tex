\doxysection{Functionality Class Reference}
\hypertarget{class_functionality}{}\label{class_functionality}\index{Functionality@{Functionality}}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{string}} \mbox{\hyperlink{class_functionality_aa692217ca298a79d1efff339ed60c41c}{max\+Flow\+City}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}}, \mbox{\hyperlink{class_edge}{string}} \&\mbox{\hyperlink{class_edge}{city\+Code}})
\item 
\Hypertarget{class_functionality_a4712905099ad5dd3acc19b506413dc09}\label{class_functionality_a4712905099ad5dd3acc19b506413dc09} 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{vector}}$<$ \mbox{\hyperlink{class_edge}{string}} $>$ {\bfseries max\+Flow\+Graph} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}})
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{vector}}$<$ \mbox{\hyperlink{class_edge}{string}} $>$ \mbox{\hyperlink{class_functionality_acf6a2aaabe1b5296ab646c70e0593bac}{max\+Flow\+Graph}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}}, \mbox{\hyperlink{class_edge}{bool}} \mbox{\hyperlink{class_edge}{inverse\+Order}})
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{void}} \mbox{\hyperlink{class_functionality_a8861df8102375ae34e4848b2328ac1e2}{balance\+Max\+Flow\+Graph}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}})
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{void}} \mbox{\hyperlink{class_functionality_aa910200c508b9fc64724a2fbf9f3ee15}{remove\+Reservoir\+And\+List\+Affected\+Cities}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}}, \mbox{\hyperlink{class_edge}{const}} \mbox{\hyperlink{class_edge}{string}} \&\mbox{\hyperlink{class_edge}{reservoir\+Code}})
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{void}} \mbox{\hyperlink{class_functionality_a93e7a0d2599fa721fa346c703eb2c4a5}{check\+Useless\+Pumping\+Stations}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}})
\item 
\mbox{\hyperlink{class_edge}{static}} \mbox{\hyperlink{class_edge}{void}} \mbox{\hyperlink{class_functionality_a6b7bb383d1ed6ce93e37c7301db2f4a7}{check\+Critical\+Pipes}} (\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&\mbox{\hyperlink{class_edge}{graph}})
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_functionality_a8861df8102375ae34e4848b2328ac1e2}\label{class_functionality_a8861df8102375ae34e4848b2328ac1e2} 
\index{Functionality@{Functionality}!balanceMaxFlowGraph@{balanceMaxFlowGraph}}
\index{balanceMaxFlowGraph@{balanceMaxFlowGraph}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{balanceMaxFlowGraph()}{balanceMaxFlowGraph()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{void}} Functionality\+::balance\+Max\+Flow\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This function generates two alternatives and then attempts to reconcile their differences, trying to pick the best alternative from each "{}splitting node"{} and rejecting the worst

Time Complexity = O(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}2) We need to run Edmonds\+Karp twice, then do several linear operations \Hypertarget{class_functionality_a6b7bb383d1ed6ce93e37c7301db2f4a7}\label{class_functionality_a6b7bb383d1ed6ce93e37c7301db2f4a7} 
\index{Functionality@{Functionality}!checkCriticalPipes@{checkCriticalPipes}}
\index{checkCriticalPipes@{checkCriticalPipes}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{checkCriticalPipes()}{checkCriticalPipes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{void}} Functionality\+::check\+Critical\+Pipes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Similarly to the previous two functions, this one calculates max\+Flow\+Graph, then, for each edge of the graph, sets its capacity to 0, recalculates max flow and checks which cities got affected.

Time Complexity = O(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}3) (We run Edmonds\+Karp for each edge of the graph) \Hypertarget{class_functionality_a93e7a0d2599fa721fa346c703eb2c4a5}\label{class_functionality_a93e7a0d2599fa721fa346c703eb2c4a5} 
\index{Functionality@{Functionality}!checkUselessPumpingStations@{checkUselessPumpingStations}}
\index{checkUselessPumpingStations@{checkUselessPumpingStations}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{checkUselessPumpingStations()}{checkUselessPumpingStations()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{void}} Functionality\+::check\+Useless\+Pumping\+Stations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This function uses the previous max\+Flow\+Graph to calculate and memorize the total sink flow as well as each city\textquotesingle{}s incoming flow, then for each Pumping Station sets its outgoing edges to 0 capacity, recalculates maximum flow and, if the total sink flow is different, checks which cities got affected. Note that, while the overall flow is smaller, some cities get increased flow because of the rearrangement of the graph.

Time Complexity = O(\+P\texorpdfstring{$\ast$}{*}(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}2)) P = Number of Pumping Stations (We run Edmonds\+Karp for each PS). \Hypertarget{class_functionality_aa692217ca298a79d1efff339ed60c41c}\label{class_functionality_aa692217ca298a79d1efff339ed60c41c} 
\index{Functionality@{Functionality}!maxFlowCity@{maxFlowCity}}
\index{maxFlowCity@{maxFlowCity}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{maxFlowCity()}{maxFlowCity()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{string}} Functionality\+::max\+Flow\+City (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph,  }\item[{\mbox{\hyperlink{class_edge}{string}} \&}]{city\+Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This function checks what could be the maximum flow for the selected city, if each reservoir that can reach it would only try to send water to that city (imagine only the selected city exists, no other).

Time Complexity = O(\+S\texorpdfstring{$\ast$}{*}(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}2)) S= Number of Sources(\+Reservoirs). \Hypertarget{class_functionality_acf6a2aaabe1b5296ab646c70e0593bac}\label{class_functionality_acf6a2aaabe1b5296ab646c70e0593bac} 
\index{Functionality@{Functionality}!maxFlowGraph@{maxFlowGraph}}
\index{maxFlowGraph@{maxFlowGraph}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{maxFlowGraph()}{maxFlowGraph()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{vector}}$<$ \mbox{\hyperlink{class_edge}{string}} $>$ Functionality\+::max\+Flow\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph,  }\item[{\mbox{\hyperlink{class_edge}{bool}}}]{inverse\+Order }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This function uses a "{}\+Master Source"{} node connected to all Reservoirs and a "{}\+Master Sink"{} that all Cities are connected to, to calculate the maximum flow for the entire graph.

Time Complexity = O(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}2) (We run Edmonds\+Karp only once) \Hypertarget{class_functionality_aa910200c508b9fc64724a2fbf9f3ee15}\label{class_functionality_aa910200c508b9fc64724a2fbf9f3ee15} 
\index{Functionality@{Functionality}!removeReservoirAndListAffectedCities@{removeReservoirAndListAffectedCities}}
\index{removeReservoirAndListAffectedCities@{removeReservoirAndListAffectedCities}!Functionality@{Functionality}}
\doxysubsubsection{\texorpdfstring{removeReservoirAndListAffectedCities()}{removeReservoirAndListAffectedCities()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_edge}{void}} Functionality\+::remove\+Reservoir\+And\+List\+Affected\+Cities (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_water_supply}{Water\+Supply}} \&}]{graph,  }\item[{\mbox{\hyperlink{class_edge}{const}} \mbox{\hyperlink{class_edge}{string}} \&}]{reservoir\+Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This function uses the previous max\+Flow\+Graph to calculate and memorize each city\textquotesingle{}s incoming flow, removes the selected reservoir from the graph(actually sets the capacity of the reservoir\textquotesingle{}s outgoing edges to 0), recalculates the maximum flow of the new graph and then compares each city\textquotesingle{}s new incoming flow value to the old one.

Time Complexity = O(\+V\texorpdfstring{$\ast$}{*}\+E\texorpdfstring{$^\wedge$}{\string^}2) (We run Edmonds\+Karp twice) 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
functionalities/Functionality.\+h\item 
functionalities/Functionality.\+cpp\end{DoxyCompactItemize}
